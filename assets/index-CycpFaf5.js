(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var vf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function p0(){if(Gp)return Ol;Gp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var m=null;if(h!==void 0&&(m=""+h),o.key!==void 0&&(m=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:m,ref:o!==void 0?o:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Qp;function y0(){return Qp||(Qp=1,vf.exports=p0()),vf.exports}var pt=y0(),Ef={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function _0(){if(Yp)return At;Yp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function Z(C,X,nt){this.props=C,this.context=X,this.refs=J,this.updater=nt||Q}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function mt(){}mt.prototype=Z.prototype;function _t(C,X,nt){this.props=C,this.context=X,this.refs=J,this.updater=nt||Q}var ct=_t.prototype=new mt;ct.constructor=_t,W(ct,Z.prototype),ct.isPureReactComponent=!0;var kt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function N(C,X,nt,$,ut,bt){return nt=bt.ref,{$$typeof:s,type:C,key:X,ref:nt!==void 0?nt:null,props:bt}}function S(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function V(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var I=/\/+/g;function x(C,X){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):X.toString(36)}function R(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,nt,$,ut){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case s:case e:yt=!0;break;case A:return yt=C._init,re(yt(C._payload),X,nt,$,ut)}}if(yt)return ut=ut(C),yt=$===""?"."+x(C,0):$,kt(ut)?(nt="",yt!=null&&(nt=yt.replace(I,"$&/")+"/"),re(ut,X,nt,"",function(xn){return xn})):ut!=null&&(w(ut)&&(ut=S(ut,nt+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(I,"$&/")+"/")+yt)),X.push(ut)),1;yt=0;var Re=$===""?".":$+":";if(kt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],bt=Re+x($,Zt),yt+=re($,X,nt,bt,ut);else if(Zt=U(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,bt=Re+x($,Zt++),yt+=re($,X,nt,bt,ut);else if(bt==="object"){if(typeof C.then=="function")return re(Oe(C),X,nt,$,ut);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function j(C,X,nt){if(C==null)return C;var $=[],ut=0;return re(C,$,"","",function(bt){return X.call(nt,bt,ut++)}),$}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return At.Children={map:j,forEach:function(C,X,nt){j(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return j(C,function(){X++}),X},toArray:function(C){return j(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=Z,At.Fragment=i,At.Profiler=o,At.PureComponent=_t,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Tt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=W({},C.props),ut=C.key,bt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ut=""+X.key),X)!Pt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||($[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)$.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return N(C.type,ut,void 0,void 0,bt,$)},At.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,X,nt){var $,ut={},bt=null;if(X!=null)for($ in X.key!==void 0&&(bt=""+X.key),X)Pt.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ut[$]=X[$]);var yt=arguments.length-2;if(yt===1)ut.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ut.children=Re}if(C&&C.defaultProps)for($ in yt=C.defaultProps,yt)ut[$]===void 0&&(ut[$]=yt[$]);return N(C,bt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:y,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},At.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},At.startTransition=function(C){var X=Tt.T,nt={};Tt.T=nt;try{var $=C(),ut=Tt.S;ut!==null&&ut(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Lt,lt)}catch(bt){lt(bt)}finally{Tt.T=X}},At.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},At.use=function(C){return Tt.H.use(C)},At.useActionState=function(C,X,nt){return Tt.H.useActionState(C,X,nt)},At.useCallback=function(C,X){return Tt.H.useCallback(C,X)},At.useContext=function(C){return Tt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,X){return Tt.H.useDeferredValue(C,X)},At.useEffect=function(C,X,nt){var $=Tt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,X)},At.useId=function(){return Tt.H.useId()},At.useImperativeHandle=function(C,X,nt){return Tt.H.useImperativeHandle(C,X,nt)},At.useInsertionEffect=function(C,X){return Tt.H.useInsertionEffect(C,X)},At.useLayoutEffect=function(C,X){return Tt.H.useLayoutEffect(C,X)},At.useMemo=function(C,X){return Tt.H.useMemo(C,X)},At.useOptimistic=function(C,X){return Tt.H.useOptimistic(C,X)},At.useReducer=function(C,X,nt){return Tt.H.useReducer(C,X,nt)},At.useRef=function(C){return Tt.H.useRef(C)},At.useState=function(C){return Tt.H.useState(C)},At.useSyncExternalStore=function(C,X,nt){return Tt.H.useSyncExternalStore(C,X,nt)},At.useTransition=function(){return Tt.H.useTransition()},At.version="19.1.1",At}var Fp;function nd(){return Fp||(Fp=1,Ef.exports=_0()),Ef.exports}var or=nd(),Tf={exports:{}},Ml={},Af={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function v0(){return Xp||(Xp=1,function(s){function e(j,et){var lt=j.length;j.push(et);t:for(;0<lt;){var Lt=lt-1>>>1,C=j[Lt];if(0<o(C,et))j[Lt]=et,j[lt]=C,lt=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var et=j[0],lt=j.pop();if(lt!==et){j[0]=lt;t:for(var Lt=0,C=j.length,X=C>>>1;Lt<X;){var nt=2*(Lt+1)-1,$=j[nt],ut=nt+1,bt=j[ut];if(0>o($,lt))ut<C&&0>o(bt,$)?(j[Lt]=bt,j[ut]=lt,Lt=ut):(j[Lt]=$,j[nt]=lt,Lt=nt);else if(ut<C&&0>o(bt,lt))j[Lt]=bt,j[ut]=lt,Lt=ut;else break t}}return et}function o(j,et){var lt=j.sortIndex-et.sortIndex;return lt!==0?lt:j.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],_=[],A=1,O=null,U=3,Q=!1,W=!1,J=!1,Z=!1,mt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function kt(j){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=j)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Tt(j){if(J=!1,kt(j),!W)if(i(v)!==null)W=!0,Pt||(Pt=!0,x());else{var et=i(_);et!==null&&re(Tt,et.startTime-j)}}var Pt=!1,N=-1,S=5,w=-1;function V(){return Z?!0:!(s.unstable_now()-w<S)}function I(){if(Z=!1,Pt){var j=s.unstable_now();w=j;var et=!0;try{t:{W=!1,J&&(J=!1,_t(N),N=-1),Q=!0;var lt=U;try{e:{for(kt(j),O=i(v);O!==null&&!(O.expirationTime>j&&V());){var Lt=O.callback;if(typeof Lt=="function"){O.callback=null,U=O.priorityLevel;var C=Lt(O.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){O.callback=C,kt(j),et=!0;break e}O===i(v)&&a(v),kt(j)}else a(v);O=i(v)}if(O!==null)et=!0;else{var X=i(_);X!==null&&re(Tt,X.startTime-j),et=!1}}break t}finally{O=null,U=lt,Q=!1}et=void 0}}finally{et?x():Pt=!1}}}var x;if(typeof ct=="function")x=function(){ct(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=I,x=function(){Oe.postMessage(null)}}else x=function(){mt(I,0)};function re(j,et){N=mt(function(){j(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_next=function(j){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var lt=U;U=et;try{return j()}finally{U=lt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(j,et){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=U;U=j;try{return et()}finally{U=lt}},s.unstable_scheduleCallback=function(j,et,lt){var Lt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,j={id:A++,callback:et,priorityLevel:j,startTime:lt,expirationTime:C,sortIndex:-1},lt>Lt?(j.sortIndex=lt,e(_,j),i(v)===null&&j===i(_)&&(J?(_t(N),N=-1):J=!0,re(Tt,lt-Lt))):(j.sortIndex=C,e(v,j),W||Q||(W=!0,Pt||(Pt=!0,x()))),j},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(j){var et=U;return function(){var lt=U;U=et;try{return j.apply(this,arguments)}finally{U=lt}}}}(Sf)),Sf}var Kp;function E0(){return Kp||(Kp=1,Af.exports=v0()),Af.exports}var bf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function T0(){if(Zp)return Ge;Zp=1;var s=nd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=m.T,A=a.p;try{if(m.T=null,a.p=2,v)return v()}finally{m.T=_,a.p=A,a.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=y(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:Q}):A==="script"&&a.d.X(v,{crossOrigin:O,integrity:U,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=y(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ge.requestFormReset=function(v){a.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var Jp;function A0(){if(Jp)return bf.exports;Jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bf.exports=T0(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function S0(){if($p)return Ml;$p=1;var s=E0(),e=nd(),i=A0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),_t=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case Z:return"Profiler";case J:return"StrictMode";case Tt:return"Suspense";case Pt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case _t:return(t._context.displayName||"Context")+".Consumer";case kt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function X(t){return{current:t}}function nt(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function $(t,n){C++,Lt[C]=t.current,t.current=n}var ut=X(null),bt=X(null),yt=X(null),Re=X(null);function Zt(t,n){switch($(yt,n),$(bt,t),$(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_p(n),t=vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),$(ut,t)}function xn(){nt(ut),nt(bt),nt(yt)}function xi(t){t.memoizedState!==null&&$(Re,t);var n=ut.current,r=vp(n,t.type);n!==r&&($(bt,t),$(ut,r))}function ri(t){bt.current===t&&(nt(ut),nt(bt)),Re.current===t&&(nt(Re),Cl._currentValue=lt)}var Ar=Object.prototype.hasOwnProperty,Sr=s.unstable_scheduleCallback,br=s.unstable_cancelCallback,bs=s.unstable_shouldYield,nu=s.unstable_requestPaint,fn=s.unstable_now,_c=s.unstable_getCurrentPriorityLevel,Rs=s.unstable_ImmediatePriority,da=s.unstable_UserBlockingPriority,Rr=s.unstable_NormalPriority,vc=s.unstable_LowPriority,ma=s.unstable_IdlePriority,ws=s.log,iu=s.unstable_setDisableYieldValue,ae=null,jt=null;function nn(t){if(typeof ws=="function"&&iu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:wr,ru=Math.log,Ec=Math.LN2;function wr(t){return t>>>=0,t===0?32:31-(ru(t)/Ec|0)|0}var Cr=256,Dr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ga(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(p&=E,p!==0?c=Cn(p):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):p!==0?c=Cn(p):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Vr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Cs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ds(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Vs(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Is(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var H=31-je(r),Y=1<<H;E[H]=0,b[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ns(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Pp(t.type))}function au(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,fe="__reactProps$"+te,dn="__reactContainer$"+te,Os="__reactEvents$"+te,Tc="__reactListeners$"+te,zi="__reactHandles$"+te,su="__reactResources$"+te,Ir="__reactMarker$"+te;function Pi(t){delete t[_e],delete t[fe],delete t[Os],delete t[Tc],delete t[zi]}function li(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sp(t);t!==null;){if(r=t[_e])return r;t=Sp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[su];return n||(n=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Ir]=!0}var Ms=new Set,ya={};function Dn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(ya[t]=n,t=0;t<n.length;t++)Ms.add(n[t])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},Nr={};function ou(t){return Ar.call(Nr,t)?!0:Ar.call(uu,t)?!1:lu.test(t)?Nr[t]=!0:(uu[t]=!0,!1)}function Bi(t,n,r){if(ou(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Or,cu;function oi(t){if(Or===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Or=n&&n[1]||"",cu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+t+cu}var _a=!1;function va(t,n){if(!t||_a)return"";_a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{_a=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function xs(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return va(t.type,!1);case 11:return va(t.type.render,!1);case 1:return va(t.type,!0);case 31:return oi("Activity");default:return""}}function Ea(t){try{var n="";do n+=xs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ac(t){var n=Us(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ta(t){t._valueTracker||(t._valueTracker=Ac(t))}function Ls(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Us(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sc=/[\n"\\]/g;function de(t){return t.replace(Sc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?qi(t,p,Ke(n)):r!=null?qi(t,p,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function xr(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function qi(t,n,r){n==="number"&&Mr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Ur(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Lr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function zs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&hu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&hu(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Rc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Bs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ls(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Bn=!1;function fu(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(fi!==null||di!==null)&&(ao(),fi&&(n=fi,t=di,di=fi=null,Bs(n),t)))for(n=0;n<t.length;n++)Bs(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Vn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{pn=!1}var qn=null,ki=null,mi=null;function qs(){if(mi)return mi;var t,n=ki,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function ks(){return!1}function we(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:ks,this.isPropagationStopped=ks,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=we(Bt),Br=A({},Bt,{view:0,detail:0}),du=we(Br),ba,Ra,Hn,qr=A({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(ba=t.screenX-Hn.screenX,Ra=t.screenY-Hn.screenY):Ra=ba=0,Hn=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),yn=we(qr),mu=A({},qr,{dataTransfer:0}),wc=we(mu),kr=A({},Br,{relatedTarget:0}),wa=we(kr),js=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=we(js),gu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Da=we(gu),Cc=A({},Bt,{data:0}),Hs=we(Cc),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function Hr(){return Gs}var _u=A({},Br,{key:function(t){if(t.key){var n=jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=we(_u),vu=A({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=we(vu),gi=A({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Eu=we(gi),Tu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=we(Tu),Su=A({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=we(Su),Ze=A({},Bt,{newState:0,oldState:0}),bu=we(Ze),Ru=[9,13,27,32],Gn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var d=Vn&&"TextEvent"in window&&!u,g=Vn&&(!Gn||u&&8<u&&11>=u),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return Ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ve(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Gn&&k(t,n)?(t=qs(),mi=ki=qn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=ho(n,"onChange"),0<n.length&&(r=new Sa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Qn=null;function Ys(t){dp(t,0)}function wu(t){var n=zn(t);if(Ls(n))return t}function xd(t,n){if(t==="change")return n}var Ud=!1;if(Vn){var Dc;if(Vn){var Vc="oninput"in document;if(!Vc){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Vc=typeof Ld.oninput=="function"}Dc=Vc}else Dc=!1;Ud=Dc&&(!document.documentMode||9<document.documentMode)}function zd(){xe&&(xe.detachEvent("onpropertychange",Pd),Qn=xe=null)}function Pd(t){if(t.propertyName==="value"&&wu(Qn)){var n=[];pi(n,Qn,t,gn(t)),fu(Ys,n)}}function Yv(t,n,r){t==="focusin"?(zd(),xe=n,Qn=r,xe.attachEvent("onpropertychange",Pd)):t==="focusout"&&zd()}function Fv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Qn)}function Xv(t,n){if(t==="click")return wu(n)}function Kv(t,n){if(t==="input"||t==="change")return wu(n)}function Zv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:Zv;function Fs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ar.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,n){var r=Bd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bd(r)}}function kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mr(t.document)}return n}function Ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Jv=Vn&&"documentMode"in document&&11>=document.documentMode,Na=null,Nc=null,Xs=null,Oc=!1;function Hd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oc||Na==null||Na!==Mr(l)||(l=Na,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Fs(Xs,l)||(Xs=l,l=ho(Nc,"onSelect"),0<l.length&&(n=new Sa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Na)))}function Gr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Mc={},Gd={};Vn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Qr(t){if(Mc[t])return Mc[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gd)return Mc[t]=n[r];return t}var Qd=Qr("animationend"),Yd=Qr("animationiteration"),Fd=Qr("animationstart"),$v=Qr("transitionrun"),Wv=Qr("transitionstart"),tE=Qr("transitioncancel"),Xd=Qr("transitionend"),Kd=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function In(t,n){Kd.set(t,n),Dn(n,[t])}var Zd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=Zd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ea(n)},Zd.set(t,n),n)}return{value:t,source:n,stack:Ea(n)}}var vn=[],Ma=0,Uc=0;function Cu(){for(var t=Ma,n=Uc=Ma=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Jd(r,c,f)}}function Du(t,n,r,l){vn[Ma++]=t,vn[Ma++]=n,vn[Ma++]=r,vn[Ma++]=l,Uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,r,l){return Du(t,n,r,l),Vu(t)}function xa(t,n){return Du(t,null,null,n),Vu(t)}function Jd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Vu(t){if(50<vl)throw vl=0,jh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ua={};function eE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new eE(t,n,r,l)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $d(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")zc(t)&&(p=1);else if(typeof t=="string")p=i0(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case W:return Yr(r.children,c,f,n);case J:p=8,c|=24;break;case Z:return t=sn(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case Tt:return t=sn(13,r,n,c),t.elementType=Tt,t.lanes=f,t;case Pt:return t=sn(19,r,n,c),t.elementType=Pt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:case ct:p=10;break t;case _t:p=9;break t;case kt:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Pc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Bc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var La=[],za=0,Nu=null,Ou=0,En=[],Tn=0,Fr=null,_i=1,vi="";function Xr(t,n){La[za++]=Ou,La[za++]=Nu,Nu=t,Ou=n}function Wd(t,n,r){En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=Fr,Fr=t;var l=_i;t=vi;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,_i=1<<32-je(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function qc(t){t.return!==null&&(Xr(t,1),Wd(t,1,0))}function kc(t){for(;t===Nu;)Nu=La[--za],La[za]=null,Ou=La[--za],La[za]=null;for(;t===Fr;)Fr=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null}var Je=null,se=null,zt=!1,Kr=null,Yn=!1,jc=Error(a(519));function Zr(t){var n=Error(a(418,""));throw Js(_n(n,t)),jc}function tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Ct(Tl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),xr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ur(n,l.value,l.defaultValue,l.children),Ta(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||yp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=fo),n=!0):n=!1,n||Zr(t)}function em(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Je=Je.return}}function Ks(t){if(t!==Je)return!1;if(!zt)return em(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&se&&Zr(t),em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ir(t.type)?(t=of,of=null,se=t):se=n):se=Je?On(t.stateNode.nextSibling):null;return!0}function Zs(){se=Je=null,zt=!1}function nm(){var t=Kr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Kr=null),t}function Js(t){Kr===null?Kr=[t]:Kr.push(t)}var Hc=X(null),Jr=null,Ei=null;function ji(t,n,r){$(Hc,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=Hc.current,nt(Hc)}function Gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Gc(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Gc(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function $s(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;an(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&Qc(n,t,r,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Jr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return im(Jr,t)}function xu(t,n){return Jr===null&&$r(t),im(t,n)}function im(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var nE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},iE=s.unstable_scheduleCallback,rE=s.unstable_NormalPriority,Te={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new nE,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&iE(rE,function(){t.controller.abort()})}var tl=null,Fc=0,Pa=0,Ba=null;function aE(t,n){if(tl===null){var r=tl=[];Fc=0,Pa=Kh(),Ba={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Fc++,n.then(rm,rm),n}function rm(){if(--Fc===0&&tl!==null){Ba!==null&&(Ba.status="fulfilled");var t=tl;tl=null,Pa=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var am=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aE(t,n),am!==null&&am(t,n)};var Wr=X(null);function Xc(){var t=Wr.current;return t!==null?t:Jt.pooledCache}function Uu(t,n){n===null?$(Wr,Wr.current):$(Wr,n.pool)}function sm(){var t=Xc();return t===null?null:{parent:Te._currentValue,pool:t}}var el=Error(a(460)),lm=Error(a(474)),Lu=Error(a(542)),Kc={then:function(){}};function um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(zu,zu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t;default:if(typeof n.status=="string")n.then(zu,zu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t}throw nl=n,el}}var nl=null;function cm(){if(nl===null)throw Error(a(459));var t=nl;return nl=null,t}function hm(t){if(t===el||t===Lu)throw Error(a(483))}var Hi=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vu(t),Jd(t,null,r),n}return Du(t,l,n,r),Vu(t)}function il(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ns(t,r)}}function $c(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wc=!1;function rl(){if(Wc){var t=Ba;if(t!==null)throw t}}function al(t,n,r,l){Wc=!1;var c=t.updateQueue;Hi=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,p===null?f=P:p.next=P,p=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;p=0,H=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(l&B)===B){B!==0&&B===Pa&&(Wc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ht=E;B=n;var Xt=r;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Y=gt.call(Xt,Y,B);break t}Y=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,B=typeof gt=="function"?gt.call(Xt,Y,B):gt,B==null)break t;Y=A({},Y,B);break t;case 2:Hi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,b=Y):H=H.next=q,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Wi|=p,t.lanes=p,t.memoizedState=Y}}function fm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fm(r[t],n)}var qa=X(null),Pu=X(0);function mm(t,n){t=Di,$(Pu,t),$(qa,n),Di=t|n.baseLanes}function th(){$(Pu,Di),$(qa,qa.current)}function eh(){Di=Pu.current,nt(qa),nt(Pu)}var Yi=0,St=null,Yt=null,me=null,Bu=!1,ka=!1,ta=!1,qu=0,sl=0,ja=null,lE=0;function oe(){throw Error(a(321))}function nh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function ih(t,n,r,l,c,f){return Yi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Jm:$m,ta=!1,f=r(l,c),ta=!1,ka&&(f=pm(n,r,l,c)),gm(t),f}function gm(t){j.H=Yu;var n=Yt!==null&&Yt.next!==null;if(Yi=0,me=Yt=St=null,Bu=!1,sl=0,ja=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Mu(t)&&(De=!0))}function pm(t,n,r,l){St=t;var c=0;do{if(ka&&(ja=null),sl=0,ka=!1,25<=c)throw Error(a(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=mE,f=n(r,l)}while(ka);return f}function uE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function rh(){var t=qu!==0;return qu=0,t}function ah(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function sh(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}Yi=0,me=Yt=St=null,ka=!1,sl=qu=0,ja=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=sl;return sl+=1,ja===null&&(ja=[]),t=om(ja,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Jm:$m),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ct)return He(t)}throw Error(a(438,String(t)))}function uh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ai(t,n){return typeof n=="function"?n(t):n}function ju(t){var n=ge();return oh(n,Yt,t)}function oh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ot&Y)===Y:(Yi&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Pa&&(H=!0);else if((Yi&B)===B){P=P.next,B===Pa&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,p=f):b=b.next=Y,St.lanes|=B,Wi|=B;Y=P.action,ta&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,p=f):b=b.next=B,St.lanes|=Y,Wi|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?p=f:b.next=E,!an(f,t.memoizedState)&&(De=!0,H&&(r=Ba,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);an(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ym(t,n,r){var l=St,c=ge(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!an((Yt||c).memoizedState,r);p&&(c.memoizedState=r,De=!0),c=c.queue;var E=Em.bind(null,l,c,t);if(ul(2048,8,E,[t]),c.getSnapshot!==n||p||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Hu(),vm.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(Yi&124)!==0||_m(l,n,r)}return r}function _m(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=lh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vm(t,n,r,l){n.value=r,n.getSnapshot=l,Tm(n)&&Am(t)}function Em(t,n,r){return r(function(){Tm(n)&&Am(t)})}function Tm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Am(t){var n=xa(t,2);n!==null&&hn(n,t,2)}function hh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),ta){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Sm(t,n,r,l){return t.baseState=r,oh(t,Yt,typeof l=="function"?l:Ai)}function oE(t,n,r,l,c){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,bm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,p={};j.T=p;try{var E=r(c,l),b=j.S;b!==null&&b(p,E),Rm(t,n,E)}catch(P){fh(t,n,P)}finally{j.T=f}}else try{f=r(c,l),Rm(t,n,f)}catch(P){fh(t,n,P)}}function Rm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wm(t,n,l)},function(l){return fh(t,n,l)}):wm(t,n,r)}function wm(t,n,r){n.status="fulfilled",n.value=r,Cm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bm(t,r)))}function fh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cm(n),n=n.next;while(n!==l)}t.action=null}function Cm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Vm(t,n){if(zt){var r=Jt.formState;if(r!==null){t:{var l=St;if(zt){if(se){e:{for(var c=se,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=On(c.nextSibling),l=c.data==="F!";break t}}Zr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},r.queue=l,r=Xm.bind(null,St,l),l.dispatch=r,l=hh(!1),f=yh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=oE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Im(t){var n=ge();return Nm(n,Yt,t)}function Nm(t,n,r){if(n=oh(t,n,Dm)[0],t=ju(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ll(n)}catch(p){throw p===el?Lu:p}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Ha(9,Hu(),cE.bind(null,c,r),null)),[l,f,t]}function cE(t,n){t.action=n}function Om(t){var n=ge(),r=Yt;if(r!==null)return Nm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ha(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=lh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function Mm(){return ge().memoizedState}function Gu(t,n,r,l){var c=$e();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Ha(1|n,Hu(),r,l)}function ul(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&nh(l,Yt.memoizedState.deps)?c.memoizedState=Ha(n,f,r,l):(St.flags|=t,c.memoizedState=Ha(1|n,f,r,l))}function xm(t,n){Gu(8390656,8,t,n)}function Um(t,n){ul(2048,8,t,n)}function Lm(t,n){return ul(4,2,t,n)}function zm(t,n){return ul(4,4,t,n)}function Pm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bm(t,n,r){r=r!=null?r.concat([t]):null,ul(4,4,Pm.bind(null,n,t),r)}function dh(){}function qm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&nh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function km(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&nh(n,l[1]))return l[0];if(l=t(),ta){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function mh(t,n,r){return r===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Gg(),St.lanes|=t,Wi|=t,r)}function jm(t,n,r,l){return an(r,n)?r:qa.current!==null?(t=mh(t,r,l),an(t,n)||(De=!0),t):(Yi&42)===0?(De=!0,t.memoizedState=r):(t=Gg(),St.lanes|=t,Wi|=t,n)}function Hm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=j.T,E={};j.T=E,yh(t,!1,n,r);try{var b=c(),P=j.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=sE(b,l);ol(t,n,H,cn(t))}else ol(t,n,l,cn(t))}catch(Y){ol(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{et.p=f,j.T=p}}function hE(){}function gh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Gm(t).queue;Hm(t,c,n,lt,r===null?hE:function(){return Qm(t),r(l)})}function Gm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qm(t){var n=Gm(t).next.queue;ol(t,n,{},cn())}function ph(){return He(Cl)}function Ym(){return ge().memoizedState}function Fm(){return ge().memoizedState}function fE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Gi(r);var l=Qi(n,t,r);l!==null&&(hn(l,n,r),il(l,n,r)),n={cache:Yc()},t.payload=n;return}n=n.return}}function dE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Km(n,r):(r=Lc(t,n,r,l),r!==null&&(hn(r,t,l),Zm(r,n,l)))}function Xm(t,n,r){var l=cn();ol(t,n,r,l)}function ol(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,p))return Du(t,n,c,0),Jt===null&&Cu(),!1}catch{}finally{}if(r=Lc(t,n,c,l),r!==null)return hn(r,t,l),Zm(r,n,l),!0}return!1}function yh(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Lc(t,r,l,2),n!==null&&hn(n,t,2)}function Qu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Km(t,n){ka=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ns(t,r)}}var Yu={readContext:He,use:ku,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Jm={readContext:He,use:ku,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Gu(4194308,4,Pm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(ta){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(ta){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=dE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=hh(t);var n=t.queue,r=Xm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dh,useDeferredValue:function(t,n){var r=$e();return mh(r,t,n)},useTransition:function(){var t=hh(!1);return t=Hm.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=$e();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Ot&124)!==0||_m(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,xm(Em.bind(null,l,f,t),[t]),l.flags|=2048,Ha(9,Hu(),vm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(zt){var r=vi,l=_i;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=lE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ph,useFormState:Vm,useActionState:Vm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:uh,useCacheRefresh:function(){return $e().memoizedState=fE.bind(null,St)}},$m={readContext:He,use:ku,useCallback:qm,useContext:He,useEffect:Um,useImperativeHandle:Bm,useInsertionEffect:Lm,useLayoutEffect:zm,useMemo:km,useReducer:ju,useRef:Mm,useState:function(){return ju(Ai)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=ju(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:ym,useId:Ym,useHostTransitionStatus:ph,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var r=ge();return Sm(r,Yt,t,n)},useMemoCache:uh,useCacheRefresh:Fm},mE={readContext:He,use:ku,useCallback:qm,useContext:He,useEffect:Um,useImperativeHandle:Bm,useInsertionEffect:Lm,useLayoutEffect:zm,useMemo:km,useReducer:ch,useRef:Mm,useState:function(){return ch(Ai)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Yt===null?mh(r,t,n):jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=ch(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:ym,useId:Ym,useHostTransitionStatus:ph,useFormState:Om,useActionState:Om,useOptimistic:function(t,n){var r=ge();return Yt!==null?Sm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:uh,useCacheRefresh:Fm},Ga=null,cl=0;function Fu(t){var n=cl;return cl+=1,Ga===null&&(Ga=[]),om(Ga,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function tg(t){function n(M,D){if(t){var z=M.deletions;z===null?(M.deletions=[D],M.flags|=16):z.push(D)}}function r(M,D){if(!t)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=yi(M,D),M.index=0,M.sibling=null,M}function f(M,D,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<D?(M.flags|=67108866,D):z):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,z,G){return D===null||D.tag!==6?(D=Pc(z,M.mode,G),D.return=M,D):(D=c(D,z),D.return=M,D)}function b(M,D,z,G){var rt=z.type;return rt===W?H(M,D,z.props.children,G,z.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Wm(rt)===D.type)?(D=c(D,z.props),hl(D,z),D.return=M,D):(D=Iu(z.type,z.key,z.props,null,M.mode,G),hl(D,z),D.return=M,D)}function P(M,D,z,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Bc(z,M.mode,G),D.return=M,D):(D=c(D,z.children||[]),D.return=M,D)}function H(M,D,z,G,rt){return D===null||D.tag!==7?(D=Yr(z,M.mode,G,rt),D.return=M,D):(D=c(D,z),D.return=M,D)}function Y(M,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Pc(""+D,M.mode,z),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return z=Iu(D.type,D.key,D.props,null,M.mode,z),hl(z,D),z.return=M,z;case Q:return D=Bc(D,M.mode,z),D.return=M,D;case S:var G=D._init;return D=G(D._payload),Y(M,D,z)}if(re(D)||x(D))return D=Yr(D,M.mode,z,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Fu(D),z);if(D.$$typeof===ct)return Y(M,xu(M,D),z);Xu(M,D)}return null}function B(M,D,z,G){var rt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(M,D,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===rt?b(M,D,z,G):null;case Q:return z.key===rt?P(M,D,z,G):null;case S:return rt=z._init,z=rt(z._payload),B(M,D,z,G)}if(re(z)||x(z))return rt!==null?null:H(M,D,z,G,null);if(typeof z.then=="function")return B(M,D,Fu(z),G);if(z.$$typeof===ct)return B(M,D,xu(M,z),G);Xu(M,z)}return null}function q(M,D,z,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(z)||null,E(D,M,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case U:return M=M.get(G.key===null?z:G.key)||null,b(D,M,G,rt);case Q:return M=M.get(G.key===null?z:G.key)||null,P(D,M,G,rt);case S:var Rt=G._init;return G=Rt(G._payload),q(M,D,z,G,rt)}if(re(G)||x(G))return M=M.get(z)||null,H(D,M,G,rt,null);if(typeof G.then=="function")return q(M,D,z,Fu(G),rt);if(G.$$typeof===ct)return q(M,D,z,xu(D,G),rt);Xu(D,G)}return null}function gt(M,D,z,G){for(var rt=null,Rt=null,st=D,ft=D=0,Ie=null;st!==null&&ft<z.length;ft++){st.index>ft?(Ie=st,st=null):Ie=st.sibling;var Ut=B(M,st,z[ft],G);if(Ut===null){st===null&&(st=Ie);break}t&&st&&Ut.alternate===null&&n(M,st),D=f(Ut,D,ft),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,st=Ie}if(ft===z.length)return r(M,st),zt&&Xr(M,ft),rt;if(st===null){for(;ft<z.length;ft++)st=Y(M,z[ft],G),st!==null&&(D=f(st,D,ft),Rt===null?rt=st:Rt.sibling=st,Rt=st);return zt&&Xr(M,ft),rt}for(st=l(st);ft<z.length;ft++)Ie=q(st,M,ft,z[ft],G),Ie!==null&&(t&&Ie.alternate!==null&&st.delete(Ie.key===null?ft:Ie.key),D=f(Ie,D,ft),Rt===null?rt=Ie:Rt.sibling=Ie,Rt=Ie);return t&&st.forEach(function(ur){return n(M,ur)}),zt&&Xr(M,ft),rt}function ht(M,D,z,G){if(z==null)throw Error(a(151));for(var rt=null,Rt=null,st=D,ft=D=0,Ie=null,Ut=z.next();st!==null&&!Ut.done;ft++,Ut=z.next()){st.index>ft?(Ie=st,st=null):Ie=st.sibling;var ur=B(M,st,Ut.value,G);if(ur===null){st===null&&(st=Ie);break}t&&st&&ur.alternate===null&&n(M,st),D=f(ur,D,ft),Rt===null?rt=ur:Rt.sibling=ur,Rt=ur,st=Ie}if(Ut.done)return r(M,st),zt&&Xr(M,ft),rt;if(st===null){for(;!Ut.done;ft++,Ut=z.next())Ut=Y(M,Ut.value,G),Ut!==null&&(D=f(Ut,D,ft),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return zt&&Xr(M,ft),rt}for(st=l(st);!Ut.done;ft++,Ut=z.next())Ut=q(st,M,ft,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ft:Ut.key),D=f(Ut,D,ft),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return t&&st.forEach(function(g0){return n(M,g0)}),zt&&Xr(M,ft),rt}function Xt(M,D,z,G){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:t:{for(var rt=z.key;D!==null;){if(D.key===rt){if(rt=z.type,rt===W){if(D.tag===7){r(M,D.sibling),G=c(D,z.props.children),G.return=M,M=G;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Wm(rt)===D.type){r(M,D.sibling),G=c(D,z.props),hl(G,z),G.return=M,M=G;break t}r(M,D);break}else n(M,D);D=D.sibling}z.type===W?(G=Yr(z.props.children,M.mode,G,z.key),G.return=M,M=G):(G=Iu(z.type,z.key,z.props,null,M.mode,G),hl(G,z),G.return=M,M=G)}return p(M);case Q:t:{for(rt=z.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(M,D.sibling),G=c(D,z.children||[]),G.return=M,M=G;break t}else{r(M,D);break}else n(M,D);D=D.sibling}G=Bc(z,M.mode,G),G.return=M,M=G}return p(M);case S:return rt=z._init,z=rt(z._payload),Xt(M,D,z,G)}if(re(z))return gt(M,D,z,G);if(x(z)){if(rt=x(z),typeof rt!="function")throw Error(a(150));return z=rt.call(z),ht(M,D,z,G)}if(typeof z.then=="function")return Xt(M,D,Fu(z),G);if(z.$$typeof===ct)return Xt(M,D,xu(M,z),G);Xu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(M,D.sibling),G=c(D,z),G.return=M,M=G):(r(M,D),G=Pc(z,M.mode,G),G.return=M,M=G),p(M)):r(M,D)}return function(M,D,z,G){try{cl=0;var rt=Xt(M,D,z,G);return Ga=null,rt}catch(st){if(st===el||st===Lu)throw st;var Rt=sn(29,st,null,M.mode);return Rt.lanes=G,Rt.return=M,Rt}finally{}}}var Qa=tg(!0),eg=tg(!1),An=X(null),Fn=null;function Fi(t){var n=t.alternate;$(Ae,Ae.current&1),$(An,t),Fn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Fn=t)}function ng(t){if(t.tag===22){if($(Ae,Ae.current),$(An,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Xi()}function Xi(){$(Ae,Ae.current),$(An,An.current)}function Si(t){nt(An),Fn===t&&(Fn=null),nt(Ae)}var Ae=X(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||uf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _h(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),il(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),il(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Gi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(hn(n,t,r),il(n,t,r))}};function ig(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Fs(r,l)||!Fs(c,f):!0}function rg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&vh.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ag(t){Zu(t)}function sg(t){console.error(t)}function lg(t){Zu(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ug(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eh(t,n,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function og(t){return t=Gi(t),t.tag=3,t}function cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ug(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ug(n,r,l),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function gE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&$s(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Fn===null?Gh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Yh(t,l,c)),!1;case 22:return r.flags|=65536,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Yh(t,l,c)),!1}throw Error(a(435,r.tag))}return Yh(t,l,c),Gh(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==jc&&(t=Error(a(422),{cause:l}),Js(_n(t,r)))):(l!==jc&&(n=Error(a(423),{cause:l}),Js(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=Eh(t.stateNode,l,c),$c(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),_l===null?_l=[f]:_l.push(f),le!==4&&(le=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Eh(r.stateNode,l,t),$c(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=og(c),cg(c,t,r,l),$c(r,c),!1}r=r.return}while(r!==null);return!1}var hg=Error(a(461)),De=!1;function Ue(t,n,r,l){n.child=t===null?eg(n,null,r,l):Qa(n,t.child,r,l)}function fg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return $r(n),l=ih(t,n,r,p,f,c),E=rh(),t!==null&&!De?(ah(t,n,c),bi(t,n,c)):(zt&&E&&qc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function dg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!zc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mg(t,n,f,l,c)):(t=Iu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Dh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fs,r(p,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function mg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Fs(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Dh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Th(t,n,r,l,c)}function gg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return pg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?mm(n,f):th(),ng(n);else return n.lanes=n.childLanes=536870912,pg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Uu(n,f.cachePool),mm(n,f),Xi(),n.memoizedState=null):(t!==null&&Uu(n,null),th(),Xi());return Ue(t,n,c,r),n.child}function pg(t,n,r,l){var c=Xc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Uu(n,null),th(),ng(n),t!==null&&$s(t,n,l,!0),null}function $u(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Th(t,n,r,l,c){return $r(n),r=ih(t,n,r,l,void 0,c),l=rh(),t!==null&&!De?(ah(t,n,c),bi(t,n,c)):(zt&&l&&qc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function yg(t,n,r,l,c,f){return $r(n),n.updateQueue=null,r=pm(n,l,r,c),gm(t),l=rh(),t!==null&&!De?(ah(t,n,f),bi(t,n,f)):(zt&&l&&qc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function _g(t,n,r,l,c){if($r(n),n.stateNode===null){var f=Ua,p=r.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?He(p):Ua,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(_h(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&vh.enqueueReplaceState(f,f.state,null),al(n,l,f,c),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ea(r,E);f.props=b;var P=f.context,H=r.contextType;p=Ua,typeof H=="object"&&H!==null&&(p=He(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&rg(n,f,l,p),Hi=!1;var B=n.memoizedState;f.state=B,al(n,l,f,c),rl(),P=n.memoizedState,E||B!==P||Hi?(typeof Y=="function"&&(_h(n,r,Y,l),P=n.memoizedState),(b=Hi||ig(n,r,b,l,B,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Jc(t,n),p=n.memoizedProps,H=ea(r,p),f.props=H,Y=n.pendingProps,B=f.context,P=r.contextType,b=Ua,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==b)&&rg(n,f,l,b),Hi=!1,B=n.memoizedState,f.state=B,al(n,l,f,c),rl();var q=n.memoizedState;p!==Y||B!==q||Hi||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(_h(n,r,E,l),q=n.memoizedState),(H=Hi||ig(n,r,H,l,B,q,b)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Qa(n,t.child,null,c),n.child=Qa(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function vg(t,n,r,l){return Zs(),n.flags|=256,Ue(t,n,r,l),n.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(t){return{baseLanes:t,cachePool:sm()}}function bh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function Eg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Fi(n):Xi(),zt){var E=se,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Fr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,se=null,b=!0):b=!1}b||Zr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return uf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=Wu({mode:"hidden",children:E},c),l=Yr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Sh(r),c.childLanes=bh(t,p,r),n.memoizedState=Ah,l):(Fi(n),Rh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Fi(n),n.flags&=-257,n=wh(t,n,r)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=Wu({mode:"visible",children:l.children},E),c=Yr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Qa(n,t.child,null,r),l=n.child,l.memoizedState=Sh(r),l.childLanes=bh(t,p,r),n.memoizedState=Ah,n=c);else if(Fi(n),uf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Js({value:l,source:null,stack:null}),n=wh(t,n,r)}else if(De||$s(t,n,r,!1),p=(r&t.childLanes)!==0,De||p){if(p=Jt,p!==null&&(l=r&-r,l=(l&42)!==0?1:Ui(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,xa(t,l),hn(p,t,l),hg;E.data==="$?"||Gh(),n=wh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=On(E.nextSibling),Je=n,zt=!0,Kr=null,Yn=!1,t!==null&&(En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=Fr,_i=t.id,vi=t.overflow,Fr=n),n=Rh(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Yr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Sh(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=bh(t,p,r),n.memoizedState=Ah,l):(Fi(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Rh(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wh(t,n,r){return Qa(n,t.child,null,r),t=Rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gc(t.return,n,r)}function Ch(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ag(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tg(t,r,n);else if(t.tag===19)Tg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Ch(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Ch(n,!0,r,null,f);break;case"together":Ch(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Wi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if($s(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Dh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function pE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ji(n,Te,t.memoizedState.cache),Zs();break;case 27:case 5:xi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Eg(t,n,r):(Fi(n),t=bi(t,n,r),t!==null?t.sibling:null);Fi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||($s(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ag(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,gg(t,n,r);case 24:ji(n,Te,t.memoizedState.cache)}return bi(t,n,r)}function Sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Dh(t,r)&&(n.flags&128)===0)return De=!1,pE(t,n,r);De=(t.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&Wd(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")zc(l)?(t=ea(l,t),n.tag=1,n=_g(null,n,l,t,r)):(n.tag=0,n=Th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===kt){n.tag=11,n=fg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=dg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(a(306,n,""))}}return n;case 0:return Th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ea(l,n.pendingProps),_g(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Jc(t,n),al(n,l,null,r);var p=n.memoizedState;if(l=p.cache,ji(n,Te,l),l!==f.cache&&Qc(n,[Te],r,!0),rl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),Js(c),n=vg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=On(t.firstChild),Je=n,zt=!0,Kr=null,Yn=!0,r=eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Zs(),l===c){n=bi(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return $u(t,n),t===null?(r=Cp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=mo(yt.current).createElement(r),l[_e]=n,l[fe]=t,ze(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Cp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&zt&&(l=n.stateNode=bp(n.type,n.pendingProps,yt.current),Je=n,Yn=!0,c=se,ir(n.type)?(of=c,se=On(l.firstChild)):se=c),Ue(t,n,n.pendingProps.children,r),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=se)&&(l=GE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Je=n,se=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Zr(n)),xi(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:p!==null&&af(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=ih(t,n,uE,null,null,r),Cl._currentValue=c),$u(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=se)&&(r=QE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Je=n,se=null,t=!0):t=!1),t||Zr(n)),null;case 13:return Eg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Qa(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return fg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ji(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,$r(n),c=He(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return dg(t,n,n.type,n.pendingProps,r);case 15:return mg(t,n,n.type,n.pendingProps,r);case 19:return Ag(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Wu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return gg(t,n,r);case 24:return $r(n),l=He(Te),t===null?(c=Xc(),c===null&&(c=Jt,f=Yc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),ji(n,Te,c)):((t.lanes&r)!==0&&(Jc(t,n),al(n,null,null,r),rl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ji(n,Te,l)):(l=f.cache,ji(n,Te,l),l!==c.cache&&Qc(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ri(t){t.flags|=4}function bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Op(n)){if(n=An.current,n!==null&&((Ot&4194048)===Ot?Fn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Fn))throw nl=Kc,lm;t.flags|=8192}}function to(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Vs():536870912,t.lanes|=n,Ka|=n)}function fl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function yE(t,n,r){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Te),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ks(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ne(n),bg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ne(n),bg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ne(n),n.flags&=-16777217),null;case 27:ri(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=ut.current,Ks(n)?tm(n):(t=bp(c,l,r),n.stateNode=t,Ri(n))}return ne(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=ut.current,Ks(n))tm(n);else{switch(c=mo(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yt.current,Ks(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||yp(t.nodeValue,r)),t||Zr(n)}else t=mo(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ks(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),to(n,n.updateQueue),ne(n),null;case 4:return xn(),t===null&&Wh(n.stateNode.containerInfo),ne(n),null;case 10:return Ti(n.type),ne(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)fl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,fl(c,!1),t=f.updateQueue,n.updateQueue=t,to(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$d(r,t),r=r.sibling;return $(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>io&&(n.flags|=128,l=!0,fl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ku(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,to(n,t),fl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return ne(n),null}else 2*fn()-c.renderingStartTime>io&&r!==536870912&&(n.flags|=128,l=!0,fl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,$(Ae,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Si(n),eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&to(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _E(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return xn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),eh(),t!==null&&nt(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Te),null;case 25:return null;default:return null}}function Rg(t,n){switch(kc(n),n.tag){case 3:Ti(Te),xn();break;case 26:case 27:case 5:ri(n);break;case 4:xn();break;case 13:Si(n);break;case 19:nt(Ae);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),eh(),t!==null&&nt(Wr);break;case 24:Ti(Te)}}function dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Ki(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function wg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dm(n,r)}catch(l){Kt(t,t.return,l)}}}function Cg(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Dg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Vh(t,n,r){try{var l=t.stateNode;BE(l,t.type,r,n),l[fe]=n}catch(c){Kt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Ih(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fo));else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nh(t,n,r),t=t.sibling;t!==null;)Nh(t,n,r),t=t.sibling}function eo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(eo(t,n,r),t=t.sibling;t!==null;)eo(t,n,r),t=t.sibling}function Ig(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[fe]=r}catch(f){Kt(t,t.return,f)}}var wi=!1,ce=!1,Oh=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function vE(t,n){if(t=t.containerInfo,nf=Eo,t=jd(t),Ic(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,b=-1,P=0,H=0,Y=t,B=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||l!==0&&Y.nodeType!==3||(b=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===r&&++P===c&&(E=p),B===f&&++H===l&&(b=p),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},Eo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=ea(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Kt(r,r.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Og(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(t,r),l&4&&dl(5,r);break;case 1:if(Zi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Kt(r,r.return,p)}else{var c=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(r,r.return,p)}}l&64&&wg(r),l&512&&ml(r,r.return);break;case 3:if(Zi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dm(t,n)}catch(p){Kt(r,r.return,p)}}break;case 27:n===null&&l&4&&Ig(r);case 26:case 5:Zi(t,r),n===null&&l&4&&Dg(r),l&512&&ml(r,r.return);break;case 12:Zi(t,r);break;case 13:Zi(t,r),l&4&&Ug(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=DE.bind(null,r),YE(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||ce,c=wi;var f=ce;wi=l,(ce=n)&&!f?Ji(t,r,(r.subtreeFlags&8772)!==0):Zi(t,r),wi=c,ce=f}break;case 30:break;default:Zi(t,r)}}function Mg(t){var n=t.alternate;n!==null&&(t.alternate=null,Mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Ci(t,n,r){for(r=r.child;r!==null;)xg(t,n,r),r=r.sibling}function xg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Xn(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Xn(r,n);var l=ee,c=We;ir(r.type)&&(ee=r.stateNode,We=!1),Ci(t,n,r),Sl(r.stateNode),ee=l,We=c;break;case 5:ce||Xn(r,n);case 6:if(l=ee,c=We,ee=null,Ci(t,n,r),ee=l,We=c,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ee!==null&&(We?(t=ee,Ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Nl(t)):Ap(ee,r.stateNode));break;case 4:l=ee,c=We,ee=r.stateNode.containerInfo,We=!0,Ci(t,n,r),ee=l,We=c;break;case 0:case 11:case 14:case 15:ce||Ki(2,r,n),ce||Ki(4,r,n),Ci(t,n,r);break;case 1:ce||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ci(t,n,r),ce=l;break;default:Ci(t,n,r)}}function Ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Kt(n,n.return,r)}}function EE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ng),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ng),n;default:throw Error(a(435,t.tag))}}function Mh(t,n){var r=EE(t);n.forEach(function(l){var c=VE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ir(E.type)){ee=E.stateNode,We=!1;break t}break;case 5:ee=E.stateNode,We=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ee===null)throw Error(a(160));xg(f,p,c),ee=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Nn=null;function Lg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Ki(3,t,t.return),dl(3,t),Ki(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ir]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,ue(f),l=f;break t;case"link":var p=Ip("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(p=Ip("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else Np(c,t.type,t.stateNode);else t.stateNode=Vp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Np(c,t.type,t.stateNode):Vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),r!==null&&l&4&&Vh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(ce||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Vh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(yo=null,c=Nn,Nn=go(n.containerInfo),ln(n,t),Nn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(q){Kt(t,t.return,q)}Oh&&(Oh=!1,zg(t));break;case 4:l=Nn,Nn=go(t.stateNode.containerInfo),ln(n,t),un(t),Nn=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bh=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=wi,H=ce;if(wi=P||c,ce=H||b,ln(n,t),ce=H,wi=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||wi||ce||na(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Mh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Vg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Ih(t);eo(t,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(mn(p,""),r.flags&=-33);var E=Ih(t);eo(t,E,p);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Ih(t);Nh(t,P,b);break;default:throw Error(a(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Og(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ki(4,n,n.return),na(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cg(n,n.return,r),na(n);break;case 27:Sl(n.stateNode);case 26:case 5:Xn(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function Ji(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,r),dl(4,f);break;case 1:if(Ji(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)fm(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&p&64&&wg(f),ml(f,f.return);break;case 27:Ig(f);case 26:case 5:Ji(c,f,r),r&&l===null&&p&4&&Dg(f),ml(f,f.return);break;case 12:Ji(c,f,r);break;case 13:Ji(c,f,r),r&&p&4&&Ug(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,r),ml(f,f.return);break;case 30:break;default:Ji(c,f,r)}n=n.sibling}}function xh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ws(r))}function Uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t))}function Kn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pg(t,n,r,l),n=n.sibling}function Pg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,r,l),c&2048&&dl(9,n);break;case 1:Kn(t,n,r,l);break;case 3:Kn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t)));break;case 12:if(c&2048){Kn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Kn(t,n,r,l);break;case 13:Kn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,r,l):gl(t,n):f._visibility&2?Kn(t,n,r,l):(f._visibility|=2,Ya(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&xh(p,n);break;case 24:Kn(t,n,r,l),c&2048&&Uh(n.alternate,n);break;default:Kn(t,n,r,l)}}function Ya(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,b=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,E,b,c),dl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ya(f,p,E,b,c):gl(f,p):(H._visibility|=2,Ya(f,p,E,b,c)),c&&P&2048&&xh(p.alternate,p);break;case 24:Ya(f,p,E,b,c),c&&P&2048&&Uh(p.alternate,p);break;default:Ya(f,p,E,b,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:gl(r,l),c&2048&&xh(l.alternate,l);break;case 24:gl(r,l),c&2048&&Uh(l.alternate,l);break;default:gl(r,l)}n=n.sibling}}var pl=8192;function Fa(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 26:Fa(t),t.flags&pl&&t.memoizedState!==null&&a0(Nn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t);break;case 3:case 4:var n=Nn;Nn=go(t.stateNode.containerInfo),Fa(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,Fa(t),pl=n):Fa(t));break;default:Fa(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,jg(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,no(t)):yl(t);break;default:yl(t)}}function no(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,jg(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ki(8,n,n.return),no(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,no(n));break;default:no(n)}t=t.sibling}}function jg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Ki(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Mg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var TE={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},AE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,wt=null,Ot=0,Gt=0,on=null,$i=!1,Xa=!1,Lh=!1,Di=0,le=0,Wi=0,ia=0,zh=0,Sn=0,Ka=0,_l=null,tn=null,Ph=!1,Bh=0,io=1/0,ro=null,tr=null,Le=0,er=null,Za=null,Ja=0,qh=0,kh=null,Hg=null,vl=0,jh=null;function cn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(j.T!==null){var t=Pa;return t!==0?t:Kh()}return Li()}function Gg(){Sn===0&&(Sn=(Ot&536870912)===0||zt?Ds():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&($a(t,0),nr(t,Ot,Sn,!1)),si(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(ia|=r),le===4&&nr(t,Ot,Sn,!1)),Zn(t))}function Qg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Vr(t,n),c=l?RE(t,n):Qh(t,n,!0),f=l;do{if(c===0){Xa&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!SE(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&($a(E,p).flags|=256),p=Qh(E,p,!1),p!==2){if(Lh&&!b){E.errorRecoveryDisabledLanes|=f,ia|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){$a(t,0),nr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Sn,!$i);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Bh+300-fn(),10<c)){if(nr(l,n,Sn,!$i),ga(l,0,!0)!==0)break t;l.timeoutHandle=Ep(Yg.bind(null,l,r,tn,ro,Ph,n,Sn,ia,Ka,$i,f,2,-0,0),c);break t}Yg(l,r,tn,ro,Ph,n,Sn,ia,Ka,$i,f,0,-0,0)}}break}while(!0);Zn(t)}function Yg(t,n,r,l,c,f,p,E,b,P,H,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:r0},Bg(n),Y=s0(),Y!==null)){t.cancelPendingCommit=Y(Wg.bind(null,t,n,f,r,l,c,p,E,b,H,1,B,q)),nr(t,f,p,!P);return}Wg(t,n,f,r,l,c,p,E,b)}function SE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~zh,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Un(t,r,n)}function ao(){return(Ht&6)===0?(El(0),!1):!0}function Hh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Ei=Jr=null,sh(t),Ga=null,cl=0,t=wt;for(;t!==null;)Rg(t.alternate,t),t=t.return;wt=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,kE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Jt=t,wt=r=yi(t.current,null),Ot=n,Gt=0,on=null,$i=!1,Xa=Vr(t,n),Lh=!1,Ka=Sn=zh=ia=Wi=le=0,tn=_l=null,Ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Di=n,Cu(),r}function Fg(t,n){St=null,j.H=Yu,n===el||n===Lu?(n=cm(),Gt=3):n===lm?(n=cm(),Gt=4):Gt=n===hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(le=1,Ju(t,_n(n,t.current)))}function Xg(){var t=j.H;return j.H=Yu,t===null?Yu:t}function Kg(){var t=j.A;return j.A=TE,t}function Gh(){le=4,$i||(Ot&4194048)!==Ot&&An.current!==null||(Xa=!0),(Wi&134217727)===0&&(ia&134217727)===0||Jt===null||nr(Jt,Ot,Sn,!1)}function Qh(t,n,r){var l=Ht;Ht|=2;var c=Xg(),f=Kg();(Jt!==t||Ot!==n)&&(ro=null,$a(t,n)),n=!1;var p=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=on;switch(Gt){case 8:Hh(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Gt;if(Gt=0,on=null,Wa(t,E,b,P),r&&Xa){p=0;break t}break;default:P=Gt,Gt=0,on=null,Wa(t,E,b,P)}}bE(),p=le;break}catch(H){Fg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ei=Jr=null,Ht=l,j.H=c,j.A=f,wt===null&&(Jt=null,Ot=0,Cu()),p}function bE(){for(;wt!==null;)Zg(wt)}function RE(t,n){var r=Ht;Ht|=2;var l=Xg(),c=Kg();Jt!==t||Ot!==n?(ro=null,io=fn()+500,$a(t,n)):Xa=Vr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=on;e:switch(Gt){case 1:Gt=0,on=null,Wa(t,n,f,1);break;case 2:case 9:if(um(f)){Gt=0,on=null,Jg(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:um(f)?(Gt=0,on=null,Jg(n)):(Gt=0,on=null,Wa(t,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(!p||Op(p)){Gt=0,on=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,so(P)):wt=null}break e}}Gt=0,on=null,Wa(t,n,f,5);break;case 6:Gt=0,on=null,Wa(t,n,f,6);break;case 8:Hh(),le=6;break t;default:throw Error(a(462))}}wE();break}catch(H){Fg(t,H)}while(!0);return Ei=Jr=null,j.H=l,j.A=c,Ht=r,wt!==null?0:(Jt=null,Ot=0,Cu(),le)}function wE(){for(;wt!==null&&!bs();)Zg(wt)}function Zg(t){var n=Sg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?so(t):wt=n}function Jg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=yg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:sh(n);default:Rg(r,n),n=wt=$d(n,Di),n=Sg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?so(t):wt=n}function Wa(t,n,r,l){Ei=Jr=null,sh(n),Ga=null,cl=0;var c=n.return;try{if(gE(t,c,n,r,Ot)){le=1,Ju(t,_n(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,Ju(t,_n(r,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:Xa||(Ot&536870912)!==0?t=!1:($i=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),$g(n,t)):so(n)}function so(t){var n=t;do{if((n.flags&32768)!==0){$g(n,$i);return}t=n.return;var r=yE(n.alternate,n,Di);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function $g(t,n){do{var r=_E(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function Wg(t,n,r,l,c,f,p,E,b){t.cancelPendingCommit=null;do lo();while(Le!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uc,Is(t,r,f,p,E,b),t===Jt&&(wt=Jt=null,Ot=0),Za=n,er=t,Ja=r,qh=f,kh=c,Hg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IE(Rr,function(){return rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=et.p,et.p=2,p=Ht,Ht|=4;try{vE(t,n,r)}finally{Ht=p,et.p=c,j.T=l}}Le=1,tp(),ep(),np()}}function tp(){if(Le===1){Le=0;var t=er,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Lg(n,t);var f=rf,p=jd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&kd(E.ownerDocument.documentElement,E)){if(b!==null&&Ic(E)){var P=b.start,H=b.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),Xt=b.end===void 0?ht:Math.min(b.end,gt);!q.extend&&ht>Xt&&(p=Xt,Xt=ht,ht=p);var M=qd(E,ht),D=qd(E,Xt);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(M.node,M.offset),q.removeAllRanges(),ht>Xt?(q.addRange(z),q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Eo=!!nf,rf=nf=null}finally{Ht=c,et.p=l,j.T=r}}t.current=n,Le=2}}function ep(){if(Le===2){Le=0;var t=er,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Og(t,n.alternate,n)}finally{Ht=c,et.p=l,j.T=r}}Le=3}}function np(){if(Le===4||Le===3){Le=0,nu();var t=er,n=Za,r=Ja,l=Hg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Za=er=null,ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(tr=null),pa(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=et.p,et.p=2,j.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{j.T=n,et.p=c}}(Ja&3)!==0&&lo(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===jh?vl++:(vl=0,jh=t):vl=0,El(0)}}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ws(n)))}function lo(t){return tp(),ep(),np(),rp()}function rp(){if(Le!==5)return!1;var t=er,n=qh;qh=0;var r=pa(Ja),l=j.T,c=et.p;try{et.p=32>r?32:r,j.T=null,r=kh,kh=null;var f=er,p=Ja;if(Le=0,Za=er=null,Ja=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,kg(f.current),Pg(f,f.current,p,r),Ht=E,El(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,j.T=l,ip(t,n)}}function ap(t,n,r){n=_n(r,n),n=Eh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(si(t,2),Zn(t))}function Kt(t,n,r){if(t.tag===3)ap(t,t,r);else for(;n!==null;){if(n.tag===3){ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=_n(r,t),r=og(2),l=Qi(n,r,2),l!==null&&(cg(r,l,n,t),si(l,2),Zn(l));break}}n=n.return}}function Yh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new AE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Lh=!0,c.add(r),t=CE.bind(null,t,n,r),n.then(t,t))}function CE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ot&r)===r&&(le===4||le===3&&(Ot&62914560)===Ot&&300>fn()-Bh?(Ht&2)===0&&$a(t,0):zh|=r,Ka===Ot&&(Ka=0)),Zn(t)}function sp(t,n){n===0&&(n=Vs()),t=xa(t,n),t!==null&&(si(t,n),Zn(t))}function DE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sp(t,r)}function VE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),sp(t,r)}function IE(t,n){return Sr(t,n)}var uo=null,ts=null,Fh=!1,oo=!1,Xh=!1,ra=0;function Zn(t){t!==ts&&t.next===null&&(ts===null?uo=ts=t:ts=ts.next=t),oo=!0,Fh||(Fh=!0,OE())}function El(t,n){if(!Xh&&oo){Xh=!0;do for(var r=!1,l=uo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,cp(l,f))}else f=Ot,f=ga(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vr(l,f)||(r=!0,cp(l,f));l=l.next}while(r);Xh=!1}}function NE(){lp()}function lp(){oo=Fh=!1;var t=0;ra!==0&&(qE()&&(t=ra),ra=0);for(var n=fn(),r=null,l=uo;l!==null;){var c=l.next,f=up(l,n);f===0?(l.next=null,r===null?uo=c:r.next=c,c===null&&(ts=r)):(r=l,(t!==0||(f&3)!==0)&&(oo=!0)),l=c}El(t)}function up(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-je(f),E=1<<p,b=c[p];b===-1?((E&r)===0||(E&l)!==0)&&(c[p]=Cs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Ot,r=ga(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Vr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&br(l),pa(r)){case 2:case 8:r=da;break;case 32:r=Rr;break;case 268435456:r=ma;break;default:r=Rr}return l=op.bind(null,t),r=Sr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function op(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(lo()&&t.callbackNode!==r)return null;var l=Ot;return l=ga(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qg(t,l,n),up(t,fn()),t.callbackNode!=null&&t.callbackNode===r?op.bind(null,t):null)}function cp(t,n){if(lo())return null;Qg(t,n,!0)}function OE(){jE(function(){(Ht&6)!==0?Sr(Rs,NE):lp()})}function Kh(){return ra===0&&(ra=Ds()),ra}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function fp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ME(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=hp((c[fe]||null).action),p=l.submitter;p&&(n=(n=p[fe]||null)?hp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Sa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var b=p?fp(c,p):new FormData(c);gh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?fp(c,p):new FormData(c),gh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Zh=0;Zh<xc.length;Zh++){var Jh=xc[Zh],xE=Jh.toLowerCase(),UE=Jh[0].toUpperCase()+Jh.slice(1);In(xE,"on"+UE)}In(Qd,"onAnimationEnd"),In(Yd,"onAnimationIteration"),In(Fd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In($v,"onTransitionRun"),In(Wv,"onTransitionStart"),In(tE,"onTransitionCancel"),In(Xd,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function dp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Zu(H)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Zu(H)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Os];r===void 0&&(r=n[Os]=new Set);var l=t+"__bubble";r.has(l)||(mp(n,t,2,!1),r.add(l))}function $h(t,n,r){var l=0;n&&(l|=4),mp(r,t,l,n)}var co="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[co]){t[co]=!0,Ms.forEach(function(r){r!=="selectionchange"&&(LE.has(r)||$h(r,!1,t),$h(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[co]||(n[co]=!0,$h("selectionchange",!1,n))}}function mp(t,n,r,l){switch(Pp(n)){case 2:var c=o0;break;case 8:c=c0;break;default:c=mf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=li(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}fu(function(){var P=f,H=gn(r),Y=[];t:{var B=Kd.get(t);if(B!==void 0){var q=Sa,gt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":q=Va;break;case"focusin":gt="focus",q=wa;break;case"focusout":gt="blur",q=wa;break;case"beforeblur":case"afterblur":q=wa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Eu;break;case Qd:case Yd:case Fd:q=Ca;break;case Xd:q=Au;break;case"scroll":case"scrollend":q=du;break;case"wheel":q=Ia;break;case"copy":case"cut":case"paste":q=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qs;break;case"toggle":case"beforetoggle":q=bu}var ht=(n&4)!==0,Xt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?B!==null?B+"Capture":null:B;ht=[];for(var D=P,z;D!==null;){var G=D;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||M===null||(G=zr(D,M),G!=null&&ht.push(Al(D,G,z))),Xt)break;D=D.return}0<ht.length&&(B=new q(B,gt,null,r,H),Y.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==hi&&(gt=r.relatedTarget||r.fromElement)&&(li(gt)||gt[dn]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(gt=r.relatedTarget||r.toElement,q=P,gt=gt?li(gt):null,gt!==null&&(Xt=h(gt),ht=gt.tag,gt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(q=null,gt=P),q!==gt)){if(ht=yn,G="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Qs,G="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=q==null?B:zn(q),z=gt==null?B:zn(gt),B=new ht(G,D+"leave",q,r,H),B.target=Xt,B.relatedTarget=z,G=null,li(H)===P&&(ht=new ht(M,D+"enter",gt,r,H),ht.target=z,ht.relatedTarget=Xt,G=ht),Xt=G,q&&gt)e:{for(ht=q,M=gt,D=0,z=ht;z;z=es(z))D++;for(z=0,G=M;G;G=es(G))z++;for(;0<D-z;)ht=es(ht),D--;for(;0<z-D;)M=es(M),z--;for(;D--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=es(ht),M=es(M)}ht=null}else ht=null;q!==null&&gp(Y,B,q,ht,!1),gt!==null&&Xt!==null&&gp(Y,Xt,gt,ht,!0)}}t:{if(B=P?zn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var rt=xd;else if(Ee(B))if(Ud)rt=Kv;else{rt=Fv;var Rt=Yv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ps(P.elementType)&&(rt=xd):rt=Xv;if(rt&&(rt=rt(t,P))){pi(Y,rt,r,H);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&qi(B,"number",B.value)}switch(Rt=P?zn(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(Na=Rt,Nc=P,Xs=null);break;case"focusout":Xs=Nc=Na=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Hd(Y,r,H);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":Hd(Y,r,H)}var st;if(Gn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else It?k(t,r)&&(ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(g&&r.locale!=="ko"&&(It||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&It&&(st=qs()):(qn=H,ki="value"in qn?qn.value:qn.textContent,It=!0)),Rt=ho(P,ft),0<Rt.length&&(ft=new Hs(ft,t,null,r,H),Y.push({event:ft,listeners:Rt}),st?ft.data=st:(st=tt(r),st!==null&&(ft.data=st)))),(st=d?ve(t,r):Nt(t,r))&&(ft=ho(P,"onBeforeInput"),0<ft.length&&(Rt=new Hs("onBeforeInput","beforeinput",null,r,H),Y.push({event:Rt,listeners:ft}),Rt.data=st)),ME(Y,t,P,r,H)}dp(Y,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ho(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(Al(t,c,f)),c=zr(t,n),c!=null&&l.push(Al(t,c,f))),t.tag===3)return l;t=t.return}return[]}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=zr(r,f),P!=null&&p.unshift(Al(r,P,b))):c||(P=zr(r,f),P!=null&&p.push(Al(r,P,b)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var zE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(zE,`
`).replace(PE,"")}function yp(t,n){return n=pp(n),pp(t)===n}function fo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":zs(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bc.get(r)||r,Bi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":zs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,p,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=p=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":p=H;break;case"checked":b=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}xr(t,f,E,b,P,p,c,!1),Ta(t);return;case"select":Ct("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,p,E,r,null)}Ur(t,l,c,f),Ta(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ct(Tl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(Ps(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&ef(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function BE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,P=null,H=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Ft(t,n,B,q,l,Y)}}rn(t,p,E,b,P,H,f,c);return;case"select":q=p=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=p,l=q,B!=null?ci(t,!!r,B,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,p,c,l,f)}Qt(t,B,q);return;case"option":for(var gt in r)if(B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Ft(t,n,gt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)B=r[ht],r.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Ft(t,n,ht,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,q)}return;default:if(Ps(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&ef(t,n,Xt,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||ef(t,n,H,B,l,q);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Ft(t,n,M,null,l,B);for(Y in l)B=l[Y],q=r[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Ft(t,n,Y,B,l,q)}var nf=null,rf=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function _p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function qE(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(HE)}:Ep;function HE(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function Ap(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=t.ownerDocument;if(r&1&&Sl(p.documentElement),r&2&&Sl(p.body),r&4)for(r=p.head,Sl(r),p=r.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Ir]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=E}}if(c===0){t.removeChild(f),Nl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Nl(n)}function lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lf(r),Pi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function GE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function QE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function YE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var of=null;function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,r){switch(n=mo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var bn=new Map,Rp=new Set;function go(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=et.d;et.d={f:FE,r:XE,D:KE,C:ZE,L:JE,m:$E,X:t0,S:WE,M:e0};function FE(){var t=Vi.f(),n=ao();return t||n}function XE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Qm(n):Vi.r(t)}var ns=typeof document>"u"?null:document;function wp(t,n,r){var l=ns;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Rp.has(c)||(Rp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function KE(t){Vi.D(t),wp("dns-prefetch",t,null)}function ZE(t,n){Vi.C(t,n),wp("preconnect",t,n)}function JE(t,n,r){Vi.L(t,n,r);var l=ns;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=is(t);break;case"script":f=rs(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function $E(t,n){Vi.m(t,n);var r=ns;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=rs(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Rl(f)))return}l=r.createElement("link"),ze(l,"link",t),ue(l),r.head.appendChild(l)}}}function WE(t,n,r){Vi.S(t,n,r);var l=ns;if(l&&t){var c=Xe(l).hoistableStyles,f=is(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(bl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&cf(t,r);var b=p=l.createElement("link");ue(b),ze(b,"link",t),b._p=new Promise(function(P,H){b.onload=P,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,po(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function t0(t,n){Vi.X(t,n);var r=ns;if(r&&t){var l=Xe(r).hoistableScripts,c=rs(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function e0(t,n){Vi.M(t,n);var r=ns;if(r&&t){var l=Xe(r).hoistableScripts,c=rs(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Cp(t,n,r,l){var c=(c=yt.current)?go(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=is(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=is(r.href);var f=Xe(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(bl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||n0(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rs(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function is(t){return'href="'+de(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function n0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ue(n),t.head.appendChild(n))}function rs(t){return'[src="'+de(t)+'"]'}function Rl(t){return"script[async]"+t}function Vp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ze(l,"style",c),po(l,r.precedence,t),n.instance=l;case"stylesheet":c=is(r.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Dp(r),(c=bn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(f,"link",l),n.state.loading|=4,po(f,r.precedence,t),n.instance=f;case"script":return f=rs(r.src),(c=t.querySelector(Rl(f)))?(n.instance=c,ue(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,po(l,r.precedence,t));return n.instance}function po(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yo=null;function Ip(t,n,r){if(yo===null){var l=new Map,c=yo=new Map;c.set(r,l)}else c=yo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ir]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function Np(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function i0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Op(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function r0(){}function a0(t,n,r){if(wl===null)throw Error(a(475));var l=wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=is(r.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_o.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Dp(r),(c=bn.get(c))&&cf(r,c),f=f.createElement("link"),ue(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=_o.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function s0(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function _o(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,n.forEach(l0,t),vo=null,_o.call(t))}function l0(t,n){if(!(n.state.loading&4)){var r=vo.get(t);if(r)var l=r.get(null);else{r=new Map,vo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=_o.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function u0(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Mp(t,n,r,l,c,f,p,E,b,P,H,Y){return t=new u0(t,n,r,p,E,b,P,Y),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Yc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),t}function xp(t){return t?(t=Ua,t):Ua}function Up(t,n,r,l,c,f){c=xp(c),l.context===null?l.context=c:l.pendingContext=c,l=Gi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(hn(r,t,n),il(r,t,n))}function Lp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function df(t,n){Lp(t,n),(t=t.alternate)&&Lp(t,n)}function zp(t){if(t.tag===13){var n=xa(t,67108864);n!==null&&hn(n,t,67108864),df(t,67108864)}}var Eo=!0;function o0(t,n,r,l){var c=j.T;j.T=null;var f=et.p;try{et.p=2,mf(t,n,r,l)}finally{et.p=f,j.T=c}}function c0(t,n,r,l){var c=j.T;j.T=null;var f=et.p;try{et.p=8,mf(t,n,r,l)}finally{et.p=f,j.T=c}}function mf(t,n,r,l){if(Eo){var c=gf(l);if(c===null)tf(t,n,l,To,r),Bp(t,l);else if(f0(c,t,n,r,l))l.stopPropagation();else if(Bp(t,l),n&4&&-1<h0.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Cn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-je(p);E.entanglements[1]|=b,p&=~b}Zn(f),(Ht&6)===0&&(io=fn()+500,El(0))}}break;case 13:E=xa(f,2),E!==null&&hn(E,f,2),ao(),df(f,2)}if(f=gf(l),f===null&&tf(t,n,l,To,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function gf(t){return t=gn(t),pf(t)}var To=null;function pf(t){if(To=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return To=t,null}function Pp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_c()){case Rs:return 2;case da:return 8;case Rr:case vc:return 32;case ma:return 268435456;default:return 32}default:return 32}}var yf=!1,rr=null,ar=null,sr=null,Dl=new Map,Vl=new Map,lr=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function f0(t,n,r,l,c){switch(n){case"focusin":return rr=Il(rr,t,n,r,l,c),!0;case"dragenter":return ar=Il(ar,t,n,r,l,c),!0;case"mouseover":return sr=Il(sr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Il(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function qp(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,au(t.priority,function(){if(r.tag===13){var l=cn();l=Ui(l);var c=xa(r,l);c!==null&&hn(c,r,l),df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=Ln(r),n!==null&&zp(n),t.blockedOn=r,!1;n.shift()}return!0}function kp(t,n,r){Ao(t)&&r.delete(n)}function d0(){yf=!1,rr!==null&&Ao(rr)&&(rr=null),ar!==null&&Ao(ar)&&(ar=null),sr!==null&&Ao(sr)&&(sr=null),Dl.forEach(kp),Vl.forEach(kp)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,d0)))}var bo=null;function jp(t){bo!==t&&(bo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bo===t&&(bo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,gh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(b){return So(b,t)}rr!==null&&So(rr,t),ar!==null&&So(ar,t),sr!==null&&So(sr,t),Dl.forEach(n),Vl.forEach(n);for(var r=0;r<lr.length;r++){var l=lr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)qp(r),r.blockedOn===null&&lr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[fe]||null;if(typeof f=="function")p||jp(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[fe]||null)E=p.formAction;else if(pf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),jp(r)}}}function _f(t){this._internalRoot=t}Ro.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Up(r,l,t,n,null,null)},Ro.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Up(t.current,2,null,t,null,null),ao(),n[dn]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var r=0;r<lr.length&&n!==0&&n<lr[r].priority;r++);lr.splice(r,0,t),r===0&&qp(t)}};var Hp=e.version;if(Hp!=="19.1.1")throw Error(a(527,Hp,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var m0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{ae=wo.inject(m0),jt=wo}catch{}}return Ml.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=ag,f=sg,p=lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Mp(t,1,!1,null,null,r,l,c,f,p,E,null),t[dn]=n.current,Wh(t),new _f(n)},Ml.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=ag,p=sg,E=lg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Mp(t,1,!0,n,r??null,l,c,f,p,E,b,P),n.context=xp(null),r=n.current,l=cn(),l=Ui(l),c=Gi(l),c.callback=null,Qi(r,c,l),r=l,n.current.lanes=r,si(n,r),Zn(n),t[dn]=n.current,Wh(t),new Ro(n)},Ml.version="19.1.1",Ml}var Wp;function b0(){if(Wp)return Tf.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tf.exports=S0(),Tf.exports}var R0=b0();const w0=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},C0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],m=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],m=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|m&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],m=o+1<s.length,y=m?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,O=(h&3)<<4|y>>4;let U=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,m||(U=64)),a.push(i[A],i[O],i[U],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(l_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):C0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const O=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||O==null)throw new D0;const U=h<<2|y>>4;if(a.push(U),_!==64){const Q=y<<4&240|_>>2;if(a.push(Q),O!==64){const W=_<<6&192|O;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class D0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V0=function(s){const e=l_(s);return u_.encodeByteArray(e,!0)},ko=function(s){return V0(s).replace(/\./g,"")},I0=function(s){try{return u_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=()=>N0().__FIREBASE_DEFAULTS__,M0=()=>{if(typeof process>"u"||typeof ty>"u")return;const s=ty.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},x0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&I0(s[1]);return e&&JSON.parse(e)},id=()=>{try{return w0()||O0()||M0()||x0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},U0=s=>id()?.emulatorHosts?.[s],L0=s=>{const e=U0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},o_=()=>id()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ko(JSON.stringify(i)),ko(JSON.stringify(m)),""].join(".")}const zl={};function q0(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function k0(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let ey=!1;function j0(s,e){if(typeof window>"u"||typeof document>"u"||!rd(window.location.host)||zl[s]===e||zl[s]||ey)return;zl[s]=e;function i(U){return`__firebase__banner__${U}`}const a="__firebase__banner",h=q0().prod.length>0;function m(){const U=document.getElementById(a);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,Q){U.setAttribute("width","24"),U.setAttribute("id",Q),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{ey=!0,m()},U}function A(U,Q){U.setAttribute("id",Q),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function O(){const U=k0(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),J=i("learnmore"),Z=document.getElementById(J)||document.createElement("a"),mt=i("preprendIcon"),_t=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ct=U.element;y(ct),A(Z,J);const kt=_();v(_t,mt),ct.append(_t,W,Z,kt),document.body.appendChild(ct)}h?(W.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0(){const s=id()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q0(){return!G0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y0(){try{return typeof indexedDB=="object"}catch{return!1}}function F0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=X0,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c_.prototype.create)}}class c_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],m=h?K0(h,a):"Error",y=`${this.serviceName}: ${m} (${o}).`;return new vs(o,y,a)}}function K0(s,e){return s.replace(Z0,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Z0=/\{\$([^}]+)}/g;function jo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],m=e[o];if(ny(h)&&ny(m)){if(!jo(h,m))return!1}else if(h!==m)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function ny(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(s){return s&&s._delegate?s._delegate:s}class Hl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new z0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W0(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $0(s){return s===aa?void 0:s}function W0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new J0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const eT={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},nT=xt.INFO,iT={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},rT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=iT[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h_{constructor(e){this.name=e,this._logLevel=nT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const aT=(s,e)=>e.some(i=>s instanceof i);let iy,ry;function sT(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lT(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,Uf=new WeakMap,d_=new WeakMap,Rf=new WeakMap,ad=new WeakMap;function uT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{i(hr(s.result)),o()},m=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&f_.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function oT(s){if(Uf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{i(),o()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Uf.set(s,e)}let Lf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Uf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||d_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function cT(s){Lf=s(Lf)}function hT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(wf(this),e,...i);return d_.set(a,e.sort?e.sort():[e]),hr(a)}:lT().includes(s)?function(...e){return s.apply(wf(this),e),hr(f_.get(this))}:function(...e){return hr(s.apply(wf(this),e))}}function fT(s){return typeof s=="function"?hT(s):(s instanceof IDBTransaction&&oT(s),aT(s,sT())?new Proxy(s,Lf):s)}function hr(s){if(s instanceof IDBRequest)return uT(s);if(Rf.has(s))return Rf.get(s);const e=fT(s);return e!==s&&(Rf.set(s,e),ad.set(e,s)),e}const wf=s=>ad.get(s);function dT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const m=indexedDB.open(s,e),y=hr(m);return a&&m.addEventListener("upgradeneeded",v=>{a(hr(m.result),v.oldVersion,v.newVersion,hr(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const mT=["get","getKey","getAll","getAllKeys","count"],gT=["put","add","delete","clear"],Cf=new Map;function ay(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=gT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||mT.includes(i)))return;const h=async function(m,...y){const v=this.transaction(m,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Cf.set(e,h),h}cT(s=>({...s,get:(e,i,a)=>ay(e,i)||s.get(e,i,a),has:(e,i)=>!!ay(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yT(s){return s.getComponent()?.type==="VERSION"}const zf="@firebase/app",sy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new h_("@firebase/app"),_T="@firebase/app-compat",vT="@firebase/analytics-compat",ET="@firebase/analytics",TT="@firebase/app-check-compat",AT="@firebase/app-check",ST="@firebase/auth",bT="@firebase/auth-compat",RT="@firebase/database",wT="@firebase/data-connect",CT="@firebase/database-compat",DT="@firebase/functions",VT="@firebase/functions-compat",IT="@firebase/installations",NT="@firebase/installations-compat",OT="@firebase/messaging",MT="@firebase/messaging-compat",xT="@firebase/performance",UT="@firebase/performance-compat",LT="@firebase/remote-config",zT="@firebase/remote-config-compat",PT="@firebase/storage",BT="@firebase/storage-compat",qT="@firebase/firestore",kT="@firebase/ai",jT="@firebase/firestore-compat",HT="firebase",GT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",QT={[zf]:"fire-core",[_T]:"fire-core-compat",[ET]:"fire-analytics",[vT]:"fire-analytics-compat",[AT]:"fire-app-check",[TT]:"fire-app-check-compat",[ST]:"fire-auth",[bT]:"fire-auth-compat",[RT]:"fire-rtdb",[wT]:"fire-data-connect",[CT]:"fire-rtdb-compat",[DT]:"fire-fn",[VT]:"fire-fn-compat",[IT]:"fire-iid",[NT]:"fire-iid-compat",[OT]:"fire-fcm",[MT]:"fire-fcm-compat",[xT]:"fire-perf",[UT]:"fire-perf-compat",[LT]:"fire-rc",[zT]:"fire-rc-compat",[PT]:"fire-gcs",[BT]:"fire-gcs-compat",[qT]:"fire-fst",[jT]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[HT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,YT=new Map,Bf=new Map;function ly(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Go(s){const e=s.name;if(Bf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,s);for(const i of Ho.values())ly(i,s);for(const i of YT.values())ly(i,s);return!0}function FT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function XT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new c_("app","Firebase",KT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=GT;function m_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Pf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(i||(i=o_()),!i)throw fr.create("no-options");const h=Ho.get(o);if(h){if(jo(i,h.options)&&jo(a,h.config))return h;throw fr.create("duplicate-app",{appName:o})}const m=new tT(o);for(const v of Bf.values())m.addComponent(v);const y=new ZT(i,a,m);return Ho.set(o,y),y}function $T(s=Pf){const e=Ho.get(s);if(!e&&s===Pf&&o_())return m_();if(!e)throw fr.create("no-app",{appName:s});return e}function os(s,e,i){let a=QT[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const m=[`Unable to register library "${a}" with version "${e}":`];o&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(m.join(" "));return}Go(new Hl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebase-heartbeat-database",t1=1,Gl="firebase-heartbeat-store";let Df=null;function g_(){return Df||(Df=dT(WT,t1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Df}async function e1(s){try{const i=(await g_()).transaction(Gl),a=await i.objectStore(Gl).get(p_(s));return await i.done,a}catch(e){if(e instanceof vs)Ni.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(i.message)}}}async function uy(s,e){try{const a=(await g_()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,p_(s)),await a.done}catch(i){if(i instanceof vs)Ni.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});Ni.warn(a.message)}}}function p_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=1024,i1=30;class r1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new s1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>i1){const o=l1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oy(),{heartbeatsToSend:i,unsentEntries:a}=a1(this._heartbeatsCache.heartbeats),o=ko(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ni.warn(e),""}}}function oy(){return new Date().toISOString().substring(0,10)}function a1(s,e=n1){const i=[];let a=s.slice();for(const o of s){const h=i.find(m=>m.agent===o.agent);if(h){if(h.dates.push(o.date),cy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),cy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class s1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y0()?F0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function cy(s){return ko(JSON.stringify({version:2,heartbeats:s})).length}function l1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(s){Go(new Hl("platform-logger",e=>new pT(e),"PRIVATE")),Go(new Hl("heartbeat",e=>new r1(e),"PRIVATE")),os(zf,sy,s),os(zf,sy,"esm2020"),os("fire-js","")}u1("");var o1="firebase",c1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(o1,c1,"app");var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,y_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,I,x){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[I].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)V[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;16>I;++I)V[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],I=N.g[2];var x=N.g[3],R=S+(x^w&(I^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+V[2]+606105819&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+V[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(x^w&(I^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+V[6]+2821735955&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+V[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(x^w&(I^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+V[10]+4294925233&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+V[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(x^w&(I^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+V[14]+2792965006&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+V[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^x&(w^I))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+V[11]+643717713&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+V[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^x&(w^I))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+V[15]+3634488961&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+V[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^x&(w^I))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+V[3]+4107603335&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+V[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^x&(w^I))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+V[7]+1735328473&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+V[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+V[11]+1839030562&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+V[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+V[7]+4139469664&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+V[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+V[3]+3572445317&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+V[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+V[15]+530742520&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+V[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+V[14]+2878612391&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+V[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+V[10]+4293915773&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+V[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+V[6]+2734768916&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+V[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+V[2]+718787259&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+x&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,I=this.h,x=0;x<S;){if(I==0)for(;x<=w;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(V[I++]=N.charCodeAt(x++),I==this.blockSize){o(this,V),I=0;break}}else for(;x<S;)if(V[I++]=N[x++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function h(N,S){var w=y;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function m(N,S){this.h=S;for(var w=[],V=!0,I=N.length-1;0<=I;I--){var x=N[I]|0;V&&x==S||(w[I]=x,V=!1)}this.g=w}var y={};function v(N){return-128<=N&&128>N?h(N,function(S){return new m([S|0],0>S?-1:0)}):new m([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return O;if(0>N)return Z(_(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new m(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=O,I=0;I<N.length;I+=8){var x=Math.min(8,N.length-I),R=parseInt(N.substring(I,I+x),S);8>x?(x=_(Math.pow(S,x)),V=V.j(x).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var O=v(0),U=v(1),Q=v(16777216);s=m.prototype,s.m=function(){if(J(this))return-Z(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(J(this))return"-"+Z(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,V="";;){var I=kt(w,S).g;w=mt(w,I.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=I,W(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}s.l=function(N){return N=mt(this,N),J(N)?-1:W(N)?0:1};function Z(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new m(w,~N.h).add(U)}s.abs=function(){return J(this)?Z(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,I=0;I<=S;I++){var x=V+(this.i(I)&65535)+(N.i(I)&65535),R=(x>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);V=R>>>16,x&=65535,R&=65535,w[I]=R<<16|x}return new m(w,w[w.length-1]&-2147483648?-1:0)};function mt(N,S){return N.add(Z(S))}s.j=function(N){if(W(this)||W(N))return O;if(J(this))return J(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(J(N))return Z(this.j(Z(N)));if(0>this.l(Q)&&0>N.l(Q))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<N.g.length;I++){var x=this.i(V)>>>16,R=this.i(V)&65535,Oe=N.i(I)>>>16,re=N.i(I)&65535;w[2*V+2*I]+=R*re,_t(w,2*V+2*I),w[2*V+2*I+1]+=x*re,_t(w,2*V+2*I+1),w[2*V+2*I+1]+=R*Oe,_t(w,2*V+2*I+1),w[2*V+2*I+2]+=x*Oe,_t(w,2*V+2*I+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function _t(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ct(N,S){this.g=N,this.h=S}function kt(N,S){if(W(S))throw Error("division by zero");if(W(N))return new ct(O,O);if(J(N))return S=kt(Z(N),S),new ct(Z(S.g),Z(S.h));if(J(S))return S=kt(N,Z(S)),new ct(Z(S.g),S.h);if(30<N.g.length){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,V=S;0>=V.l(N);)w=Tt(w),V=Tt(V);var I=Pt(w,1),x=Pt(V,1);for(V=Pt(V,2),w=Pt(w,2);!W(V);){var R=x.add(V);0>=R.l(N)&&(I=I.add(w),x=R),V=Pt(V,1),w=Pt(w,1)}return S=mt(N,I.j(S)),new ct(I,S)}for(I=O;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=_(w),R=x.j(S);J(R)||0<R.l(N);)w-=V,x=_(w),R=x.j(S);W(x)&&(x=U),I=I.add(x),N=mt(N,R)}return new ct(I,N)}s.A=function(N){return kt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new m(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new m(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new m(w,this.h^N.h)};function Tt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new m(w,N.h)}function Pt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,I=[],x=0;x<V;x++)I[x]=0<S?N.i(x+w)>>>S|N.i(x+w+1)<<32-S:N.i(x+w);return new m(I,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,y_=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,dr=m}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var __,xl,v_,Uo,qf,E_,T_,A_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Co=="object"&&Co];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,d){if(d)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in g))break t;g=g[L]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function h(u,d){u instanceof String&&(u+="");var g=0,T=!1,L={next:function(){if(!T&&g<u.length){var k=g++;return{value:d(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function O(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(d,L)}}return function(){return u.apply(d,arguments)}}function U(u,d,g){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,U.apply(null,arguments)}function Q(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function W(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,L,k){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return d.prototype[L].apply(T,tt)}}function J(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function Z(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=u.length||0,k=T.length||0;u.length=L+k;for(let tt=0;tt<k;tt++)u[L+tt]=T[tt]}else u.push(T)}}class mt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _t(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function kt(u){return kt[" "](u),u}kt[" "]=function(){};var Tt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Pt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function N(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)u[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function I(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function x(u){y.setTimeout(()=>{throw u},0)}function R(){var u=Lt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Oe{constructor(){this.h=this.g=null}add(d,g){const T=re.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new mt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,Lt=new Oe,C=()=>{const u=y.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){x(g)}var d=re;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function bt(u,d){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(Tt){t:{try{kt(d.nodeName);var L=!0;break t}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}W(bt,$);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,d,g,T,L){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,d,g,T,L){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var tt=Sr(u,d,T,L);return-1<tt?(d=u[tt],g||(d.fa=!1)):(d=new xn(d,this.src,k,!!T,L),d.fa=g,u.push(d)),d};function Ar(u,d){var g=d.type;if(g in u.g){var T=u.g[g],L=Array.prototype.indexOf.call(T,d,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(xi(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Sr(u,d,g,T){for(var L=0;L<u.length;++L){var k=u[L];if(!k.da&&k.listener==d&&k.capture==!!g&&k.ha==T)return L}return-1}var br="closure_lm_"+(1e6*Math.random()|0),bs={};function nu(u,d,g,T,L){if(Array.isArray(d)){for(var k=0;k<d.length;k++)nu(u,d[k],g,T,L);return null}return g=iu(g),u&&u[Re]?u.K(d,g,_(T)?!!T.capture:!1,L):fn(u,d,g,!1,T,L)}function fn(u,d,g,T,L,k){if(!d)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,It=ma(u);if(It||(u[br]=It=new ri(u)),g=It.add(d,g,T,tt,k),g.proxy)return g;if(T=_c(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ut||(L=tt),L===void 0&&(L=!1),u.addEventListener(d.toString(),T,L);else if(u.attachEvent)u.attachEvent(Rr(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function _c(){function u(g){return d.call(u.src,u.listener,g)}const d=vc;return u}function Rs(u,d,g,T,L){if(Array.isArray(d))for(var k=0;k<d.length;k++)Rs(u,d[k],g,T,L);else T=_(T)?!!T.capture:!!T,g=iu(g),u&&u[Re]?(u=u.i,d=String(d).toString(),d in u.g&&(k=u.g[d],g=Sr(k,g,T,L),-1<g&&(xi(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete u.g[d],u.h--)))):u&&(u=ma(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Sr(d,g,T,L)),(g=-1<u?d[u]:null)&&da(g))}function da(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Re])Ar(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(Rr(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=ma(d))?(Ar(g,u),g.h==0&&(g.src=null,d[br]=null)):xi(u)}}}function Rr(u){return u in bs?bs[u]:bs[u]="on"+u}function vc(u,d){if(u.da)u=!0;else{d=new bt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&da(u),u=g.call(T,d)}return u}function ma(u){return u=u[br],u instanceof ri?u:null}var ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(u){return typeof u=="function"?u:(u[ws]||(u[ws]=function(d){return u.handleEvent(d)}),u[ws])}function ae(){nt.call(this),this.i=new ri(this),this.M=this,this.F=null}W(ae,nt),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(u,d,g,T){Rs(this,u,d,g,T)};function jt(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new $(d,u);else if(d instanceof $)d.target=d.target||u;else{var L=d;d=new $(T,u),V(d,L)}if(L=!0,g)for(var k=g.length-1;0<=k;k--){var tt=d.g=g[k];L=nn(tt,T,!0,d)&&L}if(tt=d.g=u,L=nn(tt,T,!0,d)&&L,L=nn(tt,T,!1,d)&&L,g)for(k=0;k<g.length;k++)tt=d.g=g[k],L=nn(tt,T,!1,d)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)xi(g[T]);delete u.g[d],u.h--}}this.F=null},ae.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ae.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function nn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,k=0;k<d.length;++k){var tt=d[k];if(tt&&!tt.da&&tt.capture==g){var It=tt.listener,ve=tt.ha||tt.src;tt.fa&&Ar(u.i,tt),L=It.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(u,d,g){if(typeof u=="function")g&&(u=U(u,g));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function ru(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class Ec extends nt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){nt.call(this),this.h=u,this.g={}}W(wr,nt);var Cr=[];function Dr(u){Pt(u.g,function(d,g){this.g.hasOwnProperty(g)&&da(d)},u),u.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Dr(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=y.JSON.stringify,ga=y.JSON.parse,Vr=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Cs(){}Cs.prototype.h=null;function Ds(u){return u.h||(u.h=u.i())}function Vs(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){$.call(this,"d")}W(si,$);function Is(){$.call(this,"c")}W(Is,$);var Un={},Ns=null;function Ui(){return Ns=Ns||new ae}Un.La="serverreachability";function pa(u){$.call(this,Un.La,u)}W(pa,$);function Li(u){const d=Ui();jt(d,new pa(d))}Un.STAT_EVENT="statevent";function au(u,d){$.call(this,Un.STAT_EVENT,u),this.stat=d}W(au,$);function te(u){const d=Ui();jt(d,new au(d,u))}Un.Ma="timingevent";function _e(u,d){$.call(this,Un.Ma,u),this.size=d}W(_e,$);function fe(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Os(u,d,g,T,L,k){u.info(function(){if(u.g)if(k)for(var tt="",It=k.split("&"),ve=0;ve<It.length;ve++){var Nt=It[ve].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Ee=Ce.split("_");tt=2<=Ee.length&&Ee[1]=="type"?tt+(Ce+"="+Nt+"&"):tt+(Ce+"=redacted&")}}else tt=null;else tt=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+d+`
`+g+`
`+tt})}function Tc(u,d,g,T,L,k,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+d+`
`+g+`
`+k+" "+tt})}function zi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ir(u,g)+(T?" "+T:"")})}function su(u,d){u.info(function(){return"TIMEOUT: "+d})}dn.prototype.info=function(){};function Ir(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Cn(g)}catch{return d}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}W(zn,Cs),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Xe(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ms={},ya={};function Dn(u,d,g){u.L=1,u.v=Ur(rn(d)),u.m=g,u.P=!0,ui(u,null)}function ui(u,d){u.F=Date.now(),Nr(u),u.A=rn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Bs(g.i,"t",T),u.C=0,g=u.j.J,u.h=new ue,u.g=Au(u.j,g?d:null,!u.m),0<u.O&&(u.M=new Ec(U(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Cr[0]=L.toString()),L=Cr);for(var k=0;k<L.length;k++){var tt=nu(g,L[k],T||d.handleEvent,!1,d.h||d);if(!tt)break;d.g[tt.key]=tt}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Li(),Os(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const d=this.M;d&&yn(u)==3?d.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=yn(this.g);var d=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Ee!=4||d==7||(d==8||0>=pi?Li(3):Li(2)),Bi(this);var g=this.g.Z();this.X=g;e:if(lu(this)){var T=mu(this.g);u="";var L=T.length,k=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Pn(this);var tt="";break e}this.h.i=new y.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(k&&d==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,Tc(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ve=this.g;if((It=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(It)){var Nt=It;break e}}Nt=null}if(g=Nt)zi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Or(this,g);else{this.o=!1,this.s=3,te(12),Me(this),Pn(this);break t}}if(this.P){g=!0;let xe;for(;!this.J&&this.C<tt.length;)if(xe=uu(this,tt),xe==ya){Ee==4&&(this.s=4,te(14),g=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ms){this.s=4,te(15),zi(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else zi(this.i,this.l,xe,null),Or(this,xe);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||tt.length!=0||this.h.h||(this.s=1,te(16),g=!1),this.o=this.o&&g,!g)zi(this.i,this.l,tt,"[Invalid Chunked Response]"),Me(this),Pn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Hr(Ce),Ce.M=!0,te(11))}}else zi(this.i,this.l,tt,null),Or(this,tt);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?vu(this.j,this):(this.o=!1,Nr(this)))}else wc(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),Pn(this)}}}catch{}finally{}};function lu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function uu(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?ya:(g=Number(d.substring(g,T)),isNaN(g)?Ms:(T+=1,T+g>d.length?ya:(d=d.slice(T,T+g),u.C=T+g,d)))}Xe.prototype.cancel=function(){this.J=!0,Me(this)};function Nr(u){u.S=Date.now()+u.I,ou(u,u.I)}function ou(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(U(u.ba,u),d)}function Bi(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(su(this.i,this.A),this.L!=2&&(Li(),te(17)),Me(this),this.s=2,Pn(this)):ou(this,this.S-u)};function Pn(u){u.j.G==0||u.J||vu(u.j,u)}function Me(u){Bi(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Dr(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Or(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||xs(g.h,u))){if(!u.K&&xs(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Va(g),Ca(g);else break t;Gs(g),te(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(U(g.Za,g),6e3));if(1>=va(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gi(g,11)}else if((u.K||g.g==u)&&Va(g),!_t(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Nt=L[d];if(g.T=Nt[0],Nt=Nt[1],g.G==2)if(Nt[0]=="c"){g.K=Nt[1],g.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const Ee=Nt[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const pi=Nt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const xe=u.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ea(k,k.h),k.h=null))}if(T.D){const Ys=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(T.ya=Ys,Qt(T.I,T.D,Ys))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=u;if(T.qa=Tu(T,T.J?T.ia:null,T.W),tt.K){Ke(T.h,tt);var It=tt,ve=T.L;ve&&(It.I=ve),It.B&&(Bi(It),Nr(It)),T.g=tt}else yu(T);0<g.i.length&&Da(g)}else Nt[0]!="stop"&&Nt[0]!="close"||gi(g,7);else g.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?gi(g,7):js(g):Nt[0]!="noop"&&g.l&&g.l.ta(Nt),g.v=0)}}Li(4)}catch{}}var cu=class{constructor(u,d){this.g=u,this.map=d}};function oi(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _a(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function va(u){return u.h?1:u.g?u.g.size:0}function xs(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Ea(u,d){u.g?u.g.add(d):u.h=d}function Ke(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}oi.prototype.cancel=function(){if(this.i=Us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Us(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return J(u.i)}function Ac(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function Ta(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function Ls(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=Ta(u),T=Ac(u),L=T.length,k=0;k<L;k++)d.call(void 0,T[k],g&&g[k],u)}var Mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),L=null;if(0<=T){var k=u[g].substring(0,T);L=u[g].substring(T+1)}else k=u[g];d(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,xr(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var d=u.i,g=new hi;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),ci(this,g),this.m=u.m}else u&&(d=String(u).match(Mr))?(this.h=!1,xr(this,d[1]||"",!0),this.o=mn(d[2]||""),this.g=mn(d[3]||"",!0),qi(this,d[4]),this.l=mn(d[5]||"",!0),ci(this,d[6]||"",!0),this.m=mn(d[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Lr(d,zs,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Lr(d,zs,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Lr(g,g.charAt(0)=="/"?bc:Ps,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Lr(g,Aa)),u.join("")};function rn(u){return new de(u)}function xr(u,d,g){u.j=g?mn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ci(u,d,g){d instanceof hi?(u.i=d,fu(u.i,u.h)):(g||(d=Lr(d,Rc)),u.i=new hi(d,u.h))}function Qt(u,d,g){u.i.set(d,g)}function Ur(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,hu),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zs=/[#\/\?@]/g,Ps=/[#\?:]/g,bc=/[#\?]/g,Rc=/[#\?@]/g,Aa=/#/g;function hi(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Sc(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=hi.prototype,s.add=function(u,d){gn(this),this.i=null,u=Bn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function fi(u,d){gn(u),d=Bn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function di(u,d){return gn(u),d=Bn(u,d),u.g.has(d)}s.forEach=function(u,d){gn(this),this.g.forEach(function(g,T){g.forEach(function(L){u.call(d,L,T,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const L=u[T];for(let k=0;k<L.length;k++)g.push(d[T])}return g},s.V=function(u){gn(this);let d=[];if(typeof u=="string")di(this,u)&&(d=d.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},s.set=function(u,d){return gn(this),this.i=null,u=Bn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},s.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Bs(u,d,g){fi(u,d),0<g.length&&(u.i=null,u.g.set(Bn(u,d),J(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const k=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=k;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function fu(u,d){d&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(fi(this,T),Bs(this,L,g))},u)),u.j=d}function zr(u,d){const g=new dn;if(y.Image){const T=new Image;T.onload=Q(pn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=Q(pn,g,"TestLoadImage: error",!1,d,T),T.onabort=Q(pn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=Q(pn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Vn(u,d){const g=new dn,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?pn(g,"TestPingServer: ok",!0,d):pn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),pn(g,"TestPingServer: error",!1,d)})}function pn(u,d,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Pr(){this.g=new Vr}function qn(u,d,g){const T=g||"";try{Ls(u,function(L,k){let tt=L;_(L)&&(tt=Cn(L)),d.push(T+k+"="+encodeURIComponent(tt))})}catch(L){throw d.push(T+"type="+encodeURIComponent("_badmap")),L}}function ki(u){this.l=u.Ub||null,this.j=u.eb||!1}W(ki,Cs),ki.prototype.g=function(){return new mi(this.l,this.j)},ki.prototype.i=function(u){return function(){return u}}({});function mi(u,d){ae.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(mi,ae),s=mi.prototype,s.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?kn(this):jn(this),this.readyState==3&&qs(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,kn(this))},s.Qa=function(u){this.g&&(this.response=u,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}s.setRequestHeader=function(u,d){this.u.append(u,d)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ks(u){let d="";return Pt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function we(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=ks(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qt(u,d,g))}function Bt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Bt,ae);var Sa=/^https?$/i,Br=["POST","PUT"];s=Bt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ds(this.o):Ds(Ln),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(k){du(this,k);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),L=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Br,d,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,tt]of g)this.g.setRequestHeader(k,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){du(this,k)}};function du(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,ba(u),Hn(u)}function ba(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},s.bb=function(){Ra(this)};function Ra(u){if(u.h&&typeof m<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)je(u.Ea,0,u);else if(jt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=tt===0){var L=String(u.D).match(Mr)[1]||null;!L&&y.self&&y.self.location&&(L=y.self.location.protocol.slice(0,-1)),T=!Sa.test(L?L.toLowerCase():"")}g=T}if(g)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var k=2<yn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",ba(u)}}finally{Hn(u)}}}}function Hn(u,d){if(u.g){qr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||jt(u,"ready");try{g.onreadystatechange=T}catch{}}}function qr(u){u.I&&(y.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),ga(d)}};function mu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(u){const d={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_t(u[T]))continue;var g=I(u[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=d[L]||[];d[L]=k,k.push(g)}N(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function wa(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,u),this.cb=kr("retryDelaySeedMs",1e4,u),this.Wa=kr("forwardChannelMaxRetries",2,u),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(u&&u.concurrentRequestLimit),this.Da=new Pr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=wa.prototype,s.la=8,s.G=1,s.connect=function(u,d,g,T){te(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Tu(this,null,this.W),Da(this)};function js(u){if(gu(u),u.G==3){var d=u.U++,g=rn(u.I);if(Qt(g,"SID",u.K),Qt(g,"RID",d),Qt(g,"TYPE","terminate"),jr(u,g),d=new Xe(u,u.j,d),d.L=2,d.v=Ur(rn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=Au(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nr(d)}Eu(u)}function Ca(u){u.g&&(Hr(u),u.g.cancel(),u.g=null)}function gu(u){Ca(u),u.u&&(y.clearTimeout(u.u),u.u=null),Va(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function Da(u){if(!_a(u.h)&&!u.s){u.s=!0;var d=u.Ga;et||C(),lt||(et(),lt=!0),Lt.add(d,u),u.B=0}}function Cc(u,d){return va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(U(u.Ga,u,d),Qs(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Xe(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=pu(this,L,d),g=rn(this.I),Qt(g,"RID",u),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),jr(this,g),k&&(this.O?d="headers="+encodeURIComponent(String(ks(k)))+"&"+d:this.m&&we(g,this.m,k)),Ea(this.h,L),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",d),Qt(g,"SID","null"),L.T=!0,Dn(L,g,null)):Dn(L,g,d),this.G=2}}else this.G==3&&(u?Hs(this,u):this.i.length==0||_a(this.h)||Hs(this))};function Hs(u,d){var g;d?g=d.l:g=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",g),Qt(T,"AID",u.T),jr(u,T),u.m&&u.o&&we(T,u.m,u.o),g=new Xe(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=pu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ea(u.h,g),Dn(g,T,d)}function jr(u,d){u.H&&Pt(u.H,function(g,T){Qt(d,T,g)}),u.l&&Ls({},function(g,T){Qt(d,T,g)})}function pu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?U(u.l.Na,u.l,u):null;t:{var L=u.i;let k=-1;for(;;){const tt=["count="+g];k==-1?0<g?(k=L[0].g,tt.push("ofs="+k)):k=0:tt.push("ofs="+k);let It=!0;for(let ve=0;ve<g;ve++){let Nt=L[ve].g;const Ce=L[ve].map;if(Nt-=k,0>Nt)k=Math.max(0,L[ve].g-100),It=!1;else try{qn(Ce,tt,"req"+Nt+"_")}catch{T&&T(Ce)}}if(It){T=tt.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function yu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;et||C(),lt||(et(),lt=!0),Lt.add(d,u),u.v=0}}function Gs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(U(u.Fa,u),Qs(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(U(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ca(this),_u(this))};function Hr(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=rn(u.qa);Qt(d,"RID","rpc"),Qt(d,"SID",u.K),Qt(d,"AID",u.T),Qt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(d,"TO",u.ja),Qt(d,"TYPE","xmlhttp"),jr(u,d),u.m&&u.o&&we(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ur(rn(d)),g.m=null,g.P=!0,ui(g,u)}s.Za=function(){this.C!=null&&(this.C=null,Ca(this),Gs(this),te(19))};function Va(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function vu(u,d){var g=null;if(u.g==d){Va(u),Hr(u),u.g=null;var T=2}else if(xs(u.h,d))g=d.D,Ke(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=u.B;T=Ui(),jt(T,new _e(T,g)),Da(u)}else yu(u);else if(L=d.s,L==3||L==0&&0<d.X||!(T==1&&Cc(u,d)||T==2&&Gs(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Qs(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function gi(u,d){if(u.j.info("Error code "+d),d==2){var g=U(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||xr(T,"https"),Ur(T),L?zr(T.toString(),g):Vn(T.toString(),g)}else te(2);u.G=0,u.l&&u.l.sa(d),Eu(u),gu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const d=Us(u.h);(d.length!=0||u.i.length!=0)&&(Z(u.ka,d),Z(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function Tu(u,d,g){var T=g instanceof de?rn(g):new de(g);if(T.g!="")d&&(T.g=d+"."+T.g),qi(T,T.s);else{var L=y.location;T=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var k=new de(null);T&&xr(k,T),d&&(k.g=d),L&&qi(k,L),g&&(k.l=g),T=k}return g=u.D,d=u.ya,g&&d&&Qt(T,g,d),Qt(T,"VER",u.la),jr(u,T),T}function Au(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Bt(new ki({eb:g})):new Bt(u.pa),d.Ha(u.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ia(){}Ia.prototype.g=function(u,d){return new Ze(u,d)};function Ze(u,d){ae.call(this),this.g=new wa(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!_t(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_t(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Gn(this)}W(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){js(this.g)},Ze.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Cn(u),u=g);d.i.push(new cu(d.Ya++,u)),d.G==3&&Da(d)},Ze.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Ze.aa.N.call(this)};function bu(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}W(bu,si);function Ru(){Is.call(this),this.status=1}W(Ru,Is);function Gn(u){this.g=u}W(Gn,Su),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new bu(u))},Gn.prototype.sa=function(u){jt(this.g,new Ru)},Gn.prototype.ra=function(){jt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,A_=function(){return new Ia},T_=function(){return Ui()},E_=Un,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Uo=Pi,li.COMPLETE="complete",v_=li,Vs.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",ae.prototype.listen=ae.prototype.K,xl=Vs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,__=Bt}).apply(typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",dy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new h_("@firebase/firestore");function as(){return la.logLevel}function it(s,...e){if(la.logLevel<=xt.DEBUG){const i=e.map(sd);la.debug(`Firestore (${Es}): ${s}`,...i)}}function Oi(s,...e){if(la.logLevel<=xt.ERROR){const i=e.map(sd);la.error(`Firestore (${Es}): ${s}`,...i)}}function ds(s,...e){if(la.logLevel<=xt.WARN){const i=e.map(sd);la.warn(`Firestore (${Es}): ${s}`,...i)}}function sd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,S_(s,a,i)}function S_(s,e,i){let a=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Oi(a),new Error(a)}function qt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||S_(e,o,a)}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class f1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class d1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new mr,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new mr)}},0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new b_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class m1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new m1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new my(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new my(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=y1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Dt(s,e){return s<e?-1:s>e?1:0}function kf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return Vf(o)===Vf(h)?Dt(o,h):Vf(o)?1:-1}return Dt(s.length,e.length)}const _1=55296,v1=57343;function Vf(s){const e=s.charCodeAt(0);return e>=_1&&e<=v1}function ms(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),o=Jn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class $t extends Jn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const E1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Jn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return E1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gy}static keyField(){return new Be([gy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(m=!m,o++):y!=="."||m?(a+=y,o++):(h(),o++)}if(h(),m)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot($t.fromString(e))}static fromName(e){return new ot($t.fromString(e).popFirst(5))}static empty(){return new ot($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function T1(s,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function py(s){if(!ot.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function yy(s){if(ot.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function w_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ud(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Qo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ud(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(s,e){const i={typeString:s};return e&&(i.value=e),i}function Jl(s,e){if(!w_(s))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const m=s[a];if(o&&typeof m!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&m!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-62135596800,vy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*vy);return new Wt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<_y)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:ye("string",Wt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Wt(0,0))}static max(){return new vt(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function A1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new Wt(i+1,0):new Wt(i,a));return new pr(o,ot.empty(),e)}function S1(s){return new pr(s.readTime,s.key,Ql)}class pr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new pr(vt.min(),ot.empty(),Ql)}static max(){return new pr(vt.max(),ot.empty(),Ql)}}function b1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==R1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let o=0,h=0,m=!1;e.forEach(y=>{++o,y.next(()=>{++h,m&&h===o&&i()},v=>a(v))}),m=!0,h===o&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(o=>o?F.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,o)=>{const h=e.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{m[_]=A,++y,y===h&&a(m)},A=>o(A))}})}static doWhile(e,i){return new F((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function C1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function As(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ac(s){return s==null}function Yo(s){return s===0&&1/s==-1/0}function D1(s){return typeof s=="number"&&Number.isInteger(s)&&!Yo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="";function V1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ey(e)),e=I1(s.get(i),e);return Ey(e)}function I1(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case C_:i+="";break;default:i+=h}}return i}function Ey(s){return s+C_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function oa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function D_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Do(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Do(this.root,e,this.comparator,!1)}getReverseIterator(){return new Do(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Do(this.root,e,this.comparator,!0)}}class Do{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Pe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new V_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const N1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=N1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="server_timestamp",N_="__type__",O_="__previous_value__",M_="__local_write_time__";function cd(s){return(s?.mapValue?.fields||{})[N_]?.stringValue===I_}function sc(s){const e=s.mapValue.fields[O_];return cd(e)?sc(e):e}function Yl(s){const e=yr(s.mapValue.fields[M_].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,i,a,o,h,m,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Fo="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||Fo}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Fo}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__type__",M1="__max__",Vo={mapValue:{}},U_="__vector__",Xo="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?cd(s)?4:U1(s)?9007199254740991:x1(s)?10:11:dt(28295,{value:s})}function ni(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=yr(o.timestampValue),y=yr(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return _r(o.bytesValue).isEqual(_r(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=he(o.doubleValue),y=he(h.doubleValue);return m===y?Yo(m)===Yo(y):isNaN(m)&&isNaN(y)}return!1}(s,e);case 9:return ms(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,h){const m=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Ty(m)!==Ty(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!ni(m[v],y[v])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Xl(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function gs(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return function(h,m){const y=he(h.integerValue||h.doubleValue),v=he(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(s,e);case 3:return Sy(s.timestampValue,e.timestampValue);case 4:return Sy(Yl(s),Yl(e));case 5:return kf(s.stringValue,e.stringValue);case 6:return function(h,m){const y=_r(h),v=_r(m);return y.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const y=h.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Dt(y[_],v[_]);if(A!==0)return A}return Dt(y.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const y=Dt(he(h.latitude),he(m.latitude));return y!==0?y:Dt(he(h.longitude),he(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return by(s.arrayValue,e.arrayValue);case 10:return function(h,m){const y=h.fields||{},v=m.fields||{},_=y[Xo]?.arrayValue,A=v[Xo]?.arrayValue,O=Dt(_?.values?.length||0,A?.values?.length||0);return O!==0?O:by(_,A)}(s.mapValue,e.mapValue);case 11:return function(h,m){if(h===Vo.mapValue&&m===Vo.mapValue)return 0;if(h===Vo.mapValue)return 1;if(m===Vo.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const U=kf(v[O],A[O]);if(U!==0)return U;const Q=gs(y[v[O]],_[A[O]]);if(Q!==0)return Q}return Dt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function Sy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=yr(s),a=yr(e),o=Dt(i.seconds,a.seconds);return o!==0?o:Dt(i.nanos,a.nanos)}function by(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=gs(i[o],a[o]);if(h)return h}return Dt(i.length,a.length)}function ps(s){return jf(s)}function jf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return _r(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=jf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const m of a)h?h=!1:o+=",",o+=`${m}:${jf(i.fields[m])}`;return o+"}"}(s.mapValue):dt(61005,{value:s})}function Lo(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(s);return e?16+Lo(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Lo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return oa(a.fields,(h,m)=>{o+=h.length+Lo(m)}),o}(s.mapValue);default:throw dt(13486,{value:s})}}function Hf(s){return!!s&&"integerValue"in s}function hd(s){return!!s&&"arrayValue"in s}function Ry(s){return!!s&&"nullValue"in s}function wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zo(s){return!!s&&"mapValue"in s}function x1(s){return(s?.mapValue?.fields||{})[x_]?.stringValue===U_}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return oa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Pl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return{...s}}function U1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===M1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Be.emptyPath(),a={},o=[];e.forEach((m,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}m?a[y.lastSegment()]=Pl(m):o.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];zo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){oa(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Rn(Pl(this.value))}}function L_(s){const e=[];return oa(s.fields,(i,a)=>{const o=new Be([i]);if(zo(a)){const h=L_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const m of h)e.push(o.child(m))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,o,h,m,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(e){return new Fe(e,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,o){return new Fe(e,1,i,vt.min(),a,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i){this.position=e,this.inclusive=i}}function Cy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],m=s.position[o];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(m.referenceValue),i.key):a=gs(m,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i="asc"){this.field=e,this.dir=i}}function L1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{}class Se extends z_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new P1(e,i,a):i==="array-contains"?new k1(e,a):i==="in"?new j1(e,a):i==="not-in"?new H1(e,a):i==="array-contains-any"?new G1(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new B1(e,a):new q1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gs(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(gs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends z_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return P_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P_(s){return s.op==="and"}function B_(s){return z1(s)&&P_(s)}function z1(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Gf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+ps(s.value);if(B_(s))return s.filters.map(e=>Gf(e)).join(",");{const e=s.filters.map(i=>Gf(i)).join(",");return`${s.op}(${e})`}}function q_(s,e){return s instanceof Se?function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&ni(a.value,o.value)}(s,e):s instanceof ii?function(a,o){return o instanceof ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,m,y)=>h&&q_(m,o.filters[y]),!0):!1}(s,e):void dt(19439)}function k_(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${ps(i.value)}`}(s):s instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(k_).join(" ,")+"}"}(s):"Filter"}class P1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class B1 extends Se{constructor(e,i){super(e,"in",i),this.keys=j_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class q1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=j_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function j_(s,e){return(e.arrayValue?.values||[]).map(i=>ot.fromName(i.referenceValue))}class k1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Xl(i.arrayValue,this.value)}}class j1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xl(this.value.arrayValue,i)}}class H1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xl(this.value.arrayValue,i)}}class G1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,i=null,a=[],o=[],h=null,m=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=m,this.endAt=y,this.Te=null}}function Vy(s,e=null,i=[],a=[],o=null,h=null,m=null){return new Q1(s,e,i,a,o,h,m)}function fd(s){const e=Et(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Gf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ps(a)).join(",")),e.Te=i}return e.Te}function dd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!L1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!q_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Dy(s.startAt,e.startAt)&&Dy(s.endAt,e.endAt)}function Qf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i=null,a=[],o=[],h=null,m="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y1(s,e,i,a,o,h,m,y){return new lc(s,e,i,a,o,h,m,y)}function H_(s){return new lc(s)}function Iy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function F1(s){return s.collectionGroup!==null}function Bl(s){const e=Et(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new be(Be.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(y=y.add(_.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Zo(h,a))}),i.has(Be.keyField().canonicalString())||e.Ie.push(new Zo(Be.keyField(),a))}return e.Ie}function $n(s){const e=Et(s);return e.Ee||(e.Ee=X1(e,Bl(s))),e.Ee}function X1(s,e){if(s.limitType==="F")return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Zo(o.field,h)});const i=s.endAt?new Ko(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ko(s.startAt.position,s.startAt.inclusive):null;return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Yf(s,e,i){return new lc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function uc(s,e){return dd($n(s),$n(e))&&s.limitType===e.limitType}function G_(s){return`${fd($n(s))}|lt:${s.limitType}`}function ss(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>k_(o)).join(", ")}]`),ac(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ps(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ps(o)).join(",")),`Target(${a})`}($n(s))}; limitType=${s.limitType})`}function oc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Bl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(m,y,v){const _=Cy(m,y,v);return m.inclusive?_<=0:_<0}(a.startAt,Bl(a),o)||a.endAt&&!function(m,y,v){const _=Cy(m,y,v);return m.inclusive?_>=0:_>0}(a.endAt,Bl(a),o))}(s,e)}function K1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Q_(s){return(e,i)=>{let a=!1;for(const o of Bl(s)){const h=Z1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function Z1(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,m,y){const v=m.data.field(h),_=y.data.field(h);return v!==null&&_!==null?gs(v,_):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return D_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new ie(ot.comparator);function Mi(){return J1}const Y_=new ie(ot.comparator);function Ul(...s){let e=Y_;for(const i of s)e=e.insert(i.key,i);return e}function F_(s){let e=Y_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function sa(){return ql()}function X_(){return ql()}function ql(){return new ca(s=>s.toString(),(s,e)=>s.isEqual(e))}const $1=new ie(ot.comparator),W1=new be(ot.comparator);function Vt(...s){let e=W1;for(const i of s)e=e.add(i);return e}const tA=new be(Dt);function eA(){return tA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function K_(s){return{integerValue:""+s}}function nA(s,e){return D1(e)?K_(e):md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function iA(s,e,i){return s instanceof Jo?function(o,h){const m={fields:{[N_]:{stringValue:I_},[M_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&cd(h)&&(h=sc(h)),h&&(m.fields[O_]=h),{mapValue:m}}(i,e):s instanceof Kl?J_(s,e):s instanceof Zl?$_(s,e):function(o,h){const m=Z_(o,h),y=Ny(m)+Ny(o.Ae);return Hf(m)&&Hf(o.Ae)?K_(y):md(o.serializer,y)}(s,e)}function rA(s,e,i){return s instanceof Kl?J_(s,e):s instanceof Zl?$_(s,e):i}function Z_(s,e){return s instanceof $o?function(a){return Hf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Jo extends cc{}class Kl extends cc{constructor(e){super(),this.elements=e}}function J_(s,e){const i=W_(e);for(const a of s.elements)i.some(o=>ni(o,a))||i.push(a);return{arrayValue:{values:i}}}class Zl extends cc{constructor(e){super(),this.elements=e}}function $_(s,e){let i=W_(e);for(const a of s.elements)i=i.filter(o=>!ni(o,a));return{arrayValue:{values:i}}}class $o extends cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Ny(s){return he(s.integerValue||s.doubleValue)}function W_(s){return hd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function aA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Kl&&o instanceof Kl||a instanceof Zl&&o instanceof Zl?ms(a.elements,o.elements,ni):a instanceof $o&&o instanceof $o?ni(a.Ae,o.Ae):a instanceof Jo&&o instanceof Jo}(s.transform,e.transform)}class sA{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Po(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class hc{}function tv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new nv(s.key,Ii.none()):new $l(s.key,s.data,Ii.none());{const i=s.data,a=Rn.empty();let o=new be(Be.comparator);for(let h of e.fields)if(!o.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?a.delete(h):a.set(h,m),o=o.add(h)}return new ha(s.key,a,new Mn(o.toArray()),Ii.none())}}function lA(s,e,i){s instanceof $l?function(o,h,m){const y=o.value.clone(),v=My(o.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(s,e,i):s instanceof ha?function(o,h,m){if(!Po(o.precondition,h))return void h.convertToUnknownDocument(m.version);const y=My(o.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(ev(o)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(s,e,i):function(o,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,a){return s instanceof $l?function(h,m,y,v){if(!Po(h.precondition,m))return y;const _=h.value.clone(),A=xy(h.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof ha?function(h,m,y,v){if(!Po(h.precondition,m))return y;const _=xy(h.fieldTransforms,v,m),A=m.data;return A.setAll(ev(h)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(O=>O.field))}(s,e,i,a):function(h,m,y){return Po(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(s,e,i)}function uA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=Z_(a.transform,o||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,h))}return i||null}function Oy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ms(a,o,(h,m)=>aA(h,m))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends hc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends hc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ev(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function My(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],m=h.transform,y=e.data.field(h.field);a.set(h.field,rA(m,y,i[o]))}return a}function xy(s,e,i){const a=new Map;for(const o of s){const h=o.transform,m=i.data.field(o.field);a.set(o.field,iA(h,m,e))}return a}class nv extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oA extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&lA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=X_();return this.mutations.forEach(o=>{const h=e.get(o.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=i.has(o.key)?null:y;const v=tv(m,y);v!==null&&a.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(i,a)=>Oy(i,a))&&ms(this.baseMutations,e.baseMutations,(i,a)=>Oy(i,a))}}class gd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return $1}();const h=e.mutations;for(let m=0;m<h.length;m++)o=o.insert(h[m].key,a[m].version);return new gd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Mt;function dA(s){switch(s){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function iv(s){if(s===void 0)return Oi("GRPC error has no .code"),K.UNKNOWN;switch(s){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:s})}}(Mt=pe||(pe={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new dr([4294967295,4294967295],0);function Uy(s){const e=mA().encode(s),i=new y_;return i.update(e),new Uint8Array(i.digest())}function Ly(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new dr([i,a],0),new dr([o,h],0)]}class pd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(a<0)throw new Ll(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(dr.fromNumber(a)));return o.compare(gA)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Uy(e),[a,o]=Ly(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(a,o,h);if(!this.we(m))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new pd(h,o,i);return a.forEach(y=>m.insert(y)),m}insert(e){if(this.ge===0)return;const i=Uy(e),[a,o]=Ly(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(a,o,h);this.Se(m)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new fc(vt.min(),o,new ie(Dt),Mi(),Vt())}}class Wl{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Wl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class rv{constructor(e,i){this.targetId=e,this.Ce=i}}class av{constructor(e,i,a=ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class zy{constructor(){this.ve=0,this.Fe=Py(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),a=Vt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:dt(38017,{changeType:h})}}),new Wl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Py()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=Io(),this.He=Io(),this.Ye=new ie(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Qf(h))if(a===0){const m=new ot(h.path);this.et(i,m,Fe.newNoDocument(m,vt.min()))}else qt(a===1,20013,{expectedCount:a});else{const m=this._t(i);if(m!==a){const y=this.ut(e),v=y?this.ct(y,e,m):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let m,y;try{m=_r(a).toUint8Array()}catch(v){if(v instanceof V_)return ds("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new pd(m,o,h)}catch(v){return ds(v instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const m=this.Ge.ht(),y=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,m)=>{const y=this.ot(m);if(y){if(h.current&&Qf(y.target)){const v=new ot(y.target.path);this.It(v).has(m)||this.Et(m,v)||this.et(m,v,Fe.newNoDocument(v,e))}h.Be&&(i.set(m,h.ke()),h.qe())}});let a=Vt();this.He.forEach((h,m)=>{let y=!0;m.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.je.forEach((h,m)=>m.setReadTime(e));const o=new fc(e,i,this.Ye,this.je,a);return this.je=Mi(),this.Je=Io(),this.He=Io(),this.Ye=new ie(Dt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new zy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zy),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Io(){return new ie(ot.comparator)}function Py(){return new ie(ot.comparator)}const yA={asc:"ASCENDING",desc:"DESCENDING"},_A={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vA={and:"AND",or:"OR"};class EA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ff(s,e){return s.useProto3Json||ac(e)?e:{value:e}}function Wo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function TA(s,e){return Wo(s,e.toTimestamp())}function Wn(s){return qt(!!s,49232),vt.fromTimestamp(function(i){const a=yr(i);return new Wt(a.seconds,a.nanos)}(s))}function yd(s,e){return Xf(s,e).canonicalString()}function Xf(s,e){const i=function(o){return new $t(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function lv(s){const e=$t.fromString(s);return qt(fv(e),10190,{key:e.toString()}),e}function Kf(s,e){return yd(s.databaseId,e.path)}function If(s,e){const i=lv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(ov(i))}function uv(s,e){return yd(s.databaseId,e)}function AA(s){const e=lv(s);return e.length===4?$t.emptyPath():ov(e)}function Zf(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ov(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function By(s,e,i){return{name:Kf(s,e),fields:i.value.mapValue.fields}}function SA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),m=e.targetChange.cause,y=m&&function(_){const A=_.code===void 0?K.UNKNOWN:iv(_.code);return new at(A,_.message||"")}(m);i=new av(a,o,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=If(s,a.document.name),h=Wn(a.document.updateTime),m=a.document.createTime?Wn(a.document.createTime):vt.min(),y=new Rn({mapValue:{fields:a.document.fields}}),v=Fe.newFoundDocument(o,h,m,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Bo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=If(s,a.document),h=a.readTime?Wn(a.readTime):vt.min(),m=Fe.newNoDocument(o,h),y=a.removedTargetIds||[];i=new Bo([],y,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=If(s,a.document),h=a.removedTargetIds||[];i=new Bo([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,m=new fA(o,h),y=a.targetId;i=new rv(y,m)}}return i}function bA(s,e){let i;if(e instanceof $l)i={update:By(s,e.key,e.value)};else if(e instanceof nv)i={delete:Kf(s,e.key)};else if(e instanceof ha)i={update:By(s,e.key,e.data),updateMask:MA(e.fieldMask)};else{if(!(e instanceof oA))return dt(16599,{Vt:e.type});i={verify:Kf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const y=m.transform;if(y instanceof Jo)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Kl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Zl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof $o)return{fieldPath:m.field.canonicalString(),increment:y.Ae};throw dt(20930,{transform:m.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:TA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function RA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(o,h){let m=o.updateTime?Wn(o.updateTime):Wn(h);return m.isEqual(vt.min())&&(m=Wn(h)),new sA(m,o.transformResults||[])}(i,e))):[]}function wA(s,e){return{documents:[uv(s,e.path)]}}function CA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=uv(s,o);const h=function(_){if(_.length!==0)return hv(ii.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const m=function(_){if(_.length!==0)return _.map(A=>function(U){return{field:ls(U.field),direction:IA(U.dir)}}(A))}(e.orderBy);m&&(i.structuredQuery.orderBy=m);const y=Ff(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function DA(s){let e=AA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(O){const U=cv(O);return U instanceof ii&&B_(U)?U.getFilters():[U]}(i.where));let m=[];i.orderBy&&(m=function(O){return O.map(U=>function(W){return new Zo(us(W.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(U))}(i.orderBy));let y=null;i.limit&&(y=function(O){let U;return U=typeof O=="object"?O.value:O,ac(U)?null:U}(i.limit));let v=null;i.startAt&&(v=function(O){const U=!!O.before,Q=O.values||[];return new Ko(Q,U)}(i.startAt));let _=null;return i.endAt&&(_=function(O){const U=!O.before,Q=O.values||[];return new Ko(Q,U)}(i.endAt)),Y1(e,o,m,h,y,"F",v,_)}function VA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function cv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=us(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=us(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=us(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=us(i.unaryFilter.field);return Se.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Se.create(us(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(a=>cv(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function IA(s){return yA[s]}function NA(s){return _A[s]}function OA(s){return vA[s]}function ls(s){return{fieldPath:s.canonicalString()}}function us(s){return Be.fromServerFormat(s.fieldPath)}function hv(s){return s instanceof Se?function(i){if(i.op==="=="){if(wy(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NAN"}};if(Ry(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wy(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NAN"}};if(Ry(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(i.field),op:NA(i.op),value:i.value}}}(s):s instanceof ii?function(i){const a=i.getFilters().map(o=>hv(o));return a.length===1?a[0]:{compositeFilter:{op:OA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function MA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function fv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,i,a,o,h=vt.min(),m=vt.min(),y=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.yt=e}}function UA(s){const e=DA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.Cn=new zA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(pr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class zA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new be($t.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(dv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ys(0)}static cr(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",PA=1048576;function jy([s,e],[i,a]){const o=Dt(s,i);return o===0?Dt(e,a):o}class BA{constructor(e){this.Ir=e,this.buffer=new be(jy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();jy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(ky,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){As(i)?it(ky,"Ignoring IndexedDB error during garbage collection: ",i):await Ts(i)}await this.Vr(3e5)})}}class kA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(rc.ce);const a=new BA(i);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,m,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,m=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(a=O,y=Date.now(),this.removeTargets(e,a,i))).next(O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(O=>(_=Date.now(),as()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${o} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:O})))}}function jA(s,e){return new kA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.changes=new ca(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&kl(a.mutation,o,Mn.empty(),Wt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const o=sa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let m=Ul();return h.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((m,y)=>{i.set(m,y)})})}computeViews(e,i,a,o){let h=Mi();const m=ql(),y=function(){return ql()}();return i.forEach((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ha)?h=h.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),kl(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):m.set(_.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>m.set(_,A)),i.forEach((_,A)=>y.set(_,new GA(A,m.get(_)??null))),y))}recalculateAndSaveOverlays(e,i){const a=ql();let o=new ie((m,y)=>m-y),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(m=>{for(const y of m)y.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Mn.empty();A=y.applyToLocalView(_,A),a.set(v,A);const O=(o.get(y.batchId)||Vt()).add(v);o=o.insert(y.batchId,O)})}).next(()=>{const m=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,O=X_();A.forEach(U=>{if(!h.has(U)){const Q=tv(i.get(U),a.get(U));Q!==null&&O.set(U,Q),h=h.add(U)}}),m.push(this.documentOverlayCache.saveOverlays(e,_,O))}return F.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(m){return ot.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):F1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const m=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):F.resolve(sa());let y=Ql,v=h;return m.next(_=>F.forEach(_,(A,O)=>(y<O.largestBatchId&&(y=O.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(U=>{v=v.insert(A,U)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Vt())).next(A=>({batchId:y,changes:F_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let o=Ul();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let m=Ul();return this.indexManager.getCollectionParents(e,h).next(y=>F.forEach(y,v=>{const _=function(O,U){return new lc(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next(A=>{A.forEach((O,U)=>{m=m.insert(O,U)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(m=>{h.forEach((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,Fe.newInvalidDocument(A)))});let y=Ul();return m.forEach((v,_)=>{const A=h.get(v);A!==void 0&&kl(A.mutation,_,Mn.empty(),Wt.now()),oc(i,_)&&(y=y.insert(v,_))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return F.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Wn(o.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:UA(o.bundledQuery),readTime:Wn(o.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.overlays=new ie(ot.comparator),this.qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return F.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const o=sa(),h=i.length+1,m=new ot(i.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ie((_,A)=>_-A);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=sa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=sa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>y.set(_,A)),!(y.size()>=o)););return F.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new hA(i,a));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new be(Ne.$r),this.Ur=new be(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Ne(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new ot(new $t([])),a=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.Ur.forEachInRange([a,o],m=>{this.Gr(m),h.push(m.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ot(new $t([])),a=new Ne(i,e),o=new Ne(i,e+1);let h=Vt();return this.Ur.forEachInRange([a,o],m=>{h=h.add(m.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ot.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(Ne.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new cA(h,i,a,o);this.mutationQueue.push(m);for(const y of o)this.Zr=this.Zr.add(new Ne(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return F.resolve(m)}lookupMutationBatch(e,i){return F.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?od:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],m=>{const y=this.Xr(m.Yr);h.push(y)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Dt);return i.forEach(o=>{const h=new Ne(o,0),m=new Ne(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],y=>{a=a.add(y.Yr)})}),F.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const m=new Ne(new ot(h),0);let y=new be(Dt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)},m),F.resolve(this.ti(y))}ti(e){const i=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return F.forEach(i.mutations,o=>{const h=new Ne(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Ne(i,0),o=this.Zr.firstAfterOrEqual(a);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.ri=e,this.docs=function(){return new ie(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,m=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=Mi();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Mi();const m=i.path,y=new ot(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||b1(S1(A),a)<=0||(o.has(A.key)||oc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,o){dt(9500)}ii(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new JA(this)}getSize(e){return F.resolve(this.size)}}class JA extends HA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.persistence=e,this.si=new ca(i=>fd(i),dd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=ys.ur()}forEachTarget(e,i){return this.si.forEach((a,o)=>i(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),F.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ys(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Pr(i),F.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach((m,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),F.waitFor(h).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(m=>{h.push(o.markPotentiallyOrphaned(e,m))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.ui={},this.overlays={},this.ci=new rc(0),this.li=!1,this.li=!0,this.hi=new XA,this.referenceDelegate=e(this),this.Pi=new $A(this),this.indexManager=new LA,this.remoteDocumentCache=function(o){return new ZA(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new xA(i),this.Ii=new YA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new KA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const o=new WA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return F.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class WA extends w1{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Ri=new _d,this.Vi=null}static mi(e){return new vd(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,a=>{const o=ot.fromPath(a);return this.gi(e,o).next(h=>{h||i.removeEntry(o,vt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return F.or([()=>F.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tc{constructor(e,i){this.persistence=e,this.pi=new ca(a=>V1(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=jA(this,i)}static mi(e,i){return new tc(e,i)}Ei(){}di(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return F.forEach(this.pi,(a,o)=>this.br(e,a,o).next(h=>h?F.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,m=>this.br(e,m,i).next(y=>{y||(a++,h.removeEntry(m,vt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lo(e.data.value)),i}br(e,i,a){return F.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return F.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ed(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Q0()?8:C1(H0())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.ws(e,i,o,a).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new tS;return this.Ss(e,i,m).next(y=>{if(h.result=y,this.Vs)return this.bs(e,i,m,y.size)})}).next(()=>h.result)}bs(e,i,a,o){return a.documentReadCount<this.fs?(as()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(as()<=xt.DEBUG&&it("QueryEngine","Query:",ss(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(as()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):F.resolve())}ys(e,i){if(Iy(i))return F.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Yf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const m=Vt(...h);return this.ps.getDocuments(e,m).next(y=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.Ds(i,y);return this.Cs(i,_,m,v.readTime)?this.ys(e,Yf(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,a,o){return Iy(i)||o.isEqual(vt.min())?F.resolve(null):this.ps.getDocuments(e,a).next(h=>{const m=this.Ds(i,h);return this.Cs(i,m,a,o)?F.resolve(null):(as()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ss(i)),this.vs(e,m,i,A1(o,Ql)).next(y=>y))})}Ds(e,i){let a=new be(Q_(e));return i.forEach((o,h)=>{oc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return as()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ss(i)),this.ps.getDocumentsMatchingQuery(e,i,pr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",nS=3e8;class iS{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ie(Dt),this.xs=new ca(h=>fd(h),dd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function rS(s,e,i,a){return new iS(s,e,i,a)}async function gv(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const m=[],y=[];let v=Vt();for(const _ of o){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Ls:_,removedBatchIds:m,addedBatchIds:y}))})})}function aS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(y,v,_,A){const O=_.batch,U=O.keys();let Q=F.resolve();return U.forEach(W=>{Q=Q.next(()=>A.getEntry(v,W)).next(J=>{const Z=_.docVersions.get(W);qt(Z!==null,48541),J.version.compareTo(Z)<0&&(O.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))})}),Q.next(()=>y.mutationQueue.removeMutationBatch(v,O))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function pv(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function sS(s,e){const i=Et(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach((A,O)=>{const U=o.get(O);if(!U)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,O).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,O)));let Q=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?Q=Q.withResumeToken(ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),o=o.insert(O,Q),function(J,Z,mt){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=nS?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(U,Q,A)&&y.push(i.Pi.updateTargetData(h,Q))});let v=Mi(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),y.push(lS(h,m,e.documentUpdates).next(A=>{v=A.ks,_=A.qs})),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(O=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(A)}return F.waitFor(y).next(()=>m.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=o,h))}function lS(s,e,i){let a=Vt(),o=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let m=Mi();return i.forEach((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(y,v.readTime),m=m.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),m=m.insert(y,v)):it(Td,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)}),{ks:m,qs:o}})}function uS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function oS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Pi.getTargetData(a,e).next(h=>h?(o=h,F.resolve(o)):i.Pi.allocateTargetId(a).next(m=>(o=new cr(e,m,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function Jf(s,e,i){const a=Et(s),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!As(m))throw m;it(Td,`Failed to update sequence numbers for target ${e}: ${m}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Hy(s,e,i){const a=Et(s);let o=vt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",m=>function(v,_,A){const O=Et(v),U=O.xs.get(A);return U!==void 0?F.resolve(O.Ms.get(U)):O.Pi.getTargetData(_,A)}(a,m,$n(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(m,y.targetId).next(v=>{h=v})}).next(()=>a.Fs.getDocumentsMatchingQuery(m,e,i?o:vt.min(),i?h:Vt())).next(y=>(cS(a,K1(e),y),{documents:y,Qs:h})))}function cS(s,e,i){let a=s.Os.get(e)||vt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(e,a)}class Gy{constructor(){this.activeTargetIds=eA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hS{constructor(){this.Mo=new Gy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="ConnectivityMonitor";class Yy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Qy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(Qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No=null;function $f(){return No===null?No=function(){return 268435456+Math.round(2147483648*Math.random())}():No++,"0x"+No.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Fo?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const m=$f(),y=this.zo(e,i.toUriEncodedString());it(Nf,`Sending RPC '${e}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=rd(_);return this.Jo(e,y,v,a,A).then(O=>(it(Nf,`Received RPC '${e}' ${m}: `,O),O),O=>{throw ds(Nf,`RPC '${e}' ${m} failed with error: `,O,"url: ",y,"request:",a),O})}Ho(e,i,a,o,h,m){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const a=dS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class pS extends mS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const m=$f();return new Promise((y,v)=>{const _=new __;_.setWithCredentials(!0),_.listenOnce(v_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Uo.NO_ERROR:const O=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(O)),y(O);break;case Uo.TIMEOUT:it(Qe,`RPC '${e}' ${m} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:const U=_.getStatus();if(it(Qe,`RPC '${e}' ${m} failed with status:`,U,"response text:",_.getResponseText()),U>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const J=function(mt){const _t=mt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_t)>=0?_t:K.UNKNOWN}(W.status);v(new at(J,W.message))}else v(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${m} completed.`)}});const A=JSON.stringify(o);it(Qe,`RPC '${e}' ${m} sending request:`,o),_.send(i,"POST",A,a,15)})}T_(e,i,a){const o=$f(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=A_(),y=T_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const O=m.createWebChannel(A,v);this.I_(O);let U=!1,Q=!1;const W=new gS({Yo:Z=>{Q?it(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(U||(it(Qe,`Opening RPC '${e}' stream ${o} transport.`),O.open(),U=!0),it(Qe,`RPC '${e}' stream ${o} sending:`,Z),O.send(Z))},Zo:()=>O.close()}),J=(Z,mt,_t)=>{Z.listen(mt,ct=>{try{_t(ct)}catch(kt){setTimeout(()=>{throw kt},0)}})};return J(O,xl.EventType.OPEN,()=>{Q||(it(Qe,`RPC '${e}' stream ${o} transport opened.`),W.o_())}),J(O,xl.EventType.CLOSE,()=>{Q||(Q=!0,it(Qe,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(O))}),J(O,xl.EventType.ERROR,Z=>{Q||(Q=!0,ds(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new at(K.UNAVAILABLE,"The operation could not be completed")))}),J(O,xl.EventType.MESSAGE,Z=>{if(!Q){const mt=Z.data[0];qt(!!mt,16349);const _t=mt,ct=_t?.error||_t[0]?.error;if(ct){it(Qe,`RPC '${e}' stream ${o} received error:`,ct);const kt=ct.status;let Tt=function(S){const w=pe[S];if(w!==void 0)return iv(w)}(kt),Pt=ct.message;Tt===void 0&&(Tt=K.INTERNAL,Pt="Unknown error status: "+kt+" with message "+ct.message),Q=!0,W.a_(new at(Tt,Pt)),O.close()}else it(Qe,`RPC '${e}' stream ${o} received:`,mt),W.u_(mt)}}),J(y,E_.STAT_EVENT,Z=>{Z.stat===qf.PROXY?it(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===qf.NOPROXY&&it(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{W.__()},0),W}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s){return new EA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="PersistentStream";class _v{constructor(e,i,a,o,h,m,y,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===i&&this.G_(a,o)},a=>{e(()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return it(Fy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(it(Fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yS extends _v{constructor(e,i,a,o,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,m),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=SA(this.serializer,e),a=function(h){if(!("targetChange"in h))return vt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?vt.min():m.readTime?Wn(m.readTime):vt.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,m){let y;const v=m.target;if(y=Qf(v)?{documents:wA(h,v)}:{query:CA(h,v).ft},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=sv(h,m.resumeToken);const _=Ff(h,m.expectedCount);_!==null&&(y.expectedCount=_)}else if(m.snapshotVersion.compareTo(vt.min())>0){y.readTime=Wo(h,m.snapshotVersion.toTimestamp());const _=Ff(h,m.expectedCount);_!==null&&(y.expectedCount=_)}return y}(this.serializer,e);const a=VA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.q_(i)}}class _S extends _v{constructor(e,i,a,o,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=RA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Zf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>bA(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class ES extends vS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Go(e,Xf(i,a),o,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Ho(e,Xf(i,a),o,m,y,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new at(K.UNKNOWN,m.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class AS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(m=>{a.enqueueAndForget(async()=>{fa(this)&&(it(ua,"Restarting streams for network reachability change."),await async function(v){const _=Et(v);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mc(_)}(this))})}),this.Ra=new TS(a,o)}}async function mc(s){if(fa(s))for(const e of s.da)await e(!0)}async function tu(s){for(const e of s.da)await e(!1)}function vv(s,e){const i=Et(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Rd(i)?bd(i):Ss(i).O_()&&Sd(i,e))}function Ad(s,e){const i=Et(s),a=Ss(i);i.Ia.delete(e),a.O_()&&Ev(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Ra.set("Unknown"))}function Sd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ss(s).Y_(e)}function Ev(s,e){s.Va.Ue(e),Ss(s).Z_(e)}function bd(s){s.Va=new pA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ss(s).start(),s.Ra.ua()}function Rd(s){return fa(s)&&!Ss(s).x_()&&s.Ia.size>0}function fa(s){return Et(s).Ea.size===0}function Tv(s){s.Va=void 0}async function SS(s){s.Ra.set("Online")}async function bS(s){s.Ia.forEach((e,i)=>{Sd(s,e)})}async function RS(s,e){Tv(s),Rd(s)?(s.Ra.ha(e),bd(s)):s.Ra.set("Unknown")}async function wS(s,e,i){if(s.Ra.set("Online"),e instanceof av&&e.state===2&&e.cause)try{await async function(o,h){const m=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,m),o.Ia.delete(y),o.Va.removeTarget(y))}(s,e)}catch(a){it(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ec(s,a)}else if(e instanceof Bo?s.Va.Ze(e):e instanceof rv?s.Va.st(e):s.Va.tt(e),!i.isEqual(vt.min()))try{const a=await pv(s.localStore);i.compareTo(a)>=0&&await function(h,m){const y=h.Va.Tt(m);return y.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Ev(h,v);const O=new cr(A.target,v,_,A.sequenceNumber);Sd(h,O)}),h.remoteSyncer.applyRemoteEvent(y)}(s,i)}catch(a){it(ua,"Failed to raise snapshot:",a),await ec(s,a)}}async function ec(s,e,i){if(!As(e))throw e;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>pv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await mc(s)})}function Av(s,e){return e().catch(i=>ec(s,i,e))}async function gc(s){const e=Et(s),i=Er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:od;for(;CS(e);)try{const o=await uS(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,DS(e,o)}catch(o){await ec(e,o)}Sv(e)&&bv(e)}function CS(s){return fa(s)&&s.Ta.length<10}function DS(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Sv(s){return fa(s)&&!Er(s).x_()&&s.Ta.length>0}function bv(s){Er(s).start()}async function VS(s){Er(s).ra()}async function IS(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function NS(s,e,i){const a=s.Ta.shift(),o=gd.from(a,e,i);await Av(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await gc(s)}async function OS(s,e){e&&Er(s).X_&&await async function(a,o){if(function(m){return dA(m)&&m!==K.ABORTED}(o.code)){const h=a.Ta.shift();Er(a).B_(),await Av(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await gc(a)}}(s,e),Sv(s)&&bv(s)}async function Xy(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(ua,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await mc(i)}async function MS(s,e){const i=Et(s);e?(i.Ea.delete(2),await mc(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Ss(s){return s.ma||(s.ma=function(i,a,o){const h=Et(i);return h.sa(),new yS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Xo:SS.bind(null,s),t_:bS.bind(null,s),r_:RS.bind(null,s),H_:wS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Rd(s)?bd(s):s.Ra.set("Unknown")):(await s.ma.stop(),Tv(s))})),s.ma}function Er(s){return s.fa||(s.fa=function(i,a,o){const h=Et(i);return h.sa(),new _S(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VS.bind(null,s),r_:OS.bind(null,s),ta:IS.bind(null,s),na:NS.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await gc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const m=Date.now()+a,y=new wd(e,i,m,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(s,e){if(Oi("AsyncQueue",`${e}: ${s}`),As(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.ga=new ie(ot.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class _s{constructor(e,i,a,o,h,m,y,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const m=[];return i.forEach(y=>{m.push({type:0,doc:y})}),new _s(e,i,cs.emptySet(i),m,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class US{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Et(i),h=o.queries;o.queries=Zy(),h.forEach((m,y)=>{for(const v of y.Sa)v.onError(a)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Zy(){return new ca(s=>G_(s),uc)}async function LS(s,e){const i=Et(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new xS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const y=Cd(m,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Dd(i)}async function zS(s,e){const i=Et(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const m=h.Sa.indexOf(e);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PS(s,e){const i=Et(s);let a=!1;for(const o of e){const h=o.query,m=i.queries.get(h);if(m){for(const y of m.Sa)y.Fa(o)&&(a=!0);m.wa=o}}a&&Dd(i)}function BS(s,e,i){const a=Et(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Dd(s){s.Ca.forEach(e=>{e.next()})}var Wf,Jy;(Jy=Wf||(Wf={})).Ma="default",Jy.Cache="cache";class qS{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new _s(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.key=e}}class wv{constructor(e){this.key=e}}class kS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=Q_(e),this.tu=new cs(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Ky,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,m=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,O)=>{const U=o.get(A),Q=oc(this.query,O)?O:null,W=!!U&&this.mutatedKeys.has(U.key),J=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;U&&Q?U.data.isEqual(Q.data)?W!==J&&(a.track({type:3,doc:Q}),Z=!0):this.su(U,Q)||(a.track({type:2,doc:Q}),Z=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!U&&Q?(a.track({type:0,doc:Q}),Z=!0):U&&!Q&&(a.track({type:1,doc:U}),Z=!0,(v||_)&&(y=!0)),Z&&(Q?(m=m.add(Q),h=J?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:m,iu:a,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort((A,O)=>function(Q,W){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:Z})}};return J(Q)-J(W)}(A.type,O.type)||this.eu(A.doc,O.doc)),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,m.length!==0||_?{snapshot:new _s(this.query,e.tu,h,m,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ky,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new wv(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new Rv(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return _s.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vd="SyncEngine";class jS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class HS{constructor(e){this.key=e,this.hu=!1}}class GS{constructor(e,i,a,o,h,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new ca(y=>G_(y),uc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ot.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QS(s,e,i=!0){const a=Ov(s);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Cv(a,e,i,!0),o}async function YS(s,e){const i=Ov(s);await Cv(i,e,!0,!1)}async function Cv(s,e,i,a){const o=await oS(s.localStore,$n(e)),h=o.targetId,m=s.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await FS(s,e,h,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&vv(s.remoteStore,o),y}async function FS(s,e,i,a,o){s.pu=(O,U,Q)=>async function(J,Z,mt,_t){let ct=Z.view.ru(mt);ct.Cs&&(ct=await Hy(J.localStore,Z.query,!1).then(({documents:N})=>Z.view.ru(N,ct)));const kt=_t&&_t.targetChanges.get(Z.targetId),Tt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Pt=Z.view.applyChanges(ct,J.isPrimaryClient,kt,Tt);return Wy(J,Z.targetId,Pt.au),Pt.snapshot}(s,O,U,Q);const h=await Hy(s.localStore,e,!0),m=new kS(e,h.Qs),y=m.ru(h.documents),v=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=m.applyChanges(y,s.isPrimaryClient,v);Wy(s,i,_.au);const A=new jS(e,i,m);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function XS(s,e,i){const a=Et(s),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter(m=>!uc(m,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Jf(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ad(a.remoteStore,o.targetId),td(a,o.targetId)}).catch(Ts)):(td(a,o.targetId),await Jf(a.localStore,o.targetId,!0))}async function KS(s,e){const i=Et(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ad(i.remoteStore,a.targetId))}async function ZS(s,e,i){const a=ib(s);try{const o=await function(m,y){const v=Et(m),_=Wt.now(),A=y.reduce((Q,W)=>Q.add(W.key),Vt());let O,U;return v.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let W=Mi(),J=Vt();return v.Ns.getEntries(Q,A).next(Z=>{W=Z,W.forEach((mt,_t)=>{_t.isValidDocument()||(J=J.add(mt))})}).next(()=>v.localDocuments.getOverlayedDocuments(Q,W)).next(Z=>{O=Z;const mt=[];for(const _t of y){const ct=uA(_t,O.get(_t.key).overlayedDocument);ct!=null&&mt.push(new ha(_t.key,ct,L_(ct.value.mapValue),Ii.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,mt,y)}).next(Z=>{U=Z;const mt=Z.applyToLocalDocumentSet(O,J);return v.documentOverlayCache.saveOverlays(Q,Z.batchId,mt)})}).then(()=>({batchId:U.batchId,changes:F_(O)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(m,y,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new ie(Dt)),_=_.insert(y,v),m.Vu[m.currentUser.toKey()]=_}(a,o.batchId,i),await eu(a,o.changes),await gc(a.remoteStore)}catch(o){const h=Cd(o,"Failed to persist write");i.reject(h)}}async function Dv(s,e){const i=Et(s);try{const a=await sS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const m=i.Au.get(h);m&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?qt(m.hu,14607):o.removedDocuments.size>0&&(qt(m.hu,42227),m.hu=!1))}),await eu(i,a,e)}catch(a){await Ts(a)}}function $y(s,e,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach((h,m)=>{const y=m.view.va(e);y.snapshot&&o.push(y.snapshot)}),function(m,y){const v=Et(m);v.onlineState=y;let _=!1;v.queries.forEach((A,O)=>{for(const U of O.Sa)U.va(y)&&(_=!0)}),_&&Dd(v)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function JS(s,e,i){const a=Et(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let m=new ie(ot.comparator);m=m.insert(h,Fe.newNoDocument(h,vt.min()));const y=Vt().add(h),v=new fc(vt.min(),new Map,new ie(Dt),m,y);await Dv(a,v),a.du=a.du.remove(h),a.Au.delete(e),Id(a)}else await Jf(a.localStore,e,!1).then(()=>td(a,e,i)).catch(Ts)}async function $S(s,e){const i=Et(s),a=e.batch.batchId;try{const o=await aS(i.localStore,e);Iv(i,a,null),Vv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,o)}catch(o){await Ts(o)}}async function WS(s,e,i){const a=Et(s);try{const o=await function(m,y){const v=Et(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next(O=>(qt(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);Iv(a,e,i),Vv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await eu(a,o)}catch(o){await Ts(o)}}function Vv(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function Iv(s,e,i){const a=Et(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function td(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||Nv(s,a)})}function Nv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Ad(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Id(s))}function Wy(s,e,i){for(const a of i)a instanceof Rv?(s.Ru.addReference(a.key,e),tb(s,a)):a instanceof wv?(it(Vd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Nv(s,a.key)):dt(19791,{wu:a})}function tb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Vd,"New document in limbo: "+i),s.Eu.add(a),Id(s))}function Id(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ot($t.fromString(e)),a=s.fu.next();s.Au.set(a,new HS(i)),s.du=s.du.insert(i,a),vv(s.remoteStore,new cr($n(H_(i.path)),a,"TargetPurposeLimboResolution",rc.ce))}}async function eu(s,e,i){const a=Et(s),o=[],h=[],m=[];a.Tu.isEmpty()||(a.Tu.forEach((y,v)=>{m.push(a.pu(v,e,i).then(_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Ed.As(v.targetId,_);h.push(A)}}))}),await Promise.all(m),a.Pu.H_(o),await async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>F.forEach(_,U=>F.forEach(U.Es,Q=>A.persistence.referenceDelegate.addReference(O,U.targetId,Q)).next(()=>F.forEach(U.ds,Q=>A.persistence.referenceDelegate.removeReference(O,U.targetId,Q)))))}catch(O){if(!As(O))throw O;it(Td,"Failed to update sequence numbers: "+O)}for(const O of _){const U=O.targetId;if(!O.fromCache){const Q=A.Ms.get(U),W=Q.snapshotVersion,J=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(U,J)}}}(a.localStore,h))}async function eb(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){it(Vd,"User change. New user:",e.toKey());const a=await gv(i.localStore,e);i.currentUser=e,function(h,m){h.mu.forEach(y=>{y.forEach(v=>{v.reject(new at(K.CANCELLED,m))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ls)}}function nb(s,e){const i=Et(s),a=i.Au.get(e);if(a&&a.hu)return Vt().add(a.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const m of h){const y=i.Tu.get(m);o=o.unionWith(y.view.nu)}return o}}function Ov(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JS.bind(null,e),e.Pu.H_=PS.bind(null,e.eventManager),e.Pu.yu=BS.bind(null,e.eventManager),e}function ib(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rS(this.persistence,new eS,e.initialUser,this.serializer)}Cu(e){return new mv(vd.mi,this.serializer)}Du(e){return new hS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class rb extends nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof tc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new mv(a=>tc.mi(a,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$y(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eb.bind(null,this.syncEngine),await MS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new US}()}createDatastore(e){const i=dc(e.databaseInfo.databaseId),a=function(h){return new pS(h)}(e.databaseInfo);return function(h,m,y,v){return new ES(h,m,y,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,m,y){return new AS(a,o,h,m,y)}(this.localStore,this.datastore,e.asyncQueue,i=>$y(this.syncEngine,i,0),function(){return Yy.v()?new Yy:new fS}())}createSyncEngine(e,i){return function(o,h,m,y,v,_,A){const O=new GS(o,h,m,y,v,_);return A&&(O.gu=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=Et(i);it(ua,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="FirestoreClient";class sb{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async m=>{it(Tr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(it(Tr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Cd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Mf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await gv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function t_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await lb(s);it(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Xy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>Xy(e.remoteStore,o)),s._onlineComponents=e}async function lb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Tr,"Using user provided OfflineComponentProvider");try{await Mf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ds("Error using user provided cache. Falling back to memory cache: "+i),await Mf(s,new nc)}}else it(Tr,"Using default OfflineComponentProvider"),await Mf(s,new rb(void 0));return s._offlineComponents}async function Mv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Tr,"Using user provided OnlineComponentProvider"),await t_(s,s._uninitializedComponentsProvider._online)):(it(Tr,"Using default OnlineComponentProvider"),await t_(s,new ed))),s._onlineComponents}function ub(s){return Mv(s).then(e=>e.syncEngine)}async function ob(s){const e=await Mv(s),i=e.eventManager;return i.onListen=QS.bind(null,e.syncEngine),i.onUnlisten=XS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KS.bind(null,e.syncEngine),i}function cb(s,e,i={}){const a=new mr;return s.asyncQueue.enqueueAndForget(async()=>function(h,m,y,v,_){const A=new ab({next:U=>{A.Nu(),m.enqueueAndForget(()=>zS(h,O)),U.fromCache&&v.source==="server"?_.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),O=new qS(y,A,{includeMetadataChanges:!0,qa:!0});return LS(h,O)}(await ob(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="firestore.googleapis.com",n_=!0;class i_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uv,this.ssl=n_}else this.host=e.host,this.ssl=e.ssl??n_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PA)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xv(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new h1;switch(a.type){case"firstParty":return new g1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=e_.get(i);a&&(it("ComponentProvider","Removing Datastore"),e_.delete(i),a.terminate())}(this),Promise.resolve()}}function hb(s,e,i,a={}){s=Qo(s,pc);const o=rd(e),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(P0(`https://${y}`),j0("Firestore",!0)),h.host!==Uv&&h.host!==y&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:a};if(!jo(v,m)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=B0(a.mockUserToken,s._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(O)}s._authCredentials=new f1(new b_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class qe{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jl(i,qe._jsonSchema))return new qe(e,a||null,new ot($t.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:ye("string",qe._jsonSchemaVersion),referencePath:ye("string")};class gr extends yc{constructor(e,i,a){super(e,i,H_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new ot(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function Oo(s,e,...i){if(s=jl(s),R_("collection","path",e),s instanceof pc){const a=$t.fromString(e,...i);return yy(a),new gr(s,null,a)}{if(!(s instanceof qe||s instanceof gr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return yy(a),new gr(s.firestore,null,a)}}function fb(s,e,...i){if(s=jl(s),arguments.length===1&&(e=ld.newId()),R_("doc","path",e),s instanceof pc){const a=$t.fromString(e,...i);return py(a),new qe(s,null,new ot(a))}{if(!(s instanceof qe||s instanceof gr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return py(a),new qe(s.firestore,s instanceof gr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="AsyncQueue";class a_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yv(this,"async_queue_retry"),this._c=()=>{const a=Of();a&&it(r_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Of();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Of();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!As(e))throw e;it(r_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",s_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=wd.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:s_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function s_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Nd extends pc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new a_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function db(s,e){const i=typeof s=="object"?s:$T(),a=typeof s=="string"?s:Fo,o=FT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=L0("firestore");h&&hb(o,...h)}return o}function Lv(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mb(s),s._firestoreClient}function mb(s){const e=s._freezeSettings(),i=function(o,h,m,y){return new O1(o,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,xv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(ke.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:ye("string",wn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:ye("string",ti._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ei(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:ye("string",ei._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=/^__.*__$/;class pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}function Pv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:s})}}class Md{constructor(e,i,a,o,h,m){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Md({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pv(this.Ac)&&gb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||dc(e)}Cc(e,i,a,o=!1){return new Md({Ac:e,methodName:i,Dc:a,path:Be.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _b(s){const e=s._freezeSettings(),i=dc(s._databaseId);return new yb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vb(s,e,i,a,o,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);jv("Data must be an object, but it was:",m,a);const y=qv(a,m);let v,_;if(h.merge)v=new Mn(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const U=Eb(e,O,i);if(!m.contains(U))throw new at(K.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Ab(A,U)||A.push(U)}v=new Mn(A),_=m.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,_=m.fieldTransforms;return new pb(new Rn(y),v,_)}function Bv(s,e){if(kv(s=jl(s)))return jv("Unsupported field value:",e,s),qv(s,e);if(s instanceof zv)return function(a,o){if(!Pv(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const h=[];let m=0;for(const y of a){let v=Bv(y,o.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=jl(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Wt.fromDate(a);return{timestampValue:Wo(o.serializer,h)}}if(a instanceof Wt){const h=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wo(o.serializer,h)}}if(a instanceof ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wn)return{bytesValue:sv(o.serializer,a._byteString)};if(a instanceof qe){const h=o.databaseId,m=a.firestore._databaseId;if(!m.isEqual(h))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:yd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ei)return function(m,y){return{mapValue:{fields:{[x_]:{stringValue:U_},[Xo]:{arrayValue:{values:m.toArray().map(_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return md(y.serializer,_)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${ud(a)}`)}(s,e)}function qv(s,e){const i={};return D_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(s,(a,o)=>{const h=Bv(o,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function kv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof ti||s instanceof wn||s instanceof qe||s instanceof zv||s instanceof ei)}function jv(s,e,i){if(!kv(i)||!w_(i)){const a=ud(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Eb(s,e,i){if((e=jl(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Hv(s,e);throw ic("Field path arguments must be of type string or ",s,!1,void 0,i)}const Tb=new RegExp("[~\\*/\\[\\]]");function Hv(s,e,i){if(e.search(Tb)>=0)throw ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Od(...e.split("."))._internalPath}catch{throw ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ic(s,e,i,a,o){const h=a&&!a.isEmpty(),m=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${a}`),m&&(v+=` in document ${o}`),v+=")"),new at(K.INVALID_ARGUMENT,y+s+v)}function Ab(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Qv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Sb extends Gv{data(){return super.data()}}function Qv(s,e){return typeof e=="string"?Hv(s,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rb{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return oa(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){const i=e.fields?.[Xo].arrayValue?.values?.map(a=>he(a.doubleValue));return new ei(i)}convertGeoPoint(e){return new ti(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=sc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);qt(fv(a),9688,{name:e});const o=new Fl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Mo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hs extends Gv{constructor(e,i,a,o,h,m){super(e,i,a,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Qv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",hs._jsonSchema={type:ye("string",hs._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class qo extends hs{data(e={}){return super.data(e)}}class fs{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new qo(this._firestore,this._userDataWriter,a.key,a,new Mo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(y=>{const v=new qo(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Mo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}})}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const v=new qo(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Mo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),A=m.indexOf(y.doc.key)),{type:Cb(y.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}fs._jsonSchemaVersion="firestore/querySnapshot/1.0",fs._jsonSchema={type:ye("string",fs._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class Db extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function xf(s){s=Qo(s,yc);const e=Qo(s.firestore,Nd),i=Lv(e),a=new Db(e);return bb(s._query),cb(i,s._query).then(o=>new fs(e,a,s,o))}function Vb(s,e){const i=Qo(s.firestore,Nd),a=fb(s),o=wb(s.converter,e);return Ib(i,[vb(_b(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Ii.exists(!1))]).then(()=>a)}function Ib(s,e){return function(a,o){const h=new mr;return a.asyncQueue.enqueueAndForget(async()=>ZS(await ub(a),o,h)),h.promise}(Lv(s),e)}(function(e,i=!0){(function(o){Es=o})(JT),Go(new Hl("firestore",(a,{instanceIdentifier:o,options:h})=>{const m=a.getProvider("app").getImmediate(),y=new Nd(new d1(a.getProvider("auth-internal")),new p1(m,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,A)}(m,o),m);return h={useFetchStreams:i,...h},y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),os(fy,dy,e),os(fy,dy,"esm2020")})();const Nb={apiKey:"AIzaSyClaAckNGehLO70upvTGx-3MH0R2BF9fEY",authDomain:"reportapp-585ec.firebaseapp.com",projectId:"reportapp-585ec",storageBucket:"reportapp-585ec.firebasestorage.app",messagingSenderId:"1013295658594",appId:"1:1013295658594:web:3ea0a766cf91cbf048833b",measurementId:"G-MGJC15CQHM"},Ob=m_(Nb),xo=db(Ob);function Mb(){const[s,e]=or.useState("create"),[i,a]=or.useState([]),[o,h]=or.useState([]),[m,y]=or.useState([]),[v,_]=or.useState({user:"",issues:"",date:"",hours:"",comment:"",status:"Pending"});or.useEffect(()=>{s==="create"&&(A(),U())},[s]),or.useEffect(()=>{s==="list"&&O()},[s]);const A=async()=>{const Z=(await xf(Oo(xo,"users"))).docs.map(mt=>({id:mt.id,...mt.data()}));console.log("data",Z),h(Z)},O=async()=>{const Z=(await xf(Oo(xo,"reports"))).docs.map(mt=>({id:mt.id,...mt.data()}));a(Z)},U=async()=>{const Z=(await xf(Oo(xo,"statuses"))).docs.map(mt=>({id:mt.id,...mt.data()}));y(Z)},Q=J=>{_({...v,[J.target.name]:J.target.value})},W=async()=>{if(!v.user||!v.issues||!v.date||!v.hours)return alert("Please fill required fields!");try{await Vb(Oo(xo,"reports"),v),alert("Report created!"),_({user:"",issues:"",date:"",hours:"",comment:"",status:"Pending"}),e("list")}catch(J){console.error("Error adding document: ",J)}};return pt.jsxs("div",{className:"container",children:[pt.jsx("h1",{children:"Work Report"}),pt.jsxs("div",{className:"tabs",children:[pt.jsx("button",{className:s==="create"?"active":"",onClick:()=>e("create"),children:"Create"}),pt.jsx("button",{className:s==="list"?"active":"",onClick:()=>e("list"),children:"List"})]}),s==="create"&&pt.jsxs("div",{className:"card",children:[pt.jsxs("label",{children:["User*",pt.jsxs("select",{name:"user",value:v.user,onChange:Q,children:[pt.jsx("option",{value:"",children:"-- Select user --"}),o.map(J=>pt.jsx("option",{value:J.name,children:J.name},J.id))]})]}),pt.jsxs("label",{children:["Issues*",pt.jsx("input",{type:"text",name:"issues",value:v.issues,onChange:Q,placeholder:"Short issues"})]}),pt.jsxs("label",{children:["Date*",pt.jsx("input",{type:"date",name:"date",value:v.date,onChange:Q})]}),pt.jsxs("label",{children:["Estimated Hours*",pt.jsxs("select",{name:"hours",value:v.hours,onChange:Q,children:[pt.jsx("option",{value:"",children:"-- Select hours --"}),[...Array(12)].map((J,Z)=>pt.jsxs("option",{value:Z+1,children:[Z+1," hour(s)"]},Z+1))]})]}),pt.jsxs("label",{children:["Comment",pt.jsx("textarea",{name:"comment",value:v.comment,onChange:Q,placeholder:"Detailed comment"})]}),pt.jsxs("label",{children:["Status*",pt.jsxs("select",{name:"status",value:v.status,onChange:Q,children:[pt.jsx("option",{value:"",children:"-- Select status --"}),m.map(J=>pt.jsx("option",{value:J.name,children:J.name},J.id))]})]}),pt.jsxs("div",{className:"actions",children:[pt.jsx("button",{onClick:W,className:"btn primary",children:"Create"}),pt.jsx("button",{onClick:()=>_({user:"",issues:"",date:"",hours:"",comment:"",status:"Pending"}),className:"btn secondary",children:"Reset"})]})]}),s==="list"&&pt.jsx("div",{className:"card list-card",children:i.length===0?pt.jsx("p",{children:"No reports yet."}):pt.jsxs("table",{children:[pt.jsx("thead",{children:pt.jsxs("tr",{children:[pt.jsx("th",{children:"User"}),pt.jsx("th",{children:"Issues"}),pt.jsx("th",{children:"Date"}),pt.jsx("th",{children:"Hours"}),pt.jsx("th",{children:"Status"}),pt.jsx("th",{children:"Comment"})]})}),pt.jsx("tbody",{children:i.map(J=>pt.jsxs("tr",{children:[pt.jsx("td",{children:J.user}),pt.jsx("td",{children:J.issues}),pt.jsx("td",{children:J.date}),pt.jsx("td",{children:J.hours}),pt.jsx("td",{children:J.status}),pt.jsx("td",{children:J.comment})]},J.id))})]})})]})}R0.createRoot(document.getElementById("root")).render(pt.jsx(or.StrictMode,{children:pt.jsx(Mb,{})}));
