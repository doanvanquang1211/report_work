(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Sf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function S0(){if(Wp)return Ul;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var ty;function b0(){return ty||(ty=1,Sf.exports=S0()),Sf.exports}var ft=b0(),bf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function R0(){if(ey)return St;ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(C,X,et){this.props=C,this.context=X,this.refs=nt,this.updater=et||Q}J.prototype.isReactComponent={},J.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _t(){}_t.prototype=J.prototype;function gt(C,X,et){this.props=C,this.context=X,this.refs=nt,this.updater=et||Q}var ot=gt.prototype=new _t;ot.constructor=gt,Z(ot,J.prototype),ot.isPureReactComponent=!0;var zt=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function I(C,X,et,$,ct,Rt){return et=Rt.ref,{$$typeof:s,type:C,key:X,ref:et!==void 0?et:null,props:Rt}}function S(C,X){return I(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return X[et]})}var M=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):X.toString(36)}function R(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,et,$,ct){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case A:return vt=C._init,re(vt(C._payload),X,et,$,ct)}}if(vt)return ct=ct(C),vt=$===""?"."+U(C,0):$,zt(ct)?(et="",vt!=null&&(et=vt.replace(M,"$&/")+"/"),re(ct,X,et,"",function(Un){return Un})):ct!=null&&(w(ct)&&(ct=S(ct,et+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+vt)),X.push(ct)),1;vt=0;var Re=$===""?".":$+":";if(zt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],Rt=Re+U($,Zt),vt+=re($,X,et,Rt,ct);else if(Zt=V(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,Rt=Re+U($,Zt++),vt+=re($,X,et,Rt,ct);else if(Rt==="object"){if(typeof C.then=="function")return re(Me(C),X,et,$,ct);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return vt}function j(C,X,et){if(C==null)return C;var $=[],ct=0;return re(C,$,"","",function(Rt){return X.call(et,Rt,ct++)}),$}function tt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return St.Children={map:j,forEach:function(C,X,et){j(C,function(){X.apply(this,arguments)},et)},count:function(C){var X=0;return j(C,function(){X++}),X},toArray:function(C){return j(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=J,St.Fragment=i,St.Profiler=u,St.PureComponent=gt,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Et.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,X,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),ct=C.key,Rt=void 0;if(X!=null)for(vt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ct=""+X.key),X)!rt.call(X,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&X.ref===void 0||($[vt]=X[vt]);var vt=arguments.length-2;if(vt===1)$.children=et;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return I(C.type,ct,void 0,void 0,Rt,$)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,X,et){var $,ct={},Rt=null;if(X!=null)for($ in X.key!==void 0&&(Rt=""+X.key),X)rt.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ct[$]=X[$]);var vt=arguments.length-2;if(vt===1)ct.children=et;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];ct.children=Re}if(C&&C.defaultProps)for($ in vt=C.defaultProps,vt)ct[$]===void 0&&(ct[$]=vt[$]);return I(C,Rt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:p,render:C}},St.isValidElement=w,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},St.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},St.startTransition=function(C){var X=Et.T,et={};Et.T=et;try{var $=C(),ct=Et.S;ct!==null&&ct(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Pt,ut)}catch(Rt){ut(Rt)}finally{Et.T=X}},St.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},St.use=function(C){return Et.H.use(C)},St.useActionState=function(C,X,et){return Et.H.useActionState(C,X,et)},St.useCallback=function(C,X){return Et.H.useCallback(C,X)},St.useContext=function(C){return Et.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,X){return Et.H.useDeferredValue(C,X)},St.useEffect=function(C,X,et){var $=Et.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,X)},St.useId=function(){return Et.H.useId()},St.useImperativeHandle=function(C,X,et){return Et.H.useImperativeHandle(C,X,et)},St.useInsertionEffect=function(C,X){return Et.H.useInsertionEffect(C,X)},St.useLayoutEffect=function(C,X){return Et.H.useLayoutEffect(C,X)},St.useMemo=function(C,X){return Et.H.useMemo(C,X)},St.useOptimistic=function(C,X){return Et.H.useOptimistic(C,X)},St.useReducer=function(C,X,et){return Et.H.useReducer(C,X,et)},St.useRef=function(C){return Et.H.useRef(C)},St.useState=function(C){return Et.H.useState(C)},St.useSyncExternalStore=function(C,X,et){return Et.H.useSyncExternalStore(C,X,et)},St.useTransition=function(){return Et.H.useTransition()},St.version="19.1.1",St}var ny;function ud(){return ny||(ny=1,bf.exports=R0()),bf.exports}var $n=ud(),Rf={exports:{}},Ll={},wf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function w0(){return iy||(iy=1,function(s){function e(j,tt){var ut=j.length;j.push(tt);t:for(;0<ut;){var Pt=ut-1>>>1,C=j[Pt];if(0<u(C,tt))j[Pt]=tt,j[ut]=C,ut=Pt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ut=j.pop();if(ut!==tt){j[0]=ut;t:for(var Pt=0,C=j.length,X=C>>>1;Pt<X;){var et=2*(Pt+1)-1,$=j[et],ct=et+1,Rt=j[ct];if(0>u($,ut))ct<C&&0>u(Rt,$)?(j[Pt]=Rt,j[ct]=ut,Pt=ct):(j[Pt]=$,j[et]=ut,Pt=et);else if(ct<C&&0>u(Rt,ut))j[Pt]=Rt,j[ct]=ut,Pt=ct;else break t}}return tt}function u(j,tt){var ut=j.sortIndex-tt.sortIndex;return ut!==0?ut:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,O=null,V=3,Q=!1,Z=!1,nt=!1,J=!1,_t=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function zt(j){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=j)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function Et(j){if(nt=!1,zt(j),!Z)if(i(v)!==null)Z=!0,rt||(rt=!0,U());else{var tt=i(_);tt!==null&&re(Et,tt.startTime-j)}}var rt=!1,I=-1,S=5,w=-1;function N(){return J?!0:!(s.unstable_now()-w<S)}function M(){if(J=!1,rt){var j=s.unstable_now();w=j;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,gt(I),I=-1),Q=!0;var ut=V;try{e:{for(zt(j),O=i(v);O!==null&&!(O.expirationTime>j&&N());){var Pt=O.callback;if(typeof Pt=="function"){O.callback=null,V=O.priorityLevel;var C=Pt(O.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){O.callback=C,zt(j),tt=!0;break e}O===i(v)&&a(v),zt(j)}else a(v);O=i(v)}if(O!==null)tt=!0;else{var X=i(_);X!==null&&re(Et,X.startTime-j),tt=!1}}break t}finally{O=null,V=ut,Q=!1}tt=void 0}}finally{tt?U():rt=!1}}}var U;if(typeof ot=="function")U=function(){ot(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){_t(M,0)};function re(j,tt){I=_t(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(j){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return j()}finally{V=ut}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ut=V;V=j;try{return tt()}finally{V=ut}},s.unstable_scheduleCallback=function(j,tt,ut){var Pt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,j={id:A++,callback:tt,priorityLevel:j,startTime:ut,expirationTime:C,sortIndex:-1},ut>Pt?(j.sortIndex=ut,e(_,j),i(v)===null&&j===i(_)&&(nt?(gt(I),I=-1):nt=!0,re(Et,ut-Pt))):(j.sortIndex=C,e(v,j),Z||Q||(Z=!0,rt||(rt=!0,U()))),j},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(j){var tt=V;return function(){var ut=V;V=tt;try{return j.apply(this,arguments)}finally{V=ut}}}}(Cf)),Cf}var ry;function C0(){return ry||(ry=1,wf.exports=w0()),wf.exports}var Df={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function D0(){if(ay)return Ge;ay=1;var s=ud();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:V,fetchPriority:Q}):A==="script"&&a.d.X(v,{crossOrigin:O,integrity:V,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ge.requestFormReset=function(v){a.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var sy;function V0(){if(sy)return Df.exports;sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Df.exports=D0(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function I0(){if(ly)return Ll;ly=1;var s=C0(),e=ud(),i=V0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case Et:return"Suspense";case rt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case zt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function X(t){return{current:t}}function et(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function $(t,n){C++,Pt[C]=t.current,t.current=n}var ct=X(null),Rt=X(null),vt=X(null),Re=X(null);function Zt(t,n){switch($(vt,n),$(Rt,t),$(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cp(n),t=Dp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ct),$(ct,t)}function Un(){et(ct),et(Rt),et(vt)}function Ui(t){t.memoizedState!==null&&$(Re,t);var n=ct.current,r=Dp(n,t.type);n!==r&&($(Rt,t),$(ct,r))}function si(t){Rt.current===t&&(et(ct),et(Rt)),Re.current===t&&(et(Re),Il._currentValue=ut)}var Rr=Object.prototype.hasOwnProperty,wr=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,Cs=s.unstable_shouldYield,au=s.unstable_requestPaint,mn=s.unstable_now,Ac=s.unstable_getCurrentPriorityLevel,Ds=s.unstable_ImmediatePriority,ga=s.unstable_UserBlockingPriority,Dr=s.unstable_NormalPriority,Sc=s.unstable_LowPriority,pa=s.unstable_IdlePriority,Vs=s.log,su=s.unstable_setDisableYieldValue,ae=null,jt=null;function rn(t){if(typeof Vs=="function"&&su(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:Vr,lu=Math.log,bc=Math.LN2;function Vr(t){return t>>>=0,t===0?32:31-(lu(t)/bc|0)|0}var Ir=256,Nr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Is(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function Os(){var t=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ms(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),Y=1<<H;E[H]=0,b[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function xs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Fp(t.type))}function uu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,fe="__reactProps$"+te,gn="__reactContainer$"+te,Us="__reactEvents$"+te,Rc="__reactListeners$"+te,Pi="__reactHandles$"+te,ou="__reactResources$"+te,Mr="__reactMarker$"+te;function Bi(t){delete t[_e],delete t[fe],delete t[Us],delete t[Rc],delete t[Pi]}function oi(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Op(t);t!==null;){if(r=t[_e])return r;t=Op(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[_e]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Mr]=!0}var Ls=new Set,va={};function Vn(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(va[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},xr={};function fu(t){return Rr.call(xr,t)?!0:Rr.call(hu,t)?!1:cu.test(t)?xr[t]=!0:(hu[t]=!0,!1)}function qi(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ur,du;function hi(t){if(Ur===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",du=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+du}var Ea=!1;function Ta(t,n){if(!t||Ea)return"";Ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ea=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function zs(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ta(t.type,!1);case 11:return Ta(t.type.render,!1);case 1:return Ta(t.type,!0);case 31:return hi("Activity");default:return""}}function Aa(t){try{var n="";do n+=zs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ps(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wc(t){var n=Ps(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Sa(t){t._valueTracker||(t._valueTracker=wc(t))}function Bs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ps(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cc=/[\n"\\]/g;function de(t){return t.replace(Cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ki(t,y,Ke(n)):r!=null?ki(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function zr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ki(t,n,r){n==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Br.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&mu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&mu(t,f,n[f])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function js(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Bs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var qn=!1;function gu(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(mi!==null||gi!==null)&&(uo(),mi&&(n=mi,t=gi,gi=mi=null,js(n),t)))for(n=0;n<t.length;n++)js(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(In)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{_n=!1}var kn=null,ji=null,pi=null;function Hs(){if(pi)return pi;var t,n=ji,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Gs(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Gs,this.isPropagationStopped=Gs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=we(qt),jr=A({},qt,{view:0,detail:0}),pu=we(jr),wa,Ca,Gn,Hr=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(wa=t.screenX-Gn.screenX,Ca=t.screenY-Gn.screenY):Ca=wa=0,Gn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),vn=we(Hr),yu=A({},Hr,{dataTransfer:0}),Ic=we(yu),Gr=A({},jr,{relatedTarget:0}),Da=we(Gr),Qs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=we(Qs),_u=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=we(_u),Nc=A({},qt,{data:0}),Ys=we(Nc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function Yr(){return Fs}var Tu=A({},jr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=we(Tu),Au=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=we(Au),yi=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Su=we(yi),bu=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=we(bu),wu=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=we(wu),Ze=A({},qt,{newState:0,oldState:0}),Cu=we(Ze),Du=[9,13,27,32],Qn=In&&"CompositionEvent"in window,o=null;In&&"documentMode"in document&&(o=document.documentMode);var m=In&&"TextEvent"in window&&!o,g=In&&(!Qn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return Du.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Qn&&k(t,n)?(t=Hs(),pi=ji=kn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=go(n,"onChange"),0<n.length&&(r=new Ra("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Yn=null;function Ks(t){Ap(t,0)}function Vu(t){var n=Pn(t);if(Bs(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(In){var Oc;if(In){var Mc="oninput"in document;if(!Mc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Mc=typeof Qd.oninput=="function"}Oc=Mc}else Oc=!1;Gd=Oc&&(!document.documentMode||9<document.documentMode)}function Yd(){Ue&&(Ue.detachEvent("onpropertychange",Fd),Yn=Ue=null)}function Fd(t){if(t.propertyName==="value"&&Vu(Yn)){var n=[];_i(n,Yn,t,yn(t)),gu(Ks,n)}}function Wv(t,n,r){t==="focusin"?(Yd(),Ue=n,Yn=r,Ue.attachEvent("onpropertychange",Fd)):t==="focusout"&&Yd()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Yn)}function eE(t,n){if(t==="click")return Vu(n)}function nE(t,n){if(t==="input"||t==="change")return Vu(n)}function iE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:iE;function Zs(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var r=Xd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Xd(r)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Lr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Lr(t.document)}return n}function xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rE=In&&"documentMode"in document&&11>=document.documentMode,Ma=null,Uc=null,Js=null,Lc=!1;function $d(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lc||Ma==null||Ma!==Lr(l)||(l=Ma,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&Zs(Js,l)||(Js=l,l=go(Uc,"onSelect"),0<l.length&&(n=new Ra("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ma)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},zc={},Wd={};In&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Xr(t){if(zc[t])return zc[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wd)return zc[t]=n[r];return t}var tm=Xr("animationend"),em=Xr("animationiteration"),nm=Xr("animationstart"),aE=Xr("transitionrun"),sE=Xr("transitionstart"),lE=Xr("transitioncancel"),im=Xr("transitionend"),rm=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Nn(t,n){rm.set(t,n),Vn(n,[t])}var am=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=am.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Aa(n)},am.set(t,n),n)}return{value:t,source:n,stack:Aa(n)}}var Tn=[],Ua=0,Bc=0;function Iu(){for(var t=Ua,n=Bc=Ua=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&sm(r,c,f)}}function Nu(t,n,r,l){Tn[Ua++]=t,Tn[Ua++]=n,Tn[Ua++]=r,Tn[Ua++]=l,Bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,r,l){return Nu(t,n,r,l),Ou(t)}function La(t,n){return Nu(t,null,null,n),Ou(t)}function sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ou(t){if(50<Al)throw Al=0,Yh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function uE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new uE(t,n,r,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function lm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")kc(t)&&(y=1);else if(typeof t=="string")y=c0(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=ln(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return Kr(r.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=ln(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case Et:return t=ln(13,r,n,c),t.elementType=Et,t.lanes=f,t;case rt:return t=ln(19,r,n,c),t.elementType=rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _t:case ot:y=10;break t;case gt:y=9;break t;case zt:y=11;break t;case I:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function jc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function Hc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pa=[],Ba=0,xu=null,Uu=0,An=[],Sn=0,Zr=null,Ei=1,Ti="";function Jr(t,n){Pa[Ba++]=Uu,Pa[Ba++]=xu,xu=t,Uu=n}function um(t,n,r){An[Sn++]=Ei,An[Sn++]=Ti,An[Sn++]=Zr,Zr=t;var l=Ei;t=Ti;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-je(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Gc(t){t.return!==null&&(Jr(t,1),um(t,1,0))}function Qc(t){for(;t===xu;)xu=Pa[--Ba],Pa[Ba]=null,Uu=Pa[--Ba],Pa[Ba]=null;for(;t===Zr;)Zr=An[--Sn],An[Sn]=null,Ti=An[--Sn],An[Sn]=null,Ei=An[--Sn],An[Sn]=null}var Je=null,se=null,Bt=!1,$r=null,Fn=!1,Yc=Error(a(519));function Wr(t){var n=Error(a(418,""));throw tl(En(n,t)),Yc}function om(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<bl.length;r++)Dt(bl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Pr(n,l.value,l.defaultValue,l.children),Sa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||wp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=po),n=!0):n=!1,n||Wr(t)}function cm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Je=Je.return}}function $s(t){if(t!==Je)return!1;if(!Bt)return cm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||of(t.type,t.memoizedProps)),r=!r),r&&se&&Wr(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,rr(t.type)?(t=df,df=null,se=t):se=n):se=Je?Mn(t.stateNode.nextSibling):null;return!0}function Ws(){se=Je=null,Bt=!1}function hm(){var t=$r;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),$r=null),t}function tl(t){$r===null?$r=[t]:$r.push(t)}var Fc=X(null),ta=null,Ai=null;function Hi(t,n,r){$(Fc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Fc.current,et(Fc)}function Xc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Kc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Xc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function el(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}c=c.return}t!==null&&Kc(n,t,r,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return fm(ta,t)}function zu(t,n){return ta===null&&ea(t),fm(t,n)}function fm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var oE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},cE=s.unstable_scheduleCallback,hE=s.unstable_NormalPriority,Te={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new oE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&cE(hE,function(){t.controller.abort()})}var il=null,Jc=0,qa=0,ka=null;function fE(t,n){if(il===null){var r=il=[];Jc=0,qa=Wh(),ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Jc++,n.then(dm,dm),n}function dm(){if(--Jc===0&&il!==null){ka!==null&&(ka.status="fulfilled");var t=il;il=null,qa=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var mm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&fE(t,n),mm!==null&&mm(t,n)};var na=X(null);function $c(){var t=na.current;return t!==null?t:Jt.pooledCache}function Pu(t,n){n===null?$(na,na.current):$(na,n.pool)}function gm(){var t=$c();return t===null?null:{parent:Te._currentValue,pool:t}}var rl=Error(a(460)),pm=Error(a(474)),Bu=Error(a(542)),Wc={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function _m(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qu,qu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(qu,qu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw al=n,rl}}var al=null;function vm(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function Em(t){if(t===rl||t===Bu)throw Error(a(483))}var Gi=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ou(t),sm(t,null,r),n}return Nu(t,l,n,r),Ou(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xs(t,r)}}function nh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ih=!1;function ll(){if(ih){var t=ka;if(t!==null)throw t}}function ul(t,n,r,l){ih=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,H=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Mt&B)===B:(l&B)===B){B!==0&&B===qa&&(ih=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,dt=E;B=n;var Xt=r;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Y=yt.call(Xt,Y,B);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,B=typeof yt=="function"?yt.call(Xt,Y,B):yt,B==null)break t;Y=A({},Y,B);break t;case 2:Gi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,b=Y):H=H.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),tr|=y,t.lanes=y,t.memoizedState=Y}}function Tm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Am(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Tm(r[t],n)}var ja=X(null),ku=X(0);function Sm(t,n){t=Ii,$(ku,t),$(ja,n),Ii=t|n.baseLanes}function rh(){$(ku,Ii),$(ja,ja.current)}function ah(){Ii=ku.current,et(ja),et(ku)}var Fi=0,bt=null,Yt=null,me=null,ju=!1,Ha=!1,ia=!1,Hu=0,ol=0,Ga=null,mE=0;function oe(){throw Error(a(321))}function sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function lh(t,n,r,l,c,f){return Fi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?sg:lg,ia=!1,f=r(l,c),ia=!1,Ha&&(f=Rm(n,r,l,c)),bm(t),f}function bm(t){j.H=Ku;var n=Yt!==null&&Yt.next!==null;if(Fi=0,me=Yt=bt=null,ju=!1,ol=0,Ga=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Lu(t)&&(De=!0))}function Rm(t,n,r,l){bt=t;var c=0;do{if(Ha&&(Ga=null),ol=0,Ha=!1,25<=c)throw Error(a(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=TE,f=n(r,l)}while(Ha);return f}function gE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function uh(){var t=Hu!==0;return Hu=0,t}function oh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ch(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}Fi=0,me=Yt=bt=null,Ha=!1,ol=Hu=0,Ga=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ol;return ol+=1,Ga===null&&(Ga=[]),t=_m(Ga,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?sg:lg),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ot)return He(t)}throw Error(a(438,String(t)))}function fh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=hh(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=ge();return dh(n,Yt,t)}function dh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Mt&Y)===Y:(Fi&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===qa&&(H=!0);else if((Fi&B)===B){P=P.next,B===qa&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,bt.lanes|=B,tr|=B;Y=P.action,ia&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,bt.lanes|=Y,tr|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(De=!0,H&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function wm(t,n,r){var l=bt,c=ge(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Yt||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=Vm.bind(null,l,c,t);if(hl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Yu(),Dm.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(Fi&124)!==0||Cm(l,n,r)}return r}function Cm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=hh(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Dm(t,n,r,l){n.value=r,n.getSnapshot=l,Im(n)&&Nm(t)}function Vm(t,n,r){return r(function(){Im(n)&&Nm(t)})}function Im(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Nm(t){var n=La(t,2);n!==null&&fn(n,t,2)}function gh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),ia){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Om(t,n,r,l){return t.baseState=r,dh(t,Yt,typeof l=="function"?l:bi)}function pE(t,n,r,l,c){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Mm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Mm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),xm(t,n,E)}catch(P){ph(t,n,P)}finally{j.T=f}}else try{f=r(c,l),xm(t,n,f)}catch(P){ph(t,n,P)}}function xm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Um(t,n,l)},function(l){return ph(t,n,l)}):Um(t,n,r)}function Um(t,n,r){n.status="fulfilled",n.value=r,Lm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Mm(t,r)))}function ph(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Lm(n),n=n.next;while(n!==l)}t.action=null}function Lm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zm(t,n){return n}function Pm(t,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var l=bt;if(Bt){if(se){e:{for(var c=se,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:n},r.queue=l,r=ig.bind(null,bt,l),l.dispatch=r,l=gh(!1),f=Th.bind(null,bt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=pE.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Bm(t){var n=ge();return qm(n,Yt,t)}function qm(t,n,r){if(n=dh(t,n,zm)[0],t=Qu(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=cl(n)}catch(y){throw y===rl?Bu:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Qa(9,Yu(),yE.bind(null,c,r),null)),[l,f,t]}function yE(t,n){t.action=n}function km(t){var n=ge(),r=Yt;if(r!==null)return qm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=hh(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Yu(){return{destroy:void 0,resource:void 0}}function jm(){return ge().memoizedState}function Fu(t,n,r,l){var c=$e();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Qa(1|n,Yu(),r,l)}function hl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&sh(l,Yt.memoizedState.deps)?c.memoizedState=Qa(n,f,r,l):(bt.flags|=t,c.memoizedState=Qa(1|n,f,r,l))}function Hm(t,n){Fu(8390656,8,t,n)}function Gm(t,n){hl(2048,8,t,n)}function Qm(t,n){return hl(4,2,t,n)}function Ym(t,n){return hl(4,4,t,n)}function Fm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xm(t,n,r){r=r!=null?r.concat([t]):null,hl(4,4,Fm.bind(null,n,t),r)}function yh(){}function Km(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Zm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ia){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function _h(t,n,r){return r===void 0||(Fi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Wg(),bt.lanes|=t,tr|=t,r)}function Jm(t,n,r,l){return sn(r,n)?r:ja.current!==null?(t=_h(t,r,l),sn(t,n)||(De=!0),t):(Fi&42)===0?(De=!0,t.memoizedState=r):(t=Wg(),bt.lanes|=t,tr|=t,n)}function $m(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,Th(t,!1,n,r);try{var b=c(),P=j.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=dE(b,l);fl(t,n,H,hn(t))}else fl(t,n,l,hn(t))}catch(Y){fl(t,n,{then:function(){},status:"rejected",reason:Y},hn())}finally{tt.p=f,j.T=y}}function _E(){}function vh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Wm(t).queue;$m(t,c,n,ut,r===null?_E:function(){return tg(t),r(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;fl(t,n,{},hn())}function Eh(){return He(Il)}function eg(){return ge().memoizedState}function ng(){return ge().memoizedState}function vE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Qi(r);var l=Yi(n,t,r);l!==null&&(fn(l,n,r),sl(l,n,r)),n={cache:Zc()},t.payload=n;return}n=n.return}}function EE(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(t)?rg(n,r):(r=qc(t,n,r,l),r!==null&&(fn(r,t,l),ag(r,n,l)))}function ig(t,n,r){var l=hn();fl(t,n,r,l)}function fl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Nu(t,n,c,0),Jt===null&&Iu(),!1}catch{}finally{}if(r=qc(t,n,c,l),r!==null)return fn(r,t,l),ag(r,n,l),!0}return!1}function Th(t,n,r,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=qc(t,r,l,2),n!==null&&fn(n,t,2)}function Xu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function rg(t,n){Ha=ju=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ag(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xs(t,r)}}var Ku={readContext:He,use:Gu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},sg={readContext:He,use:Gu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Hm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,Fm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(ia){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(ia){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=EE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,r=ig.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:yh,useDeferredValue:function(t,n){var r=$e();return _h(r,t,n)},useTransition:function(){var t=gh(!1);return t=$m.bind(null,bt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=$e();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Mt&124)!==0||Cm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Hm(Vm.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,Yu(),Dm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Bt){var r=Ti,l=Ei;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=mE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Eh,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Th.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return $e().memoizedState=vE.bind(null,bt)}},lg={readContext:He,use:Gu,useCallback:Km,useContext:He,useEffect:Gm,useImperativeHandle:Xm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:Zm,useReducer:Qu,useRef:jm,useState:function(){return Qu(bi)},useDebugValue:yh,useDeferredValue:function(t,n){var r=ge();return Jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Qu(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:Eh,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var r=ge();return Om(r,Yt,t,n)},useMemoCache:fh,useCacheRefresh:ng},TE={readContext:He,use:Gu,useCallback:Km,useContext:He,useEffect:Gm,useImperativeHandle:Xm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:Zm,useReducer:mh,useRef:jm,useState:function(){return mh(bi)},useDebugValue:yh,useDeferredValue:function(t,n){var r=ge();return Yt===null?_h(r,t,n):Jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=mh(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:Eh,useFormState:km,useActionState:km,useOptimistic:function(t,n){var r=ge();return Yt!==null?Om(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:fh,useCacheRefresh:ng},Ya=null,dl=0;function Zu(t){var n=dl;return dl+=1,Ya===null&&(Ya=[]),_m(Ya,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){var n=t._init;return n(t._payload)}function og(t){function n(x,D){if(t){var z=x.deletions;z===null?(x.deletions=[D],x.flags|=16):z.push(D)}}function r(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=vi(x,D),x.index=0,x.sibling=null,x}function f(x,D,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<D?(x.flags|=67108866,D):z):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,z,G){return D===null||D.tag!==6?(D=jc(z,x.mode,G),D.return=x,D):(D=c(D,z),D.return=x,D)}function b(x,D,z,G){var at=z.type;return at===Z?H(x,D,z.props.children,G,z.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&ug(at)===D.type)?(D=c(D,z.props),ml(D,z),D.return=x,D):(D=Mu(z.type,z.key,z.props,null,x.mode,G),ml(D,z),D.return=x,D)}function P(x,D,z,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Hc(z,x.mode,G),D.return=x,D):(D=c(D,z.children||[]),D.return=x,D)}function H(x,D,z,G,at){return D===null||D.tag!==7?(D=Kr(z,x.mode,G,at),D.return=x,D):(D=c(D,z),D.return=x,D)}function Y(x,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jc(""+D,x.mode,z),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case V:return z=Mu(D.type,D.key,D.props,null,x.mode,z),ml(z,D),z.return=x,z;case Q:return D=Hc(D,x.mode,z),D.return=x,D;case S:var G=D._init;return D=G(D._payload),Y(x,D,z)}if(re(D)||U(D))return D=Kr(D,x.mode,z,null),D.return=x,D;if(typeof D.then=="function")return Y(x,Zu(D),z);if(D.$$typeof===ot)return Y(x,zu(x,D),z);Ju(x,D)}return null}function B(x,D,z,G){var at=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(x,D,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===at?b(x,D,z,G):null;case Q:return z.key===at?P(x,D,z,G):null;case S:return at=z._init,z=at(z._payload),B(x,D,z,G)}if(re(z)||U(z))return at!==null?null:H(x,D,z,G,null);if(typeof z.then=="function")return B(x,D,Zu(z),G);if(z.$$typeof===ot)return B(x,D,zu(x,z),G);Ju(x,z)}return null}function q(x,D,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(z)||null,E(D,x,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case V:return x=x.get(G.key===null?z:G.key)||null,b(D,x,G,at);case Q:return x=x.get(G.key===null?z:G.key)||null,P(D,x,G,at);case S:var wt=G._init;return G=wt(G._payload),q(x,D,z,G,at)}if(re(G)||U(G))return x=x.get(z)||null,H(D,x,G,at,null);if(typeof G.then=="function")return q(x,D,z,Zu(G),at);if(G.$$typeof===ot)return q(x,D,z,zu(D,G),at);Ju(D,G)}return null}function yt(x,D,z,G){for(var at=null,wt=null,lt=D,mt=D=0,Ie=null;lt!==null&&mt<z.length;mt++){lt.index>mt?(Ie=lt,lt=null):Ie=lt.sibling;var Lt=B(x,lt,z[mt],G);if(Lt===null){lt===null&&(lt=Ie);break}t&&lt&&Lt.alternate===null&&n(x,lt),D=f(Lt,D,mt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt,lt=Ie}if(mt===z.length)return r(x,lt),Bt&&Jr(x,mt),at;if(lt===null){for(;mt<z.length;mt++)lt=Y(x,z[mt],G),lt!==null&&(D=f(lt,D,mt),wt===null?at=lt:wt.sibling=lt,wt=lt);return Bt&&Jr(x,mt),at}for(lt=l(lt);mt<z.length;mt++)Ie=q(lt,x,mt,z[mt],G),Ie!==null&&(t&&Ie.alternate!==null&&lt.delete(Ie.key===null?mt:Ie.key),D=f(Ie,D,mt),wt===null?at=Ie:wt.sibling=Ie,wt=Ie);return t&&lt.forEach(function(or){return n(x,or)}),Bt&&Jr(x,mt),at}function dt(x,D,z,G){if(z==null)throw Error(a(151));for(var at=null,wt=null,lt=D,mt=D=0,Ie=null,Lt=z.next();lt!==null&&!Lt.done;mt++,Lt=z.next()){lt.index>mt?(Ie=lt,lt=null):Ie=lt.sibling;var or=B(x,lt,Lt.value,G);if(or===null){lt===null&&(lt=Ie);break}t&&lt&&or.alternate===null&&n(x,lt),D=f(or,D,mt),wt===null?at=or:wt.sibling=or,wt=or,lt=Ie}if(Lt.done)return r(x,lt),Bt&&Jr(x,mt),at;if(lt===null){for(;!Lt.done;mt++,Lt=z.next())Lt=Y(x,Lt.value,G),Lt!==null&&(D=f(Lt,D,mt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return Bt&&Jr(x,mt),at}for(lt=l(lt);!Lt.done;mt++,Lt=z.next())Lt=q(lt,x,mt,Lt.value,G),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),D=f(Lt,D,mt),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return t&&lt.forEach(function(A0){return n(x,A0)}),Bt&&Jr(x,mt),at}function Xt(x,D,z,G){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var at=z.key;D!==null;){if(D.key===at){if(at=z.type,at===Z){if(D.tag===7){r(x,D.sibling),G=c(D,z.props.children),G.return=x,x=G;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&ug(at)===D.type){r(x,D.sibling),G=c(D,z.props),ml(G,z),G.return=x,x=G;break t}r(x,D);break}else n(x,D);D=D.sibling}z.type===Z?(G=Kr(z.props.children,x.mode,G,z.key),G.return=x,x=G):(G=Mu(z.type,z.key,z.props,null,x.mode,G),ml(G,z),G.return=x,x=G)}return y(x);case Q:t:{for(at=z.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(x,D.sibling),G=c(D,z.children||[]),G.return=x,x=G;break t}else{r(x,D);break}else n(x,D);D=D.sibling}G=Hc(z,x.mode,G),G.return=x,x=G}return y(x);case S:return at=z._init,z=at(z._payload),Xt(x,D,z,G)}if(re(z))return yt(x,D,z,G);if(U(z)){if(at=U(z),typeof at!="function")throw Error(a(150));return z=at.call(z),dt(x,D,z,G)}if(typeof z.then=="function")return Xt(x,D,Zu(z),G);if(z.$$typeof===ot)return Xt(x,D,zu(x,z),G);Ju(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(x,D.sibling),G=c(D,z),G.return=x,x=G):(r(x,D),G=jc(z,x.mode,G),G.return=x,x=G),y(x)):r(x,D)}return function(x,D,z,G){try{dl=0;var at=Xt(x,D,z,G);return Ya=null,at}catch(lt){if(lt===rl||lt===Bu)throw lt;var wt=ln(29,lt,null,x.mode);return wt.lanes=G,wt.return=x,wt}finally{}}}var Fa=og(!0),cg=og(!1),bn=X(null),Xn=null;function Xi(t){var n=t.alternate;$(Ae,Ae.current&1),$(bn,t),Xn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Xn=t)}function hg(t){if(t.tag===22){if($(Ae,Ae.current),$(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Ki()}function Ki(){$(Ae,Ae.current),$(bn,bn.current)}function Ri(t){et(bn),Xn===t&&(Xn=null),et(Ae)}var Ae=X(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ff(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ah(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),sl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(fn(n,t,r),sl(n,t,r))}};function fg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zs(r,l)||!Zs(c,f):!0}function dg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){Wu(t)}function gg(t){console.error(t)}function pg(t){Wu(t)}function to(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){to(t,n)},r}function _g(t){return t=Qi(t),t.tag=3,t}function vg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,r,l),typeof c!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&el(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?Xh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zh(t,l,c)),!1;case 22:return r.flags|=65536,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zh(t,l,c)),!1}throw Error(a(435,r.tag))}return Zh(t,l,c),Xh(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(a(422),{cause:l}),tl(En(t,r)))):(l!==Yc&&(n=Error(a(423),{cause:l}),tl(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=bh(t.stateNode,l,c),nh(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),Tl===null?Tl=[f]:Tl.push(f),le!==4&&(le=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),nh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=_g(c),vg(c,t,r,l),nh(r,c),!1}r=r.return}while(r!==null);return!1}var Eg=Error(a(461)),De=!1;function Le(t,n,r,l){n.child=t===null?cg(n,null,r,l):Fa(n,t.child,r,l)}function Tg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=lh(t,n,r,y,f,c),E=uh(),t!==null&&!De?(oh(t,n,c),wi(t,n,c)):(Bt&&E&&Gc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Ag(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=Mu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zs,r(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Zs(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Oh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Rh(t,n,r,l,c)}function bg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Rg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):rh(),hg(n);else return n.lanes=n.childLanes=536870912,Rg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Pu(n,f.cachePool),Sm(n,f),Ki(),n.memoizedState=null):(t!==null&&Pu(n,null),rh(),Ki());return Le(t,n,c,r),n.child}function Rg(t,n,r,l){var c=$c();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Pu(n,null),rh(),hg(n),t!==null&&el(t,n,l,!0),null}function eo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Rh(t,n,r,l,c){return ea(n),r=lh(t,n,r,l,void 0,c),l=uh(),t!==null&&!De?(oh(t,n,c),wi(t,n,c)):(Bt&&l&&Gc(n),n.flags|=1,Le(t,n,r,c),n.child)}function wg(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=Rm(n,l,r,c),bm(t),l=uh(),t!==null&&!De?(oh(t,n,f),wi(t,n,f)):(Bt&&l&&Gc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Cg(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=za,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):za,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ah(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Sh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ra(r,E);f.props=b;var P=f.context,H=r.contextType;y=za,typeof H=="object"&&H!==null&&(y=He(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&dg(n,f,l,y),Gi=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ll(),P=n.memoizedState,E||B!==P||Gi?(typeof Y=="function"&&(Ah(n,r,Y,l),P=n.memoizedState),(b=Gi||fg(n,r,b,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),y=n.memoizedProps,H=ra(r,y),f.props=H,Y=n.pendingProps,B=f.context,P=r.contextType,b=za,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&dg(n,f,l,b),Gi=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ll();var q=n.memoizedState;y!==Y||B!==q||Gi||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof E=="function"&&(Ah(n,r,E,l),q=n.memoizedState),(H=Gi||fg(n,r,H,l,B,q,b)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,eo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fa(n,t.child,null,c),n.child=Fa(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Dg(t,n,r,l){return Ws(),n.flags|=256,Le(t,n,r,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ch(t){return{baseLanes:t,cachePool:gm()}}function Dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function Vg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Xi(n):Ki(),Bt){var E=se,b;if(b=E){t:{for(b=E,E=Fn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,se=null,b=!0):b=!1}b||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ff(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=no({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ch(r),c.childLanes=Dh(t,y,r),n.memoizedState=wh,l):(Xi(n),Vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Ih(t,n,r)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=no({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Fa(n,t.child,null,r),l=n.child,l.memoizedState=Ch(r),l.childLanes=Dh(t,y,r),n.memoizedState=wh,n=c);else if(Xi(n),ff(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,tl({value:l,source:null,stack:null}),n=Ih(t,n,r)}else if(De||el(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,La(t,l),fn(y,t,l),Eg;E.data==="$?"||Xh(),n=Ih(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=Mn(E.nextSibling),Je=n,Bt=!0,$r=null,Fn=!1,t!==null&&(An[Sn++]=Ei,An[Sn++]=Ti,An[Sn++]=Zr,Ei=t.id,Ti=t.overflow,Zr=n),n=Vh(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=vi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=vi(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ch(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=gm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Dh(t,y,r),n.memoizedState=wh,l):(Xi(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Vh(t,n){return n=no({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function no(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ih(t,n,r){return Fa(n,t.child,null,r),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ig(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,r)}function Nh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ng(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,r,n);else if(t.tag===19)Ig(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&$u(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$u(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Nh(n,!0,r,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(el(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function SE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Hi(n,Te,t.memoizedState.cache),Ws();break;case 27:case 5:Ui(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Vg(t,n,r):(Xi(n),t=wi(t,n,r),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(el(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ng(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,r);case 24:Hi(n,Te,t.memoizedState.cache)}return wi(t,n,r)}function Og(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Oh(t,r)&&(n.flags&128)===0)return De=!1,SE(t,n,r);De=(t.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&um(n,Uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")kc(l)?(t=ra(l,t),n.tag=1,n=Cg(null,n,l,t,r)):(n.tag=0,n=Rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===zt){n.tag=11,n=Tg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=Ag(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),Cg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),ul(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Hi(n,Te,l),l!==f.cache&&Kc(n,[Te],r,!0),ll(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dg(t,n,l,r);break t}else if(l!==c){c=En(Error(a(424)),n),tl(c),n=Dg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),Je=n,Bt=!0,$r=null,Fn=!0,r=cg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ws(),l===c){n=wi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return eo(t,n),t===null?(r=Lp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=yo(vt.current).createElement(r),l[_e]=n,l[fe]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Lp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&Bt&&(l=n.stateNode=Mp(n.type,n.pendingProps,vt.current),Je=n,Fn=!0,c=se,rr(n.type)?(df=c,se=Mn(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,r),eo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=JE(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Je=n,se=Mn(l.firstChild),Fn=!1,c=!0):c=!1),c||Wr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,of(c,f)?l=null:y!==null&&of(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=lh(t,n,gE,null,null,r),Il._currentValue=c),eo(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=se)&&(r=$E(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Je=n,se=null,t=!0):t=!1),t||Wr(n)),null;case 13:return Vg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fa(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,r);case 15:return Sg(t,n,n.type,n.pendingProps,r);case 19:return Ng(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=no(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return bg(t,n,r);case 24:return ea(n),l=He(Te),t===null?(c=$c(),c===null&&(c=Jt,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},th(n),Hi(n,Te,c)):((t.lanes&r)!==0&&(eh(t,n),ul(n,null,null,r),ll()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,Te,l)):(l=f.cache,Hi(n,Te,l),l!==c.cache&&Kc(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ci(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(n)){if(n=bn.current,n!==null&&((Mt&4194048)===Mt?Xn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Xn))throw al=Wc,pm;t.flags|=8192}}function io(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Os():536870912,t.lanes|=n,Ja|=n)}function gl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function bE(t,n,r){var l=n.pendingProps;switch(Qc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($s(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(ne(n),Mg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),ne(n),Mg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ne(n),n.flags&=-16777217),null;case 27:si(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=ct.current,$s(n)?om(n):(t=Mp(c,l,r),n.stateNode=t,Ci(n))}return ne(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=ct.current,$s(n))om(n);else{switch(c=yo(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,$s(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,r)),t||Wr(n)}else t=yo(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$s(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),io(n,n.updateQueue),ne(n),null;case 4:return Un(),t===null&&rf(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(et(Ae),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,io(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)lm(r,t),r=r.sibling;return $(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>so&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=$u(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,io(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*mn()-c.renderingStartTime>so&&r!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Ae.current,$(Ae,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ri(n),ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&io(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function RE(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),Un(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ws()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ae),null;case 4:return Un(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),ah(),t!==null&&et(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function xg(t,n){switch(Qc(n),n.tag){case 3:Si(Te),Un();break;case 26:case 27:case 5:si(n);break;case 4:Un();break;case 13:Ri(n);break;case 19:et(Ae);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),ah(),t!==null&&et(na);break;case 24:Si(Te)}}function pl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Zi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function Ug(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Am(n,r)}catch(l){Kt(t,t.return,l)}}}function Lg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function yl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function zg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Mh(t,n,r){try{var l=t.stateNode;YE(l,t.type,r,n),l[fe]=n}catch(c){Kt(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=po));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uh(t,n,r),t=t.sibling;t!==null;)Uh(t,n,r),t=t.sibling}function ro(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ro(t,n,r),t=t.sibling;t!==null;)ro(t,n,r),t=t.sibling}function Bg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[_e]=t,n[fe]=r}catch(f){Kt(t,t.return,f)}}var Di=!1,ce=!1,Lh=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function wE(t,n){if(t=t.containerInfo,lf=So,t=Jd(t),xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,H=0,Y=t,B=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++H===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(uf={focusedElem:t,selectionRange:r},So=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Kt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function kg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&pl(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Ug(r),l&512&&yl(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Am(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Bg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&zg(r),l&512&&yl(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&Gg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=UE.bind(null,r),WE(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||ce,c=Di;var f=ce;Di=l,(ce=n)&&!f?$i(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Di=c,ce=f}break;case 30:break;default:Ji(t,r)}}function jg(t){var n=t.alternate;n!==null&&(t.alternate=null,jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Vi(t,n,r){for(r=r.child;r!==null;)Hg(t,n,r),r=r.sibling}function Hg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Kn(r,n),Vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Kn(r,n);var l=ee,c=We;rr(r.type)&&(ee=r.stateNode,We=!1),Vi(t,n,r),wl(r.stateNode),ee=l,We=c;break;case 5:ce||Kn(r,n);case 6:if(l=ee,c=We,ee=null,Vi(t,n,r),ee=l,We=c,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ee!==null&&(We?(t=ee,Np(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),xl(t)):Np(ee,r.stateNode));break;case 4:l=ee,c=We,ee=r.stateNode.containerInfo,We=!0,Vi(t,n,r),ee=l,We=c;break;case 0:case 11:case 14:case 15:ce||Zi(2,r,n),ce||Zi(4,r,n),Vi(t,n,r);break;case 1:ce||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Lg(r,n,l)),Vi(t,n,r);break;case 21:Vi(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Vi(t,n,r),ce=l;break;default:Vi(t,n,r)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(r){Kt(n,n.return,r)}}function CE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qg),n;default:throw Error(a(435,t.tag))}}function zh(t,n){var r=CE(t);n.forEach(function(l){var c=LE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){ee=E.stateNode,We=!1;break t}break;case 5:ee=E.stateNode,We=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ee===null)throw Error(a(160));Hg(f,y,c),ee=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var On=null;function Qg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),on(t),l&4&&(Zi(3,t,t.return),pl(3,t),Zi(5,t,t.return));break;case 1:un(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(un(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[_e]=t,ue(f),l=f;break t;case"link":var y=Bp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Bp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,ue(f),l=f}t.stateNode=l}else qp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?qp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),r!==null&&l&4&&Mh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Lh=!0);break;case 6:if(un(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(Eo=null,c=On,On=_o(n.containerInfo),un(n,t),On=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{xl(n.containerInfo)}catch(q){Kt(t,t.return,q)}Lh&&(Lh=!1,Yg(t));break;case 4:l=On,On=_o(t.stateNode.containerInfo),un(n,t),on(t),On=l;break;case 12:un(n,t),on(t);break;case 13:un(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Di,H=ce;if(Di=P||c,ce=H||b,un(n,t),ce=H,Di=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Di||ce||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,zh(t,r))));break;case 19:un(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zh(t,l)));break;case 30:break;case 21:break;default:un(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Pg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=xh(t);ro(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(pn(y,""),r.flags&=-33);var E=xh(t);ro(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=xh(t);Uh(t,P,b);break;default:throw Error(a(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),aa(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Lg(n,n.return,r),aa(n);break;case 27:wl(n.stateNode);case 26:case 5:Kn(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function $i(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:$i(c,f,r),pl(4,f);break;case 1:if($i(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Tm(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&Ug(f),yl(f,f.return);break;case 27:Bg(f);case 26:case 5:$i(c,f,r),r&&l===null&&y&4&&zg(f),yl(f,f.return);break;case 12:$i(c,f,r);break;case 13:$i(c,f,r),r&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&$i(c,f,r),yl(f,f.return);break;case 30:break;default:$i(c,f,r)}n=n.sibling}}function Ph(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Bh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,r,l),n=n.sibling}function Fg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),c&2048&&pl(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){Zn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,r,l):_l(t,n):f._visibility&2?Zn(t,n,r,l):(f._visibility|=2,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ph(y,n);break;case 24:Zn(t,n,r,l),c&2048&&Bh(n.alternate,n);break;default:Zn(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,b,c),pl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Xa(f,y,E,b,c):_l(f,y):(H._visibility|=2,Xa(f,y,E,b,c)),c&&P&2048&&Ph(y.alternate,y);break;case 24:Xa(f,y,E,b,c),c&&P&2048&&Bh(y.alternate,y);break;default:Xa(f,y,E,b,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:_l(r,l),c&2048&&Ph(l.alternate,l);break;case 24:_l(r,l),c&2048&&Bh(l.alternate,l);break;default:_l(r,l)}n=n.sibling}}var vl=8192;function Ka(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Xg(t),t=t.sibling}function Xg(t){switch(t.tag){case 26:Ka(t),t.flags&vl&&t.memoizedState!==null&&f0(On,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var n=On;On=_o(t.stateNode.containerInfo),Ka(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=vl,vl=16777216,Ka(t),vl=n):Ka(t));break;default:Ka(t)}}function Kg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Jg(l,t)}Kg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ao(t)):El(t);break;default:El(t)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Jg(l,t)}Kg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),ao(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ao(n));break;default:ao(n)}t=t.sibling}}function Jg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Zi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(jg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var DE={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},VE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Ct=null,Mt=0,Gt=0,cn=null,Wi=!1,Za=!1,qh=!1,Ii=0,le=0,tr=0,sa=0,kh=0,Rn=0,Ja=0,Tl=null,tn=null,jh=!1,Hh=0,so=1/0,lo=null,er=null,ze=0,nr=null,$a=null,Wa=0,Gh=0,Qh=null,$g=null,Al=0,Yh=null;function hn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(j.T!==null){var t=qa;return t!==0?t:Wh()}return zi()}function Wg(){Rn===0&&(Rn=(Mt&536870912)===0||Bt?Ns():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function fn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ts(t,0),ir(t,Mt,Rn,!1)),ui(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(sa|=r),le===4&&ir(t,Mt,Rn,!1)),Jn(t))}function tp(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?OE(t,n):Kh(t,n,!0),f=l;do{if(c===0){Za&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!IE(r)){c=Kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Tl;var b=E.current.memoizedState.isDehydrated;if(b&&(ts(E,y).flags|=256),y=Kh(E,y,!1),y!==2){if(qh&&!b){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),ir(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,Rn,!Wi);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Hh+300-mn(),10<c)){if(ir(l,n,Rn,!Wi),ya(l,0,!0)!==0)break t;l.timeoutHandle=Vp(ep.bind(null,l,r,tn,lo,jh,n,Rn,sa,Ja,Wi,f,2,-0,0),c);break t}ep(l,r,tn,lo,jh,n,Rn,sa,Ja,Wi,f,0,-0,0)}}break}while(!0);Jn(t)}function ep(t,n,r,l,c,f,y,E,b,P,H,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:h0},Xg(n),Y=d0(),Y!==null)){t.cancelPendingCommit=Y(up.bind(null,t,n,f,r,l,c,y,E,b,H,1,B,q)),ir(t,f,y,!P);return}up(t,n,f,r,l,c,y,E,b)}function IE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~kh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Ln(t,r,n)}function uo(){return(Ht&6)===0?(Sl(0),!1):!0}function Fh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,Ai=ta=null,ch(t),Ya=null,dl=0,t=Ct;for(;t!==null;)xg(t.alternate,t),t=t.return;Ct=null}}function ts(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,XE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Fh(),Jt=t,Ct=r=vi(t.current,null),Mt=n,Gt=0,cn=null,Wi=!1,Za=Or(t,n),qh=!1,Ja=Rn=kh=sa=tr=le=0,tn=Tl=null,jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Iu(),r}function np(t,n){bt=null,j.H=Ku,n===rl||n===Bu?(n=vm(),Gt=3):n===pm?(n=vm(),Gt=4):Gt=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ct===null&&(le=1,to(t,En(n,t.current)))}function ip(){var t=j.H;return j.H=Ku,t===null?Ku:t}function rp(){var t=j.A;return j.A=DE,t}function Xh(){le=4,Wi||(Mt&4194048)!==Mt&&bn.current!==null||(Za=!0),(tr&134217727)===0&&(sa&134217727)===0||Jt===null||ir(Jt,Mt,Rn,!1)}function Kh(t,n,r){var l=Ht;Ht|=2;var c=ip(),f=rp();(Jt!==t||Mt!==n)&&(lo=null,ts(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=cn;switch(Gt){case 8:Fh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Gt;if(Gt=0,cn=null,es(t,E,b,P),r&&Za){y=0;break t}break;default:P=Gt,Gt=0,cn=null,es(t,E,b,P)}}NE(),y=le;break}catch(H){np(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=ta=null,Ht=l,j.H=c,j.A=f,Ct===null&&(Jt=null,Mt=0,Iu()),y}function NE(){for(;Ct!==null;)ap(Ct)}function OE(t,n){var r=Ht;Ht|=2;var l=ip(),c=rp();Jt!==t||Mt!==n?(lo=null,so=mn()+500,ts(t,n)):Za=Or(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,es(t,n,f,1);break;case 2:case 9:if(ym(f)){Gt=0,cn=null,sp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Jn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ym(f)?(Gt=0,cn=null,sp(n)):(Gt=0,cn=null,es(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||kp(y)){Gt=0,cn=null;var b=E.sibling;if(b!==null)Ct=b;else{var P=E.return;P!==null?(Ct=P,oo(P)):Ct=null}break e}}Gt=0,cn=null,es(t,n,f,5);break;case 6:Gt=0,cn=null,es(t,n,f,6);break;case 8:Fh(),le=6;break t;default:throw Error(a(462))}}ME();break}catch(H){np(t,H)}while(!0);return Ai=ta=null,j.H=l,j.A=c,Ht=r,Ct!==null?0:(Jt=null,Mt=0,Iu(),le)}function ME(){for(;Ct!==null&&!Cs();)ap(Ct)}function ap(t){var n=Og(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?oo(t):Ct=n}function sp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=wg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=wg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:ch(n);default:xg(r,n),n=Ct=lm(n,Ii),n=Og(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?oo(t):Ct=n}function es(t,n,r,l){Ai=ta=null,ch(n),Ya=null,dl=0;var c=n.return;try{if(AE(t,c,n,r,Mt)){le=1,to(t,En(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,to(t,En(r,t.current)),Ct=null;return}n.flags&32768?(Bt||l===1?t=!0:Za||(Mt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):oo(n)}function oo(t){var n=t;do{if((n.flags&32768)!==0){lp(n,Wi);return}t=n.return;var r=bE(n.alternate,n,Ii);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function lp(t,n){do{var r=RE(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);le=6,Ct=null}function up(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do co();while(ze!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bc,Ms(t,r,f,y,E,b),t===Jt&&(Ct=Jt=null,Mt=0),$a=n,nr=t,Wa=r,Gh=f,Qh=c,$g=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE(Dr,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{wE(t,n,r)}finally{Ht=y,tt.p=c,j.T=l}}ze=1,op(),cp(),hp()}}function op(){if(ze===1){ze=0;var t=nr,n=$a,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Qg(n,t);var f=uf,y=Jd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(b!==null&&xc(E)){var P=b.start,H=b.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),yt=E.textContent.length,dt=Math.min(b.start,yt),Xt=b.end===void 0?dt:Math.min(b.end,yt);!q.extend&&dt>Xt&&(y=Xt,Xt=dt,dt=y);var x=Kd(E,dt),D=Kd(E,Xt);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(x.node,x.offset),q.removeAllRanges(),dt>Xt?(q.addRange(z),q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}So=!!lf,uf=lf=null}finally{Ht=c,tt.p=l,j.T=r}}t.current=n,ze=2}}function cp(){if(ze===2){ze=0;var t=nr,n=$a,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{kg(t,n.alternate,n)}finally{Ht=c,tt.p=l,j.T=r}}ze=3}}function hp(){if(ze===4||ze===3){ze=0,au();var t=nr,n=$a,r=Wa,l=$g;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,$a=nr=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(er=null),_a(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(Wa&3)!==0&&co(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Yh?Al++:(Al=0,Yh=t):Al=0,Sl(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function co(t){return op(),cp(),hp(),dp()}function dp(){if(ze!==5)return!1;var t=nr,n=Gh;Gh=0;var r=_a(Wa),l=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Qh,Qh=null;var f=nr,y=Wa;if(ze=0,$a=nr=null,Wa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Zg(f.current),Fg(f,f.current,y,r),Ht=E,Sl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,j.T=l,fp(t,n)}}function mp(t,n,r){n=En(r,n),n=bh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(ui(t,2),Jn(t))}function Kt(t,n,r){if(t.tag===3)mp(t,t,r);else for(;n!==null;){if(n.tag===3){mp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=En(r,t),r=_g(2),l=Yi(n,r,2),l!==null&&(vg(r,l,n,t),ui(l,2),Jn(l));break}}n=n.return}}function Zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new VE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(qh=!0,c.add(r),t=xE.bind(null,t,n,r),n.then(t,t))}function xE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Mt&r)===r&&(le===4||le===3&&(Mt&62914560)===Mt&&300>mn()-Hh?(Ht&2)===0&&ts(t,0):kh|=r,Ja===Mt&&(Ja=0)),Jn(t)}function gp(t,n){n===0&&(n=Os()),t=La(t,n),t!==null&&(ui(t,n),Jn(t))}function UE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),gp(t,r)}function LE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),gp(t,r)}function zE(t,n){return wr(t,n)}var ho=null,ns=null,Jh=!1,fo=!1,$h=!1,la=0;function Jn(t){t!==ns&&t.next===null&&(ns===null?ho=ns=t:ns=ns.next=t),fo=!0,Jh||(Jh=!0,BE())}function Sl(t,n){if(!$h&&fo){$h=!0;do for(var r=!1,l=ho;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,vp(l,f))}else f=Mt,f=ya(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,vp(l,f));l=l.next}while(r);$h=!1}}function PE(){pp()}function pp(){fo=Jh=!1;var t=0;la!==0&&(FE()&&(t=la),la=0);for(var n=mn(),r=null,l=ho;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,r===null?ho=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||(f&3)!==0)&&(fo=!0)),l=c}Sl(t)}function yp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Is(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Mt,r=ya(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Cr(l),_a(r)){case 2:case 8:r=ga;break;case 32:r=Dr;break;case 268435456:r=pa;break;default:r=Dr}return l=_p.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(co()&&t.callbackNode!==r)return null;var l=Mt;return l=ya(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?_p.bind(null,t):null)}function vp(t,n){if(co())return null;tp(t,n,!0)}function BE(){KE(function(){(Ht&6)!==0?wr(Ds,PE):pp()})}function Wh(){return la===0&&(la=Ns()),la}function Ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function Tp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function qE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Ep((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Ep(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ra("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var b=y?Tp(c,y):new FormData(c);vh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Tp(c,y):new FormData(c),vh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var tf=0;tf<Pc.length;tf++){var ef=Pc[tf],kE=ef.toLowerCase(),jE=ef[0].toUpperCase()+ef.slice(1);Nn(kE,"on"+jE)}Nn(tm,"onAnimationEnd"),Nn(em,"onAnimationIteration"),Nn(nm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(aE,"onTransitionRun"),Nn(sE,"onTransitionStart"),Nn(lE,"onTransitionCancel"),Nn(im,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Ap(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Wu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Wu(H)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Us];r===void 0&&(r=n[Us]=new Set);var l=t+"__bubble";r.has(l)||(Sp(n,t,2,!1),r.add(l))}function nf(t,n,r){var l=0;n&&(l|=4),Sp(r,t,l,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[mo]){t[mo]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(HE.has(r)||nf(r,!1,t),nf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mo]||(n[mo]=!0,nf("selectionchange",!1,n))}}function Sp(t,n,r,l){switch(Fp(n)){case 2:var c=p0;break;case 8:c=y0;break;default:c=_f}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function af(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}gu(function(){var P=f,H=yn(r),Y=[];t:{var B=rm.get(t);if(B!==void 0){var q=Ra,yt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Na;break;case"focusin":yt="focus",q=Da;break;case"focusout":yt="blur",q=Da;break;case"beforeblur":case"afterblur":q=Da;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Su;break;case tm:case em:case nm:q=Va;break;case im:q=Ru;break;case"scroll":case"scrollend":q=pu;break;case"wheel":q=Oa;break;case"copy":case"cut":case"paste":q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xs;break;case"toggle":case"beforetoggle":q=Cu}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),x=dt?B!==null?B+"Capture":null:B;dt=[];for(var D=P,z;D!==null;){var G=D;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||x===null||(G=qr(D,x),G!=null&&dt.push(Rl(D,G,z))),Xt)break;D=D.return}0<dt.length&&(B=new q(B,yt,null,r,H),Y.push({event:B,listeners:dt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==di&&(yt=r.relatedTarget||r.fromElement)&&(oi(yt)||yt[gn]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(yt=r.relatedTarget||r.toElement,q=P,yt=yt?oi(yt):null,yt!==null&&(Xt=h(yt),dt=yt.tag,yt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(q=null,yt=P),q!==yt)){if(dt=vn,G="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Xs,G="onPointerLeave",x="onPointerEnter",D="pointer"),Xt=q==null?B:Pn(q),z=yt==null?B:Pn(yt),B=new dt(G,D+"leave",q,r,H),B.target=Xt,B.relatedTarget=z,G=null,oi(H)===P&&(dt=new dt(x,D+"enter",yt,r,H),dt.target=z,dt.relatedTarget=Xt,G=dt),Xt=G,q&&yt)e:{for(dt=q,x=yt,D=0,z=dt;z;z=is(z))D++;for(z=0,G=x;G;G=is(G))z++;for(;0<D-z;)dt=is(dt),D--;for(;0<z-D;)x=is(x),z--;for(;D--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=is(dt),x=is(x)}dt=null}else dt=null;q!==null&&bp(Y,B,q,dt,!1),yt!==null&&Xt!==null&&bp(Y,Xt,yt,dt,!0)}}t:{if(B=P?Pn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Hd;else if(Ee(B))if(Gd)at=nE;else{at=tE;var wt=Wv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ks(P.elementType)&&(at=Hd):at=eE;if(at&&(at=at(t,P))){_i(Y,at,r,H);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ki(B,"number",B.value)}switch(wt=P?Pn(P):window,t){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(Ma=wt,Uc=P,Js=null);break;case"focusout":Js=Uc=Ma=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,$d(Y,r,H);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":$d(Y,r,H)}var lt;if(Qn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Nt?k(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(g&&r.locale!=="ko"&&(Nt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Nt&&(lt=Hs()):(kn=H,ji="value"in kn?kn.value:kn.textContent,Nt=!0)),wt=go(P,mt),0<wt.length&&(mt=new Ys(mt,t,null,r,H),Y.push({event:mt,listeners:wt}),lt?mt.data=lt:(lt=W(r),lt!==null&&(mt.data=lt)))),(lt=m?ve(t,r):Ot(t,r))&&(mt=go(P,"onBeforeInput"),0<mt.length&&(wt=new Ys("onBeforeInput","beforeinput",null,r,H),Y.push({event:wt,listeners:mt}),wt.data=lt)),qE(Y,t,P,r,H)}Ap(Y,n)})}function Rl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function go(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(Rl(t,c,f)),c=qr(t,n),c!=null&&l.push(Rl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=qr(r,f),P!=null&&y.unshift(Rl(r,P,b))):c||(P=qr(r,f),P!=null&&y.push(Rl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var GE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function Rp(t){return(typeof t=="string"?t:""+t).replace(GE,`
`).replace(QE,"")}function wp(t,n){return n=Rp(n),Rp(t)===n}function po(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=po);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Dc.get(r)||r,qi(t,r,l))}}function sf(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):qi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}zr(t,f,E,b,P,y,c,!1),Sa(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Pr(t,l,c,f),Sa(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Dt(bl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(ks(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&sf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function YE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,H=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Ft(t,n,B,q,l,Y)}}an(t,y,E,b,P,H,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?fi(t,!!r,B,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,B,q);return;case"option":for(var yt in r)if(B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Ft(t,n,yt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)B=r[dt],r.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt)&&Ft(t,n,dt,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,q)}return;default:if(ks(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&sf(t,n,Xt,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||sf(t,n,H,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,B);for(Y in l)B=l[Y],q=r[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Ft(t,n,Y,B,l,q)}var lf=null,uf=null;function yo(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function FE(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,XE=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(ZE)}:Vp;function ZE(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function Np(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&wl(y.documentElement),r&2&&wl(y.body),r&4)for(r=y.head,wl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Mr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),xl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);xl(n)}function hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hf(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function JE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function $E(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function WE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var df=null;function Op(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Mp(t,n,r){switch(n=yo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var wn=new Map,xp=new Set;function _o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=tt.d;tt.d={f:t0,r:e0,D:n0,C:i0,L:r0,m:a0,X:l0,S:s0,M:u0};function t0(){var t=Ni.f(),n=uo();return t||n}function e0(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):Ni.r(t)}var rs=typeof document>"u"?null:document;function Up(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),xp.has(c)||(xp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function n0(t){Ni.D(t),Up("dns-prefetch",t,null)}function i0(t,n){Ni.C(t,n),Up("preconnect",t,n)}function r0(t,n,r){Ni.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Dl(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function a0(t,n){Ni.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Dl(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function s0(t,n,r){Ni.S(t,n,r);var l=rs;if(l&&t){var c=Xe(l).hoistableStyles,f=as(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&mf(t,r);var b=y=l.createElement("link");ue(b),Pe(b,"link",t),b._p=new Promise(function(P,H){b.onload=P,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function l0(t,n){Ni.X(t,n);var r=rs;if(r&&t){var l=Xe(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Dl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&gf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function u0(t,n){Ni.M(t,n);var r=rs;if(r&&t){var l=Xe(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Dl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&gf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Lp(t,n,r,l){var c=(c=vt.current)?_o(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||o0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+de(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function zp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function o0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function ss(t){return'[src="'+de(t)+'"]'}function Dl(t){return"script[async]"+t}function Pp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),vo(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=zp(r),(c=wn.get(c))&&mf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,vo(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(Dl(f)))?(n.instance=c,ue(c),c):(l=r,(c=wn.get(f))&&(l=A({},r),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vo(l,r.precedence,t));return n.instance}function vo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eo=null;function Bp(t,n,r){if(Eo===null){var l=new Map,c=Eo=new Map;c.set(r,l)}else c=Eo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function c0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function h0(){}function f0(t,n,r){if(Vl===null)throw Error(a(475));var l=Vl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=as(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=To.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=zp(r),(c=wn.get(c))&&mf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=To.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function d0(){if(Vl===null)throw Error(a(475));var t=Vl;return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function To(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,n.forEach(m0,t),Ao=null,To.call(t))}function m0(t,n){if(!(n.state.loading&4)){var r=Ao.get(t);if(r)var l=r.get(null);else{r=new Map,Ao.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=To.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function g0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function jp(t,n,r,l,c,f,y,E,b,P,H,Y){return t=new g0(t,n,r,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},th(f),t}function Hp(t){return t?(t=za,t):za}function Gp(t,n,r,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(fn(r,t,n),sl(r,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function yf(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Yp(t){if(t.tag===13){var n=La(t,67108864);n!==null&&fn(n,t,67108864),yf(t,67108864)}}var So=!0;function p0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,_f(t,n,r,l)}finally{tt.p=f,j.T=c}}function y0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,_f(t,n,r,l)}finally{tt.p=f,j.T=c}}function _f(t,n,r,l){if(So){var c=vf(l);if(c===null)af(t,n,l,bo,r),Xp(t,l);else if(v0(c,t,n,r,l))l.stopPropagation();else if(Xp(t,l),n&4&&-1<_0.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Jn(f),(Ht&6)===0&&(so=mn()+500,Sl(0))}}break;case 13:E=La(f,2),E!==null&&fn(E,f,2),uo(),yf(f,2)}if(f=vf(l),f===null&&af(t,n,l,bo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,r)}}function vf(t){return t=yn(t),Ef(t)}var bo=null;function Ef(t){if(bo=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bo=t,null}function Fp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ac()){case Ds:return 2;case ga:return 8;case Dr:case Sc:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Tf=!1,ar=null,sr=null,lr=null,Nl=new Map,Ol=new Map,ur=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Yp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function v0(t,n,r,l,c){switch(n){case"focusin":return ar=Ml(ar,t,n,r,l,c),!0;case"dragenter":return sr=Ml(sr,t,n,r,l,c),!0;case"mouseover":return lr=Ml(lr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,Ml(Nl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Kp(t){var n=oi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,uu(t.priority,function(){if(r.tag===13){var l=hn();l=Li(l);var c=La(r,l);c!==null&&fn(c,r,l),yf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=zn(r),n!==null&&Yp(n),t.blockedOn=r,!1;n.shift()}return!0}function Zp(t,n,r){Ro(t)&&r.delete(n)}function E0(){Tf=!1,ar!==null&&Ro(ar)&&(ar=null),sr!==null&&Ro(sr)&&(sr=null),lr!==null&&Ro(lr)&&(lr=null),Nl.forEach(Zp),Ol.forEach(Zp)}function wo(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,E0)))}var Co=null;function Jp(t){Co!==t&&(Co=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Co===t&&(Co=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function xl(t){function n(b){return wo(b,t)}ar!==null&&wo(ar,t),sr!==null&&wo(sr,t),lr!==null&&wo(lr,t),Nl.forEach(n),Ol.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Kp(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||Jp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(Ef(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Jp(r)}}}function Af(t){this._internalRoot=t}Do.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();Gp(r,l,t,n,null,null)},Do.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),uo(),n[gn]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&Kp(t)}};var $p=e.version;if($p!=="19.1.1")throw Error(a(527,$p,"19.1.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var T0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{ae=Vo.inject(T0),jt=Vo}catch{}}return Ll.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=mg,f=gg,y=pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=jp(t,1,!1,null,null,r,l,c,f,y,E,null),t[gn]=n.current,rf(t),new Af(n)},Ll.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=mg,y=gg,E=pg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=jp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Hp(null),r=n.current,l=hn(),l=Li(l),c=Qi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Jn(n),t[gn]=n.current,rf(t),new Do(n)},Ll.version="19.1.1",Ll}var uy;function N0(){if(uy)return Rf.exports;uy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rf.exports=I0(),Rf.exports}var O0=N0();const M0=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},x0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,O=(h&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(V=64)),a.push(i[A],i[O],i[V],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(p_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):x0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const O=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||O==null)throw new U0;const V=h<<2|p>>4;if(a.push(V),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),O!==64){const Z=_<<6&192|O;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class U0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L0=function(s){const e=p_(s);return y_.encodeByteArray(e,!0)},Ho=function(s){return L0(s).replace(/\./g,"")},z0=function(s){try{return y_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=()=>P0().__FIREBASE_DEFAULTS__,q0=()=>{if(typeof process>"u"||typeof oy>"u")return;const s=oy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},k0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&z0(s[1]);return e&&JSON.parse(e)},od=()=>{try{return M0()||B0()||q0()||k0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},j0=s=>od()?.emulatorHosts?.[s],H0=s=>{const e=j0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},__=()=>od()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ho(JSON.stringify(i)),Ho(JSON.stringify(d)),""].join(".")}const ql={};function F0(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function X0(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let cy=!1;function K0(s,e){if(typeof window>"u"||typeof document>"u"||!cd(window.location.host)||ql[s]===e||ql[s]||cy)return;ql[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=F0().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{cy=!0,d()},V}function A(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function O(){const V=X0(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),_t=i("preprendIcon"),gt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ot=V.element;p(ot),A(J,nt);const zt=_();v(gt,_t),ot.append(gt,Z,J,zt),document.body.appendChild(ot)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J0(){const s=od()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $0(){return!J0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W0(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=eT,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v_.prototype.create)}}class v_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?nT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new As(u,p,a)}}function nT(s,e){return s.replace(iT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const iT=/\{\$([^}]+)}/g;function Go(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(hy(h)&&hy(d)){if(!Go(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function hy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(s){return s&&s._delegate?s._delegate:s}class Ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new G0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sT(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(a)??new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aT(s){return s===ua?void 0:s}function sT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const uT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},oT=Ut.INFO,cT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},hT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=cT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=oT,this._logHandler=hT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const fT=(s,e)=>e.some(i=>s instanceof i);let fy,dy;function dT(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mT(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Bf=new WeakMap,A_=new WeakMap,Vf=new WeakMap,hd=new WeakMap;function gT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(hr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&T_.set(i,s)}).catch(()=>{}),hd.set(e,s),e}function pT(s){if(Bf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bf.set(s,e)}let qf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Bf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||A_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function yT(s){qf=s(qf)}function _T(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(If(this),e,...i);return A_.set(a,e.sort?e.sort():[e]),hr(a)}:mT().includes(s)?function(...e){return s.apply(If(this),e),hr(T_.get(this))}:function(...e){return hr(s.apply(If(this),e))}}function vT(s){return typeof s=="function"?_T(s):(s instanceof IDBTransaction&&pT(s),fT(s,dT())?new Proxy(s,qf):s)}function hr(s){if(s instanceof IDBRequest)return gT(s);if(Vf.has(s))return Vf.get(s);const e=vT(s);return e!==s&&(Vf.set(s,e),hd.set(e,s)),e}const If=s=>hd.get(s);function ET(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=hr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(hr(d.result),v.oldVersion,v.newVersion,hr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const TT=["get","getKey","getAll","getAllKeys","count"],AT=["put","add","delete","clear"],Nf=new Map;function my(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=AT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||TT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return Nf.set(e,h),h}yT(s=>({...s,get:(e,i,a)=>my(e,i)||s.get(e,i,a),has:(e,i)=>!!my(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bT(s){return s.getComponent()?.type==="VERSION"}const kf="@firebase/app",gy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new E_("@firebase/app"),RT="@firebase/app-compat",wT="@firebase/analytics-compat",CT="@firebase/analytics",DT="@firebase/app-check-compat",VT="@firebase/app-check",IT="@firebase/auth",NT="@firebase/auth-compat",OT="@firebase/database",MT="@firebase/data-connect",xT="@firebase/database-compat",UT="@firebase/functions",LT="@firebase/functions-compat",zT="@firebase/installations",PT="@firebase/installations-compat",BT="@firebase/messaging",qT="@firebase/messaging-compat",kT="@firebase/performance",jT="@firebase/performance-compat",HT="@firebase/remote-config",GT="@firebase/remote-config-compat",QT="@firebase/storage",YT="@firebase/storage-compat",FT="@firebase/firestore",XT="@firebase/ai",KT="@firebase/firestore-compat",ZT="firebase",JT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",$T={[kf]:"fire-core",[RT]:"fire-core-compat",[CT]:"fire-analytics",[wT]:"fire-analytics-compat",[VT]:"fire-app-check",[DT]:"fire-app-check-compat",[IT]:"fire-auth",[NT]:"fire-auth-compat",[OT]:"fire-rtdb",[MT]:"fire-data-connect",[xT]:"fire-rtdb-compat",[UT]:"fire-fn",[LT]:"fire-fn-compat",[zT]:"fire-iid",[PT]:"fire-iid-compat",[BT]:"fire-fcm",[qT]:"fire-fcm-compat",[kT]:"fire-perf",[jT]:"fire-perf-compat",[HT]:"fire-rc",[GT]:"fire-rc-compat",[QT]:"fire-gcs",[YT]:"fire-gcs-compat",[FT]:"fire-fst",[KT]:"fire-fst-compat",[XT]:"fire-vertex","fire-js":"fire-js",[ZT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,WT=new Map,Hf=new Map;function py(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Yo(s){const e=s.name;if(Hf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,s);for(const i of Qo.values())py(i,s);for(const i of WT.values())py(i,s);return!0}function t1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function e1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new v_("app","Firebase",n1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=JT;function S_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:jf,automaticDataCollectionEnabled:!0,...e},u=a.name;if(typeof u!="string"||!u)throw fr.create("bad-app-name",{appName:String(u)});if(i||(i=__()),!i)throw fr.create("no-options");const h=Qo.get(u);if(h){if(Go(i,h.options)&&Go(a,h.config))return h;throw fr.create("duplicate-app",{appName:u})}const d=new lT(u);for(const v of Hf.values())d.addComponent(v);const p=new i1(i,a,d);return Qo.set(u,p),p}function a1(s=jf){const e=Qo.get(s);if(!e&&s===jf&&__())return S_();if(!e)throw fr.create("no-app",{appName:s});return e}function fs(s,e,i){let a=$T[s]??s;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(d.join(" "));return}Yo(new Ql(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebase-heartbeat-database",l1=1,Yl="firebase-heartbeat-store";let Of=null;function b_(){return Of||(Of=ET(s1,l1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Of}async function u1(s){try{const i=(await b_()).transaction(Yl),a=await i.objectStore(Yl).get(R_(s));return await i.done,a}catch(e){if(e instanceof As)Oi.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(i.message)}}}async function yy(s,e){try{const a=(await b_()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,R_(s)),await a.done}catch(i){if(i instanceof As)Oi.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});Oi.warn(a.message)}}}function R_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=1024,c1=30;class h1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new d1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_y();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>c1){const u=m1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_y(),{heartbeatsToSend:i,unsentEntries:a}=f1(this._heartbeatsCache.heartbeats),u=Ho(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Oi.warn(e),""}}}function _y(){return new Date().toISOString().substring(0,10)}function f1(s,e=o1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),vy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),vy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class d1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W0()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await u1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function vy(s){return Ho(JSON.stringify({version:2,heartbeats:s})).length}function m1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(s){Yo(new Ql("platform-logger",e=>new ST(e),"PRIVATE")),Yo(new Ql("heartbeat",e=>new h1(e),"PRIVATE")),fs(kf,gy,s),fs(kf,gy,"esm2020"),fs("fire-js","")}g1("");var p1="firebase",y1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(p1,y1,"app");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,w_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function w(){}w.prototype=S.prototype,I.D=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(N,M,U){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[M].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(I,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],M=I.g[2];var U=I.g[3],R=S+(U^w&(M^U))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var w=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(N[M++]=I.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<S;)if(N[M++]=I[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var w=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=w&255,w/=256;for(this.u(I),I=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)I[w++]=this.g[S]>>>N&255;return I};function h(I,S){var w=p;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function d(I,S){this.h=S;for(var w=[],N=!0,M=I.length-1;0<=M;M--){var U=I[M]|0;N&&U==S||(w[M]=U,N=!1)}this.g=w}var p={};function v(I){return-128<=I&&128>I?h(I,function(S){return new d([S|0],0>S?-1:0)}):new d([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return O;if(0>I)return J(_(-I));for(var S=[],w=1,N=0;I>=w;N++)S[N]=I/w|0,w*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return J(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=O,M=0;M<I.length;M+=8){var U=Math.min(8,I.length-M),R=parseInt(I.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var O=v(0),V=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();for(var I=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);I+=(0<=N?N:4294967296+N)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(I);for(var S=_(Math.pow(I,6)),w=this,N="";;){var M=zt(w,S).g;w=_t(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=M,Z(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function nt(I){return I.h==-1}s.l=function(I){return I=_t(this,I),nt(I)?-1:Z(I)?0:1};function J(I){for(var S=I.g.length,w=[],N=0;N<S;N++)w[N]=~I.g[N];return new d(w,~I.h).add(V)}s.abs=function(){return nt(this)?J(this):this},s.add=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(I.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);N=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function _t(I,S){return I.add(J(S))}s.j=function(I){if(Z(this)||Z(I))return O;if(nt(this))return nt(I)?J(this).j(J(I)):J(J(this).j(I));if(nt(I))return J(this.j(J(I)));if(0>this.l(Q)&&0>I.l(Q))return _(this.m()*I.m());for(var S=this.g.length+I.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<I.g.length;M++){var U=this.i(N)>>>16,R=this.i(N)&65535,Me=I.i(M)>>>16,re=I.i(M)&65535;w[2*N+2*M]+=R*re,gt(w,2*N+2*M),w[2*N+2*M+1]+=U*re,gt(w,2*N+2*M+1),w[2*N+2*M+1]+=R*Me,gt(w,2*N+2*M+1),w[2*N+2*M+2]+=U*Me,gt(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function gt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ot(I,S){this.g=I,this.h=S}function zt(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new ot(O,O);if(nt(I))return S=zt(J(I),S),new ot(J(S.g),J(S.h));if(nt(S))return S=zt(I,J(S)),new ot(J(S.g),S.h);if(30<I.g.length){if(nt(I)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=V,N=S;0>=N.l(I);)w=Et(w),N=Et(N);var M=rt(w,1),U=rt(N,1);for(N=rt(N,2),w=rt(w,2);!Z(N);){var R=U.add(N);0>=R.l(I)&&(M=M.add(w),U=R),N=rt(N,1),w=rt(w,1)}return S=_t(I,M.j(S)),new ot(M,S)}for(M=O;0<=I.l(S);){for(w=Math.max(1,Math.floor(I.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(w),R=U.j(S);nt(R)||0<R.l(I);)w-=N,U=_(w),R=U.j(S);Z(U)&&(U=V),M=M.add(U),I=_t(I,R)}return new ot(M,I)}s.A=function(I){return zt(this,I).h},s.and=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&I.i(N);return new d(w,this.h&I.h)},s.or=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|I.i(N);return new d(w,this.h|I.h)},s.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^I.i(N);return new d(w,this.h^I.h)};function Et(I){for(var S=I.g.length+1,w=[],N=0;N<S;N++)w[N]=I.i(N)<<1|I.i(N-1)>>>31;return new d(w,I.h)}function rt(I,S){var w=S>>5;S%=32;for(var N=I.g.length-w,M=[],U=0;U<N;U++)M[U]=0<S?I.i(U+w)>>>S|I.i(U+w+1)<<32-S:I.i(U+w);return new d(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,w_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,dr=d}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C_,zl,D_,zo,Gf,V_,I_,N_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Io=="object"&&Io];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function O(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function V(o,m,g){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,V.apply(null,arguments)}function Q(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let W=0;W<k;W++)o[L+W]=T[W]}else o.push(T)}}class _t{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ot(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function zt(o){return zt[" "](o),o}zt[" "]=function(){};var Et=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function rt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function I(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,g){const T=re.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new _t(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ut=!1,Pt=new Me,C=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=re;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function Rt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Et){t:{try{zt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,$);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Un(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ui(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function si(o){this.src=o,this.g={},this.h=0}si.prototype.add=function(o,m,g,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=wr(o,m,T,L);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Un(m,this.src,k,!!T,L),m.fa=g,o.push(m)),m};function Rr(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Ui(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function wr(o,m,g,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return L}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),Cs={};function au(o,m,g,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)au(o,m[k],g,T,L);return null}return g=su(g),o&&o[Re]?o.K(m,g,_(T)?!!T.capture:!1,L):mn(o,m,g,!1,T,L)}function mn(o,m,g,T,L,k){if(!m)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,Nt=pa(o);if(Nt||(o[Cr]=Nt=new si(o)),g=Nt.add(m,g,T,W,k),g.proxy)return g;if(T=Ac(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ct||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Dr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ac(){function o(g){return m.call(o.src,o.listener,g)}const m=Sc;return o}function Ds(o,m,g,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ds(o,m[k],g,T,L);else T=_(T)?!!T.capture:!!T,g=su(g),o&&o[Re]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=wr(k,g,T,L),-1<g&&(Ui(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=pa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wr(m,g,T,L)),(g=-1<o?m[o]:null)&&ga(g))}function ga(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])Rr(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Dr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=pa(m))?(Rr(g,o),g.h==0&&(g.src=null,m[Cr]=null)):Ui(o)}}}function Dr(o){return o in Cs?Cs[o]:Cs[o]="on"+o}function Sc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&ga(o),o=g.call(T,m)}return o}function pa(o){return o=o[Cr],o instanceof si?o:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(o){return typeof o=="function"?o:(o[Vs]||(o[Vs]=function(m){return o.handleEvent(m)}),o[Vs])}function ae(){et.call(this),this.i=new si(this),this.M=this,this.F=null}Z(ae,et),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(o,m,g,T){Ds(this,o,m,g,T)};function jt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var L=m;m=new $(T,o),N(m,L)}if(L=!0,g)for(var k=g.length-1;0<=k;k--){var W=m.g=g[k];L=rn(W,T,!0,m)&&L}if(W=m.g=o,L=rn(W,T,!0,m)&&L,L=rn(W,T,!1,m)&&L,g)for(k=0;k<g.length;k++)W=m.g=g[k],L=rn(W,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ui(g[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ae.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function rn(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==g){var Nt=W.listener,ve=W.ha||W.src;W.fa&&Rr(o.i,W),L=Nt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(o,m,g){if(typeof o=="function")g&&(o=V(o,g));else if(o&&typeof o.handleEvent=="function")o=V(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function lu(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,lu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class bc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){et.call(this),this.h=o,this.g={}}Z(Vr,et);var Ir=[];function Nr(o){rt(o.g,function(m,g){this.g.hasOwnProperty(g)&&ga(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Nr(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,ya=p.JSON.parse,Or=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Is(){}Is.prototype.h=null;function Ns(o){return o.h||(o.h=o.i())}function Os(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){$.call(this,"d")}Z(ui,$);function Ms(){$.call(this,"c")}Z(Ms,$);var Ln={},xs=null;function Li(){return xs=xs||new ae}Ln.La="serverreachability";function _a(o){$.call(this,Ln.La,o)}Z(_a,$);function zi(o){const m=Li();jt(m,new _a(m))}Ln.STAT_EVENT="statevent";function uu(o,m){$.call(this,Ln.STAT_EVENT,o),this.stat=m}Z(uu,$);function te(o){const m=Li();jt(m,new uu(m,o))}Ln.Ma="timingevent";function _e(o,m){$.call(this,Ln.Ma,o),this.size=m}Z(_e,$);function fe(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Us(o,m,g,T,L,k){o.info(function(){if(o.g)if(k)for(var W="",Nt=k.split("&"),ve=0;ve<Nt.length;ve++){var Ot=Nt[ve].split("=");if(1<Ot.length){var Ce=Ot[0];Ot=Ot[1];var Ee=Ce.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(Ce+"="+Ot+"&"):W+(Ce+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+W})}function Rc(o,m,g,T,L,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+k+" "+W})}function Pi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(o,g)+(T?" "+T:"")})}function ou(o,m){o.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Mr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Dn(g)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Pn(){}Z(Pn,Is),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},zn=new Pn;function Xe(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ls={},va={};function Vn(o,m,g){o.L=1,o.v=Pr(an(m)),o.m=g,o.P=!0,ci(o,null)}function ci(o,m){o.F=Date.now(),xr(o),o.A=an(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),js(g.i,"t",T),o.C=0,g=o.j.J,o.h=new ue,o.g=Ru(o.j,g?m:null,!o.m),0<o.O&&(o.M=new bc(V(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ir[0]=L.toString()),L=Ir);for(var k=0;k<L.length;k++){var W=au(g,L[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),zi(),Us(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=_i?zi(3):zi(2)),qi(this);var g=this.g.Z();this.X=g;e:if(cu(this)){var T=yu(this.g);o="";var L=T.length,k=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Bn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,Rc(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Nt)){var Ot=Nt;break e}}Ot=null}if(g=Ot)Pi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,g);else{this.o=!1,this.s=3,te(12),xe(this),Bn(this);break t}}if(this.P){g=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=hu(this,W),Ue==va){Ee==4&&(this.s=4,te(14),g=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ls){this.s=4,te(15),Pi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Pi(this.i,this.l,Ue,null),Ur(this,Ue);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,te(16),g=!1),this.o=this.o&&g,!g)Pi(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yr(Ce),Ce.M=!0,te(11))}}else Pi(this.i,this.l,W,null),Ur(this,W);Ee==4&&xe(this),this.o&&!this.J&&(Ee==4?Au(this.j,this):(this.o=!1,xr(this)))}else Ic(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),Bn(this)}}}catch{}finally{}};function cu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function hu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?va:(g=Number(m.substring(g,T)),isNaN(g)?Ls:(T+=1,T+g>m.length?va:(m=m.slice(T,T+g),o.C=T+g,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function xr(o){o.S=Date.now()+o.I,fu(o,o.I)}function fu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=fe(V(o.ba,o),m)}function qi(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ou(this.i,this.A),this.L!=2&&(zi(),te(17)),xe(this),this.s=2,Bn(this)):fu(this,this.S-o)};function Bn(o){o.j.G==0||o.J||Au(o.j,o)}function xe(o){qi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Nr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ur(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||zs(g.h,o))){if(!o.K&&zs(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Na(g),Va(g);else break t;Fs(g),te(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(V(g.Za,g),6e3));if(1>=Ta(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else yi(g,11)}else if((o.K||g.g==o)&&Na(g),!gt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(g.T=Ot[0],Ot=Ot[1],g.G==2)if(Ot[0]=="c"){g.K=Ot[1],g.ia=Ot[2];const Ce=Ot[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const Ee=Ot[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const _i=Ot[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ue=o.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var k=T.h;k.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Aa(k,k.h),k.h=null))}if(T.D){const Ks=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(T.ya=Ks,Qt(T.I,T.D,Ks))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=bu(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Nt=W,ve=T.L;ve&&(Nt.I=ve),Nt.B&&(qi(Nt),xr(Nt)),T.g=W}else Eu(T);0<g.i.length&&Ia(g)}else Ot[0]!="stop"&&Ot[0]!="close"||yi(g,7);else g.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?yi(g,7):Qs(g):Ot[0]!="noop"&&g.l&&g.l.ta(Ot),g.v=0)}}zi(4)}catch{}}var du=class{constructor(o,m){this.g=o,this.map=m}};function hi(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ta(o){return o.h?1:o.g?o.g.size:0}function zs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Aa(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}hi.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ps(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function wc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function Sa(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Bs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=Sa(o),T=wc(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],g&&g[k],o)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var k=o[g].substring(0,T);L=o[g].substring(T+1)}else k=o[g];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof de){this.h=o.h,zr(this,o.j),this.o=o.o,this.g=o.g,ki(this,o.s),this.l=o.l;var m=o.i,g=new di;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),fi(this,g),this.m=o.m}else o&&(m=String(o).match(Lr))?(this.h=!1,zr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),ki(this,m[4]),this.l=pn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}de.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Br(m,qs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Br(m,qs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Br(g,g.charAt(0)=="/"?Dc:ks,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Br(g,ba)),o.join("")};function an(o){return new de(o)}function zr(o,m,g){o.j=g?pn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ki(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function fi(o,m,g){m instanceof di?(o.i=m,gu(o.i,o.h)):(g||(m=Br(m,Vc)),o.i=new di(m,o.h))}function Qt(o,m,g){o.i.set(m,g)}function Pr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Br(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,mu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,ks=/[#\?:]/g,Dc=/[#\?]/g,Vc=/[#\?@]/g,ba=/#/g;function di(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Cc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=di.prototype,s.add=function(o,m){yn(this),this.i=null,o=qn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function mi(o,m){yn(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function gi(o,m){return yn(o),m=qn(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)g.push(m[T])}return g},s.V=function(o){yn(this);let m=[];if(typeof o=="string")gi(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return yn(this),this.i=null,o=qn(this,o),gi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function js(o,m,g){mi(o,m),0<g.length&&(o.i=null,o.g.set(qn(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=k;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function gu(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(mi(this,T),js(this,L,g))},o)),o.j=m}function qr(o,m){const g=new gn;if(p.Image){const T=new Image;T.onload=Q(_n,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(_n,g,"TestLoadImage: error",!1,m,T),T.onabort=Q(_n,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(_n,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function In(o,m){const g=new gn,T=new AbortController,L=setTimeout(()=>{T.abort(),_n(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?_n(g,"TestPingServer: ok",!0,m):_n(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(g,"TestPingServer: error",!1,m)})}function _n(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function kr(){this.g=new Or}function kn(o,m,g){const T=g||"";try{Bs(o,function(L,k){let W=L;_(L)&&(W=Dn(L)),m.push(T+k+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ji(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(ji,Is),ji.prototype.g=function(){return new pi(this.l,this.j)},ji.prototype.i=function(o){return function(){return o}}({});function pi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(pi,ae),s=pi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Hn(this),this.readyState==3&&Hs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Gs(o){let m="";return rt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function we(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Gs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Qt(o,m,g))}function qt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,ae);var Ra=/^https?$/i,jr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ns(this.o):Ns(zn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){pu(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(jr,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of g)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){pu(this,k)}};function pu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wa(o),Gn(o)}function wa(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},s.bb=function(){Ca(this)};function Ca(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)je(o.Ea,0,o);else if(jt(o,"readystatechange"),vn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var L=String(o.D).match(Lr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Ra.test(L?L.toLowerCase():"")}g=T}if(g)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var k=2<vn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",wa(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){Hr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ya(m)}};function yu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var g=M(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[L]||[];m[L]=k,k.push(g)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Da(o){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(o&&o.concurrentRequestLimit),this.Da=new kr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Da.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){te(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=bu(this,null,this.W),Ia(this)};function Qs(o){if(_u(o),o.G==3){var m=o.U++,g=an(o.I);if(Qt(g,"SID",o.K),Qt(g,"RID",m),Qt(g,"TYPE","terminate"),Qr(o,g),m=new Xe(o,o.j,m),m.L=2,m.v=Pr(an(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xr(m)}Su(o)}function Va(o){o.g&&(Yr(o),o.g.cancel(),o.g=null)}function _u(o){Va(o),o.u&&(p.clearTimeout(o.u),o.u=null),Na(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ia(o){if(!Ea(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),ut||(tt(),ut=!0),Pt.add(m,o),o.B=0}}function Nc(o,m){return Ta(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=fe(V(o.Ga,o,m),Xs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Xe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),N(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=vu(this,L,m),g=an(this.I),Qt(g,"RID",o),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),Qr(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(Gs(k)))+"&"+m:this.m&&we(g,this.m,k)),Aa(this.h,L),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",m),Qt(g,"SID","null"),L.T=!0,Vn(L,g,null)):Vn(L,g,m),this.G=2}}else this.G==3&&(o?Ys(this,o):this.i.length==0||Ea(this.h)||Ys(this))};function Ys(o,m){var g;m?g=m.l:g=o.U++;const T=an(o.I);Qt(T,"SID",o.K),Qt(T,"RID",g),Qt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&we(T,o.m,o.o),g=new Xe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=vu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Aa(o.h,g),Vn(g,T,m)}function Qr(o,m){o.H&&rt(o.H,function(g,T){Qt(m,T,g)}),o.l&&Bs({},function(g,T){Qt(m,T,g)})}function vu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?V(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const W=["count="+g];k==-1?0<g?(k=L[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Nt=!0;for(let ve=0;ve<g;ve++){let Ot=L[ve].g;const Ce=L[ve].map;if(Ot-=k,0>Ot)k=Math.max(0,L[ve].g-100),Nt=!1;else try{kn(Ce,W,"req"+Ot+"_")}catch{T&&T(Ce)}}if(Nt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function Eu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),ut||(tt(),ut=!0),Pt.add(m,o),o.v=0}}function Fs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=fe(V(o.Fa,o),Xs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=fe(V(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Va(this),Tu(this))};function Yr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function Tu(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=an(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Pr(an(m)),g.m=null,g.P=!0,ci(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Va(this),Fs(this),te(19))};function Na(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function Au(o,m){var g=null;if(o.g==m){Na(o),Yr(o),o.g=null;var T=2}else if(zs(o.h,m))g=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Li(),jt(T,new _e(T,g)),Ia(o)}else Eu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Nc(o,m)||T==2&&Fs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:yi(o,5);break;case 4:yi(o,10);break;case 3:yi(o,6);break;default:yi(o,2)}}}function Xs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function yi(o,m){if(o.j.info("Error code "+m),m==2){var g=V(o.fb,o),T=o.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||zr(T,"https"),Pr(T),L?qr(T.toString(),g):In(T.toString(),g)}else te(2);o.G=0,o.l&&o.l.sa(m),Su(o),_u(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Su(o){if(o.G=0,o.ka=[],o.l){const m=Ps(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function bu(o,m,g){var T=g instanceof de?an(g):new de(g);if(T.g!="")m&&(T.g=m+"."+T.g),ki(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new de(null);T&&zr(k,T),m&&(k.g=m),L&&ki(k,L),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Qt(T,g,m),Qt(T,"VER",o.la),Qr(o,T),T}function Ru(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new ji({eb:g})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Oa(){}Oa.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ae.call(this),this.g=new Da(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}Z(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Qs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Dn(o),o=g);m.i.push(new du(m.Ya++,o)),m.G==3&&Ia(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Ze.aa.N.call(this)};function Cu(o){ui.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Cu,ui);function Du(){Ms.call(this),this.status=1}Z(Du,Ms);function Qn(o){this.g=o}Z(Qn,wu),Qn.prototype.ua=function(){jt(this.g,"a")},Qn.prototype.ta=function(o){jt(this.g,new Cu(o))},Qn.prototype.sa=function(o){jt(this.g,new Du)},Qn.prototype.ra=function(){jt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,N_=function(){return new Oa},I_=function(){return Li()},V_=Ln,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,zo=Bi,oi.COMPLETE="complete",D_=oi,Os.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",ae.prototype.listen=ae.prototype.K,zl=Os,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,C_=qt}).apply(typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{});const Ty="@firebase/firestore",Ay="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new E_("@firebase/firestore");function us(){return ca.logLevel}function it(s,...e){if(ca.logLevel<=Ut.DEBUG){const i=e.map(fd);ca.debug(`Firestore (${Ss}): ${s}`,...i)}}function Mi(s,...e){if(ca.logLevel<=Ut.ERROR){const i=e.map(fd);ca.error(`Firestore (${Ss}): ${s}`,...i)}}function ps(s,...e){if(ca.logLevel<=Ut.WARN){const i=e.map(fd);ca.warn(`Firestore (${Ss}): ${s}`,...i)}}function fd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,O_(s,a,i)}function O_(s,e,i){let a=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Mi(a),new Error(a)}function kt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||O_(e,u,a)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class v1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class E1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new mr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new mr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new M_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class T1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new T1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,e1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=b1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Vt(s,e){return s<e?-1:s>e?1:0}function Qf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const u=s.charAt(a),h=e.charAt(a);if(u!==h)return Mf(u)===Mf(h)?Vt(u,h):Mf(u)?1:-1}return Vt(s.length,e.length)}const R1=55296,w1=57343;function Mf(s){const e=s.charCodeAt(0);return e>=R1&&e<=w1}function ys(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class $t extends Wn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const C1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Wn{construct(e,i,a){return new qe(e,i,a)}static isValidIdentifier(e){return C1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===by}static keyField(){return new qe([by])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht($t.fromString(e))}static fromName(e){return new ht($t.fromString(e).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(s,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function D1(s,e,i,a){if(e===!0&&a===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ry(s){if(!ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wy(s){if(ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function U_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function md(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function ha(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=md(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!U_(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-62135596800,Dy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Dy);return new Wt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Cy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:ye("string",Wt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Wt(0,0))}static max(){return new Tt(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function V1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(a===1e9?new Wt(i+1,0):new Wt(i,a));return new yr(u,ht.empty(),e)}function I1(s){return new yr(s.readTime,s.key,Fl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Tt.min(),ht.empty(),Fl)}static max(){return new yr(Tt.max(),ht.empty(),Fl)}}function N1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==O1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function x1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ac.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function sc(s){return s==null}function Fo(s){return s===0&&1/s==-1/0}function U1(s){return typeof s=="number"&&Number.isInteger(s)&&!Fo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="";function L1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Vy(e)),e=z1(s.get(i),e);return Vy(e)}function z1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case L_:i+="";break;default:i+=h}}return i}function Vy(s){return s+L_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function z_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ny(this.data.getIterator())}getIteratorFrom(e){return new Ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new dn([])}unionWith(e){let i=new be(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new P_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const P1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=P1.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="server_timestamp",q_="__type__",k_="__previous_value__",j_="__local_write_time__";function pd(s){return(s?.mapValue?.fields||{})[q_]?.stringValue===B_}function lc(s){const e=s.mapValue.fields[k_];return pd(e)?lc(e):e}function Xl(s){const e=_r(s.mapValue.fields[j_].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,i,a,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Xo="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||Xo}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Xo}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",q1="__max__",Oo={mapValue:{}},G_="__vector__",Ko="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?pd(s)?4:j1(s)?9007199254740991:k1(s)?10:11:pt(28295,{value:s})}function ri(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=_r(u.timestampValue),p=_r(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return vr(u.bytesValue).isEqual(vr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),p=he(h.doubleValue);return d===p?Fo(d)===Fo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return ys(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Iy(d)!==Iy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ri(d[v],p[v])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find(i=>ri(i,e))!==void 0}function _s(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return Oy(s.timestampValue,e.timestampValue);case 4:return Oy(Xl(s),Xl(e));case 5:return Qf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=vr(h),v=vr(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Vt(p[_],v[_]);if(A!==0)return A}return Vt(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Vt(he(h.latitude),he(d.latitude));return p!==0?p:Vt(he(h.longitude),he(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return My(s.arrayValue,e.arrayValue);case 10:return function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Ko]?.arrayValue,A=v[Ko]?.arrayValue,O=Vt(_?.values?.length||0,A?.values?.length||0);return O!==0?O:My(_,A)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Oo.mapValue&&d===Oo.mapValue)return 0;if(h===Oo.mapValue)return 1;if(d===Oo.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const V=Qf(v[O],A[O]);if(V!==0)return V;const Q=_s(p[v[O]],_[A[O]]);if(Q!==0)return Q}return Vt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function Oy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=_r(s),a=_r(e),u=Vt(i.seconds,a.seconds);return u!==0?u:Vt(i.nanos,a.nanos)}function My(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=_s(i[u],a[u]);if(h)return h}return Vt(i.length,a.length)}function vs(s){return Yf(s)}function Yf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return vr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Yf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Yf(i.fields[d])}`;return u+"}"}(s.mapValue):pt(61005,{value:s})}function Po(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(s);return e?16+Po(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Po(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Sr(a.fields,(h,d)=>{u+=h.length+Po(d)}),u}(s.mapValue);default:throw pt(13486,{value:s})}}function Ff(s){return!!s&&"integerValue"in s}function yd(s){return!!s&&"arrayValue"in s}function xy(s){return!!s&&"nullValue"in s}function Uy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bo(s){return!!s&&"mapValue"in s}function k1(s){return(s?.mapValue?.fields||{})[H_]?.stringValue===G_}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=kl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function j1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===q1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=qe.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=kl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Bo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Bo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(kl(this.value))}}function Q_(s){const e=[];return Sr(s.fields,(i,a)=>{const u=new qe([i]);if(Bo(a)){const h=Q_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Fe(e,0,Tt.min(),Tt.min(),Tt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Fe(e,1,i,Tt.min(),a,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,Tt.min(),Tt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,Tt.min(),Tt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.position=e,this.inclusive=i}}function Ly(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=_s(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function zy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i="asc"){this.field=e,this.dir=i}}function H1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{}class Se extends Y_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Q1(e,i,a):i==="array-contains"?new X1(e,a):i==="in"?new K1(e,a):i==="not-in"?new Z1(e,a):i==="array-contains-any"?new J1(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Y1(e,a):new F1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_s(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(_s(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Y_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ai(e,i)}matches(e){return F_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F_(s){return s.op==="and"}function X_(s){return G1(s)&&F_(s)}function G1(s){for(const e of s.filters)if(e instanceof ai)return!1;return!0}function Xf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+vs(s.value);if(X_(s))return s.filters.map(e=>Xf(e)).join(",");{const e=s.filters.map(i=>Xf(i)).join(",");return`${s.op}(${e})`}}function K_(s,e){return s instanceof Se?function(a,u){return u instanceof Se&&a.op===u.op&&a.field.isEqual(u.field)&&ri(a.value,u.value)}(s,e):s instanceof ai?function(a,u){return u instanceof ai&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&K_(d,u.filters[p]),!0):!1}(s,e):void pt(19439)}function Z_(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`}(s):s instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(Z_).join(" ,")+"}"}(s):"Filter"}class Q1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ht.fromName(a.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class Y1 extends Se{constructor(e,i){super(e,"in",i),this.keys=J_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class F1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=J_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function J_(s,e){return(e.arrayValue?.values||[]).map(i=>ht.fromName(i.referenceValue))}class X1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&Zl(i.arrayValue,this.value)}}class K1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class Z1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class J1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Zl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Py(s,e=null,i=[],a=[],u=null,h=null,d=null){return new $1(s,e,i,a,u,h,d)}function _d(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Xf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>vs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>vs(a)).join(",")),e.Te=i}return e.Te}function vd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!H1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!zy(s.startAt,e.startAt)&&zy(s.endAt,e.endAt)}function Kf(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W1(s,e,i,a,u,h,d,p){return new uc(s,e,i,a,u,h,d,p)}function $_(s){return new uc(s)}function By(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tA(s){return s.collectionGroup!==null}function jl(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new be(qe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Jo(h,a))}),i.has(qe.keyField().canonicalString())||e.Ie.push(new Jo(qe.keyField(),a))}return e.Ie}function ti(s){const e=At(s);return e.Ee||(e.Ee=eA(e,jl(s))),e.Ee}function eA(s,e){if(s.limitType==="F")return Py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Jo(u.field,h)});const i=s.endAt?new Zo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zo(s.startAt.position,s.startAt.inclusive):null;return Py(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Zf(s,e,i){return new uc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function oc(s,e){return vd(ti(s),ti(e))&&s.limitType===e.limitType}function W_(s){return`${_d(ti(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>Z_(u)).join(", ")}]`),sc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>vs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>vs(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function cc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ht.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of jl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,v){const _=Ly(d,p,v);return d.inclusive?_<=0:_<0}(a.startAt,jl(a),u)||a.endAt&&!function(d,p,v){const _=Ly(d,p,v);return d.inclusive?_>=0:_>0}(a.endAt,jl(a),u))}(s,e)}function nA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tv(s){return(e,i)=>{let a=!1;for(const u of jl(s)){const h=iA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function iA(s,e,i){const a=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?_s(v,_):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new ie(ht.comparator);function xi(){return rA}const ev=new ie(ht.comparator);function Pl(...s){let e=ev;for(const i of s)e=e.insert(i.key,i);return e}function nv(s){let e=ev;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function oa(){return Hl()}function iv(){return Hl()}function Hl(){return new da(s=>s.toString(),(s,e)=>s.isEqual(e))}const aA=new ie(ht.comparator),sA=new be(ht.comparator);function It(...s){let e=sA;for(const i of s)e=e.add(i);return e}const lA=new be(Vt);function uA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fo(e)?"-0":e}}function rv(s){return{integerValue:""+s}}function oA(s,e){return U1(e)?rv(e):Ed(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function cA(s,e,i){return s instanceof $o?function(u,h){const d={fields:{[q_]:{stringValue:B_},[j_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&pd(h)&&(h=lc(h)),h&&(d.fields[k_]=h),{mapValue:d}}(i,e):s instanceof Jl?sv(s,e):s instanceof $l?lv(s,e):function(u,h){const d=av(u,h),p=qy(d)+qy(u.Ae);return Ff(d)&&Ff(u.Ae)?rv(p):Ed(u.serializer,p)}(s,e)}function hA(s,e,i){return s instanceof Jl?sv(s,e):s instanceof $l?lv(s,e):i}function av(s,e){return s instanceof Wo?function(a){return Ff(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class $o extends hc{}class Jl extends hc{constructor(e){super(),this.elements=e}}function sv(s,e){const i=uv(e);for(const a of s.elements)i.some(u=>ri(u,a))||i.push(a);return{arrayValue:{values:i}}}class $l extends hc{constructor(e){super(),this.elements=e}}function lv(s,e){let i=uv(e);for(const a of s.elements)i=i.filter(u=>!ri(u,a));return{arrayValue:{values:i}}}class Wo extends hc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function qy(s){return he(s.integerValue||s.doubleValue)}function uv(s){return yd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Jl&&u instanceof Jl||a instanceof $l&&u instanceof $l?ys(a.elements,u.elements,ri):a instanceof Wo&&u instanceof Wo?ri(a.Ae,u.Ae):a instanceof $o&&u instanceof $o}(s.transform,e.transform)}class dA{constructor(e,i){this.version=e,this.transformResults=i}}class xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class fc{}function ov(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Td(s.key,xn.none()):new tu(s.key,s.data,xn.none());{const i=s.data,a=nn.empty();let u=new be(qe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new br(s.key,a,new dn(u.toArray()),xn.none())}}function mA(s,e,i){s instanceof tu?function(u,h,d){const p=u.value.clone(),v=jy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof br?function(u,h,d){if(!qo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=jy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(cv(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Gl(s,e,i,a){return s instanceof tu?function(h,d,p,v){if(!qo(h.precondition,d))return p;const _=h.value.clone(),A=Hy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof br?function(h,d,p,v){if(!qo(h.precondition,d))return p;const _=Hy(h.fieldTransforms,v,d),A=d.data;return A.setAll(cv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(O=>O.field))}(s,e,i,a):function(h,d,p){return qo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function gA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=av(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function ky(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ys(a,u,(h,d)=>fA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends fc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class br extends fc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function jy(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,hA(d,p,i[u]))}return a}function Hy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,cA(h,d,e))}return a}class Td extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pA extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&mA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=iv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=ov(d,p);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(i,a)=>ky(i,a))&&ys(this.baseMutations,e.baseMutations,(i,a)=>ky(i,a))}}class Ad{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let u=function(){return aA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new Ad(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function EA(s){switch(s){case K.OK:return pt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function hv(s){if(s===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(s){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return pt(39323,{code:s})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new dr([4294967295,4294967295],0);function Gy(s){const e=TA().encode(s),i=new w_;return i.update(e),new Uint8Array(i.digest())}function Qy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new dr([i,a],0),new dr([u,h],0)]}class Sd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let u=e.add(i.multiply(dr.fromNumber(a)));return u.compare(AA)===1&&(u=new dr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Gy(e),[a,u]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Sd(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=Gy(e),[a,u]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new dc(Tt.min(),u,new ie(Vt),xi(),It())}}class eu{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i,a,u){this.be=e,this.removedTargetIds=i,this.key=a,this.De=u}}class fv{constructor(e,i){this.targetId=e,this.Ce=i}}class dv{constructor(e,i,a=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Yy{constructor(){this.ve=0,this.Fe=Fy(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),a=It();return this.Fe.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:pt(38017,{changeType:h})}}),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Fy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SA{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=Mo(),this.He=Mo(),this.Ye=new ie(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,u)=>{this.rt(u)&&i(u)})}st(e){const i=e.targetId,a=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Kf(h))if(a===0){const d=new ht(h.path);this.et(i,d,Fe.newNoDocument(d,Tt.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=vr(a).toUint8Array()}catch(v){if(v instanceof P_)return ps("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Sd(d,u,h)}catch(v){return ps(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),u++)}),u}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Kf(p.target)){const v=new ht(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Fe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=It();this.He.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const u=new dc(e,i,this.Ye,this.je,a);return this.je=xi(),this.Je=Mo(),this.He=Mo(),this.Ye=new ie(Vt),u}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Yy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yy),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mo(){return new ie(ht.comparator)}function Fy(){return new ie(ht.comparator)}const bA={asc:"ASCENDING",desc:"DESCENDING"},RA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wA={and:"AND",or:"OR"};class CA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Jf(s,e){return s.useProto3Json||sc(e)?e:{value:e}}function tc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function DA(s,e){return tc(s,e.toTimestamp())}function ei(s){return kt(!!s,49232),Tt.fromTimestamp(function(i){const a=_r(i);return new Wt(a.seconds,a.nanos)}(s))}function bd(s,e){return $f(s,e).canonicalString()}function $f(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function gv(s){const e=$t.fromString(s);return kt(Ev(e),10190,{key:e.toString()}),e}function Wf(s,e){return bd(s.databaseId,e.path)}function xf(s,e){const i=gv(e);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(yv(i))}function pv(s,e){return bd(s.databaseId,e)}function VA(s){const e=gv(s);return e.length===4?$t.emptyPath():yv(e)}function td(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xy(s,e,i){return{name:Wf(s,e),fields:i.value.mapValue.fields}}function IA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?K.UNKNOWN:hv(_.code);return new st(A,_.message||"")}(d);i=new dv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=xf(s,a.document.name),h=ei(a.document.updateTime),d=a.document.createTime?ei(a.document.createTime):Tt.min(),p=new nn({mapValue:{fields:a.document.fields}}),v=Fe.newFoundDocument(u,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new ko(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=xf(s,a.document),h=a.readTime?ei(a.readTime):Tt.min(),d=Fe.newNoDocument(u,h),p=a.removedTargetIds||[];i=new ko([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=xf(s,a.document),h=a.removedTargetIds||[];i=new ko([],h,u,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new vA(u,h),p=a.targetId;i=new fv(p,d)}}return i}function NA(s,e){let i;if(e instanceof tu)i={update:Xy(s,e.key,e.value)};else if(e instanceof Td)i={delete:Wf(s,e.key)};else if(e instanceof br)i={update:Xy(s,e.key,e.data),updateMask:qA(e.fieldMask)};else{if(!(e instanceof pA))return pt(16599,{Vt:e.type});i={verify:Wf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof $o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:DA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function OA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?ei(u.updateTime):ei(h);return d.isEqual(Tt.min())&&(d=ei(h)),new dA(d,u.transformResults||[])}(i,e))):[]}function MA(s,e){return{documents:[pv(s,e.path)]}}function xA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=pv(s,u);const h=function(_){if(_.length!==0)return vv(ai.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(V){return{field:cs(V.field),direction:zA(V.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Jf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:u}}function UA(s){let e=VA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(O){const V=_v(O);return V instanceof ai&&X_(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(O){return O.map(V=>function(Z){return new Jo(hs(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(i.orderBy));let p=null;i.limit&&(p=function(O){let V;return V=typeof O=="object"?O.value:O,sc(V)?null:V}(i.limit));let v=null;i.startAt&&(v=function(O){const V=!!O.before,Q=O.values||[];return new Zo(Q,V)}(i.startAt));let _=null;return i.endAt&&(_=function(O){const V=!O.before,Q=O.values||[];return new Zo(Q,V)}(i.endAt)),W1(e,u,d,h,p,"F",v,_)}function LA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _v(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Se.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(a=>_v(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function zA(s){return bA[s]}function PA(s){return RA[s]}function BA(s){return wA[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return qe.fromServerFormat(s.fieldPath)}function vv(s){return s instanceof Se?function(i){if(i.op==="=="){if(Uy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(xy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(xy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:PA(i.op),value:i.value}}}(s):s instanceof ai?function(i){const a=i.getFilters().map(u=>vv(u));return a.length===1?a[0]:{compositeFilter:{op:BA(i.op),filters:a}}}(s):pt(54877,{filter:s})}function qA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Ev(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,i,a,u,h=Tt.min(),d=Tt.min(),p=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.yt=e}}function jA(s){const e=UA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.Cn=new GA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(yr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class GA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be($t.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Tv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Es(0)}static cr(){return new Es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LruGarbageCollector",QA=1048576;function Jy([s,e],[i,a]){const u=Vt(s,i);return u===0?Vt(e,a):u}class YA{constructor(e){this.Ir=e,this.buffer=new be(Jy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Jy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(Zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rs(i)?it(Zy,"Ignoring IndexedDB error during garbage collection: ",i):await bs(i)}await this.Vr(3e5)})}}class XA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ac.ce);const a=new YA(i);return this.mr.forEachTarget(e,u=>a.Ar(u.sequenceNumber)).next(()=>this.mr.pr(e,u=>a.Ar(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ky)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,d=Date.now(),this.nthSequenceNumber(e,u))).next(O=>(a=O,p=Date.now(),this.removeTargets(e,a,i))).next(O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(O=>(_=Date.now(),us()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:O})))}}function KA(s,e){return new XA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.changes=new da(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Gl(a.mutation,u,dn.empty(),Wt.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const u=oa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Pl();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=xi();const d=Hl(),p=function(){return Hl()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof br)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Gl(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>p.set(_,new JA(A,d.get(_)??null))),p))}recalculateAndSaveOverlays(e,i){const a=Hl();let u=new ie((d,p)=>d-p),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||dn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const O=(u.get(p.batchId)||It()).add(v);u=u.insert(p.batchId,O)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,O=iv();A.forEach(V=>{if(!h.has(V)){const Q=ov(i.get(V),a.get(V));Q!==null&&O.set(V,Q),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,O))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(oa());let p=Fl,v=h;return d.next(_=>F.forEach(_,(A,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{v=v.insert(A,V)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,It())).next(A=>({batchId:p,changes:nv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(a=>{let u=Pl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,v=>{const _=function(O,V){return new uc(V,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((O,V)=>{d=d.insert(O,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let p=Pl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Gl(A.mutation,_,dn.empty(),Wt.now()),cc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return F.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ei(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(u){return{name:u.name,query:jA(u.bundledQuery),readTime:ei(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.overlays=new ie(ht.comparator),this.qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=oa(),h=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=oa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=oa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return F.resolve(p)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(a.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _A(i,a));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.Qr=new be(Ne.$r),this.Ur=new be(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Ne(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new ht(new $t([])),a=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.Ur.forEachInRange([a,u],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ht(new $t([])),a=new Ne(i,e),u=new Ne(i,e+1);let h=It();return this.Ur.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ht.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(Ne.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Zr=this.Zr.add(new Ne(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ei(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?gd:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,u],d=>{const p=this.Xr(d.Yr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Vt);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{a=a.add(p.Yr)})}),F.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ht.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ht(h),0);let p=new be(Vt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Yr)),!0)},d),F.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const u=this.Xr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return F.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Ne(i,0),u=this.Zr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.ri=e,this.docs=function(){return new ie(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=xi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=xi();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||N1(I1(A),a)<=0||(u.has(A.key)||cc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){pt(9500)}ii(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new rS(this)}getSize(e){return F.resolve(this.size)}}class rS extends ZA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.persistence=e,this.si=new da(i=>_d(i),vd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rd,this.targetCount=0,this.ai=Es.ur()}forEachTarget(e,i){return this.si.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),F.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Es(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Pr(i),F.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i){this.ui={},this.overlays={},this.ci=new ac(0),this.li=!1,this.li=!0,this.hi=new eS,this.referenceDelegate=e(this),this.Pi=new aS(this),this.indexManager=new HA,this.remoteDocumentCache=function(u){return new iS(u)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new kA(i),this.Ii=new WA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new tS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new nS(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new sS(this.ci.next());return this.referenceDelegate.Ei(),a(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(e,i){return F.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class sS extends M1{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ri=new Rd,this.Vi=null}static mi(e){return new wd(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(u=>this.fi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,a=>{const u=ht.fromPath(a);return this.gi(e,u).next(h=>{h||i.removeEntry(u,Tt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return F.or([()=>F.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ec{constructor(e,i){this.persistence=e,this.pi=new da(a=>L1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=KA(this,i)}static mi(e,i){return new ec(e,i)}Ei(){}di(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return F.forEach(this.pi,(a,u)=>this.br(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Po(e.data.value)),i}br(e,i,a){return F.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=u}static As(e,i){let a=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Cd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $0()?8:x1(Z0())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new lS;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,a,u){return a.documentReadCount<this.fs?(us()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(us()<=Ut.DEBUG&&it("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.gs*u?(us()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):F.resolve())}ys(e,i){if(By(i))return F.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Zf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,Zf(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,a,u){return By(i)||u.isEqual(Tt.min())?F.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(us()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.vs(e,d,i,V1(u,Fl)).next(p=>p))})}Ds(e,i){let a=new be(tv(e));return i.forEach((u,h)=>{cc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return us()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",os(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,u){return this.ps.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",oS=3e8;class cS{constructor(e,i,a,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ie(Vt),this.xs=new da(h=>_d(h),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $A(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function hS(s,e,i,a){return new cS(s,e,i,a)}async function Sv(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:p}))})})}function fS(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const O=_.batch,V=O.keys();let Q=F.resolve();return V.forEach(Z=>{Q=Q.next(()=>A.getEntry(v,Z)).next(nt=>{const J=_.docVersions.get(Z);kt(J!==null,48541),nt.version.compareTo(J)<0&&(O.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),Q.next(()=>p.mutationQueue.removeMutationBatch(v,O))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let v=It();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function bv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function dS(s,e){const i=At(s),a=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const p=[];e.targetChanges.forEach((A,O)=>{const V=u.get(O);if(!V)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,O).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,O)));let Q=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?Q=Q.withResumeToken(ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),u=u.insert(O,Q),function(nt,J,_t){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=oS?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(V,Q,A)&&p.push(i.Pi.updateTargetData(h,Q))});let v=xi(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(mS(h,d,e.documentUpdates).next(A=>{v=A.ks,_=A.qs})),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(O=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=u,h))}function mS(s,e,i){let a=It(),u=It();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=xi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(Dd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:u}})}function gS(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function pS(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Pi.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Pi.allocateTargetId(a).next(d=>(u=new cr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ms.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function ed(s,e,i){const a=At(s),u=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Rs(d))throw d;it(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(u.target)}function $y(s,e,i){const a=At(s);let u=Tt.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const O=At(v),V=O.xs.get(A);return V!==void 0?F.resolve(O.Ms.get(V)):O.Pi.getTargetData(_,A)}(a,d,ti(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:It())).next(p=>(yS(a,nA(e),p),{documents:p,Qs:h})))}function yS(s,e,i){let a=s.Os.get(e)||Tt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(e,a)}class Wy{constructor(){this.activeTargetIds=uA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _S{constructor(){this.Mo=new Wy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(t_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo=null;function nd(){return xo===null?xo=function(){return 268435456+Math.round(2147483648*Math.random())}():xo++,"0x"+xo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",ES={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${u}`,this.Wo=this.databaseId.database===Xo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Go(e,i,a,u,h){const d=nd(),p=this.zo(e,i.toUriEncodedString());it(Uf,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(p),A=cd(_);return this.Jo(e,p,v,a,A).then(O=>(it(Uf,`Received RPC '${e}' ${d}: `,O),O),O=>{throw ps(Uf,`RPC '${e}' ${d} failed with error: `,O,"url: ",p,"request:",a),O})}Ho(e,i,a,u,h,d){return this.Go(e,i,a,u,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}zo(e,i){const a=ES[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class SS extends TS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=nd();return new Promise((p,v)=>{const _=new C_;_.setWithCredentials(!0),_.listenOnce(D_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case zo.NO_ERROR:const O=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(O)),p(O);break;case zo.TIMEOUT:it(Qe,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:const V=_.getStatus();if(it(Qe,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const nt=function(_t){const gt=_t.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}(Z.status);v(new st(nt,Z.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(Qe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)})}T_(e,i,a){const u=nd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=N_(),p=I_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const O=d.createWebChannel(A,v);this.I_(O);let V=!1,Q=!1;const Z=new AS({Yo:J=>{Q?it(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(V||(it(Qe,`Opening RPC '${e}' stream ${u} transport.`),O.open(),V=!0),it(Qe,`RPC '${e}' stream ${u} sending:`,J),O.send(J))},Zo:()=>O.close()}),nt=(J,_t,gt)=>{J.listen(_t,ot=>{try{gt(ot)}catch(zt){setTimeout(()=>{throw zt},0)}})};return nt(O,zl.EventType.OPEN,()=>{Q||(it(Qe,`RPC '${e}' stream ${u} transport opened.`),Z.o_())}),nt(O,zl.EventType.CLOSE,()=>{Q||(Q=!0,it(Qe,`RPC '${e}' stream ${u} transport closed`),Z.a_(),this.E_(O))}),nt(O,zl.EventType.ERROR,J=>{Q||(Q=!0,ps(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))}),nt(O,zl.EventType.MESSAGE,J=>{if(!Q){const _t=J.data[0];kt(!!_t,16349);const gt=_t,ot=gt?.error||gt[0]?.error;if(ot){it(Qe,`RPC '${e}' stream ${u} received error:`,ot);const zt=ot.status;let Et=function(S){const w=pe[S];if(w!==void 0)return hv(w)}(zt),rt=ot.message;Et===void 0&&(Et=K.INTERNAL,rt="Unknown error status: "+zt+" with message "+ot.message),Q=!0,Z.a_(new st(Et,rt)),O.close()}else it(Qe,`RPC '${e}' stream ${u} received:`,_t),Z.u_(_t)}}),nt(p,V_.STAT_EVENT,J=>{J.stat===Gf.PROXY?it(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Gf.NOPROXY&&it(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s){return new CA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class wv{constructor(e,i,a,u,h,d,p,v){this.Mi=e,this.S_=a,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.D_===i&&this.G_(a,u)},a=>{e(()=>{const u=new st(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(u)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{a(()=>this.z_(u))}),this.stream.onMessage(u=>{a(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return it(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(it(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bS extends wv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=IA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ei(d.readTime):Tt.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=td(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Kf(v)?{documents:MA(h,v)}:{query:xA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=mv(h,d.resumeToken);const _=Jf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=tc(h,d.snapshotVersion.toTimestamp());const _=Jf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const a=LA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.q_(i)}}class RS extends wv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=OA(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=td(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>NA(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{}class CS extends wS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,$f(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())})}Ho(e,i,a,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,$f(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class DS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class VS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{ma(this)&&(it(fa,"Restarting streams for network reachability change."),await async function(v){const _=At(v);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gc(_)}(this))})}),this.Ra=new DS(a,u)}}async function gc(s){if(ma(s))for(const e of s.da)await e(!0)}async function nu(s){for(const e of s.da)await e(!1)}function Cv(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?Nd(i):ws(i).O_()&&Id(i,e))}function Vd(s,e){const i=At(s),a=ws(i);i.Ia.delete(e),a.O_()&&Dv(i,e),i.Ia.size===0&&(a.O_()?a.L_():ma(i)&&i.Ra.set("Unknown"))}function Id(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ws(s).Y_(e)}function Dv(s,e){s.Va.Ue(e),ws(s).Z_(e)}function Nd(s){s.Va=new SA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ws(s).start(),s.Ra.ua()}function Od(s){return ma(s)&&!ws(s).x_()&&s.Ia.size>0}function ma(s){return At(s).Ea.size===0}function Vv(s){s.Va=void 0}async function IS(s){s.Ra.set("Online")}async function NS(s){s.Ia.forEach((e,i)=>{Id(s,e)})}async function OS(s,e){Vv(s),Od(s)?(s.Ra.ha(e),Nd(s)):s.Ra.set("Unknown")}async function MS(s,e,i){if(s.Ra.set("Online"),e instanceof dv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Ia.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Ia.delete(p),u.Va.removeTarget(p))}(s,e)}catch(a){it(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nc(s,a)}else if(e instanceof ko?s.Va.Ze(e):e instanceof fv?s.Va.st(e):s.Va.tt(e),!i.isEqual(Tt.min()))try{const a=await bv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Dv(h,v);const O=new cr(A.target,v,_,A.sequenceNumber);Id(h,O)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){it(fa,"Failed to raise snapshot:",a),await nc(s,a)}}async function nc(s,e,i){if(!Rs(e))throw e;s.Ea.add(1),await nu(s),s.Ra.set("Offline"),i||(i=()=>bv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(fa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await gc(s)})}function Iv(s,e){return e().catch(i=>nc(s,i,e))}async function pc(s){const e=At(s),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gd;for(;xS(e);)try{const u=await gS(e.localStore,a);if(u===null){e.Ta.length===0&&i.L_();break}a=u.batchId,US(e,u)}catch(u){await nc(e,u)}Nv(e)&&Ov(e)}function xS(s){return ma(s)&&s.Ta.length<10}function US(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Nv(s){return ma(s)&&!Tr(s).x_()&&s.Ta.length>0}function Ov(s){Tr(s).start()}async function LS(s){Tr(s).ra()}async function zS(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function PS(s,e,i){const a=s.Ta.shift(),u=Ad.from(a,e,i);await Iv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await pc(s)}async function BS(s,e){e&&Tr(s).X_&&await async function(a,u){if(function(d){return EA(d)&&d!==K.ABORTED}(u.code)){const h=a.Ta.shift();Tr(a).B_(),await Iv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await pc(a)}}(s,e),Nv(s)&&Ov(s)}async function i_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),it(fa,"RemoteStore received new credentials");const a=ma(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await gc(i)}async function qS(s,e){const i=At(s);e?(i.Ea.delete(2),await gc(i)):e||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function ws(s){return s.ma||(s.ma=function(i,a,u){const h=At(i);return h.sa(),new bS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Xo:IS.bind(null,s),t_:NS.bind(null,s),r_:OS.bind(null,s),H_:MS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Od(s)?Nd(s):s.Ra.set("Unknown")):(await s.ma.stop(),Vv(s))})),s.ma}function Tr(s){return s.fa||(s.fa=function(i,a,u){const h=At(i);return h.sa(),new RS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:LS.bind(null,s),r_:BS.bind(null,s),ta:zS.bind(null,s),na:PS.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await pc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(fa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new Md(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Rs(s))return new st(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.ga=new ie(ht.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class Ts{constructor(e,i,a,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Ts(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class jS{constructor(){this.queries=a_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=At(i),h=u.queries;u.queries=a_(),h.forEach((d,p)=>{for(const v of p.Sa)v.onError(a)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function a_(){return new da(s=>W_(s),oc)}async function HS(s,e){const i=At(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(a=2):(h=new kS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=xd(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ud(i)}async function GS(s,e){const i=At(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function QS(s,e){const i=At(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(u)&&(a=!0);d.wa=u}}a&&Ud(i)}function YS(s,e,i){const a=At(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Ud(s){s.Ca.forEach(e=>{e.next()})}var id,s_;(s_=id||(id={})).Ma="default",s_.Cache="cache";class FS{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Ts(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.key=e}}class xv{constructor(e){this.key=e}}class XS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=tv(e),this.tu=new ds(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new r_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,O)=>{const V=u.get(A),Q=cc(this.query,O)?O:null,Z=!!V&&this.mutatedKeys.has(V.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;V&&Q?V.data.isEqual(Q.data)?Z!==nt&&(a.track({type:3,doc:Q}),J=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),J=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!V&&Q?(a.track({type:0,doc:Q}),J=!0):V&&!Q&&(a.track({type:1,doc:V}),J=!0,(v||_)&&(p=!0)),J&&(Q?(d=d.add(Q),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,O)=>function(Q,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return nt(Q)-nt(Z)}(A.type,O.type)||this.eu(A.doc,O.doc)),this.ou(a),u=u??!1;const p=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ts(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new xv(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new Mv(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ts.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ld="SyncEngine";class KS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ZS{constructor(e){this.key=e,this.hu=!1}}class JS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da(p=>W_(p),oc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ht.comparator),this.Au=new Map,this.Ru=new Rd,this.Vu={},this.mu=new Map,this.fu=Es.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $S(s,e,i=!0){const a=qv(s);let u;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Uv(a,e,i,!0),u}async function WS(s,e){const i=qv(s);await Uv(i,e,!0,!1)}async function Uv(s,e,i,a){const u=await pS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await tb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Cv(s.remoteStore,u),p}async function tb(s,e,i,a,u){s.pu=(O,V,Q)=>async function(nt,J,_t,gt){let ot=J.view.ru(_t);ot.Cs&&(ot=await $y(nt.localStore,J.query,!1).then(({documents:I})=>J.view.ru(I,ot)));const zt=gt&&gt.targetChanges.get(J.targetId),Et=gt&&gt.targetMismatches.get(J.targetId)!=null,rt=J.view.applyChanges(ot,nt.isPrimaryClient,zt,Et);return u_(nt,J.targetId,rt.au),rt.snapshot}(s,O,V,Q);const h=await $y(s.localStore,e,!0),d=new XS(e,h.Qs),p=d.ru(h.documents),v=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(p,s.isPrimaryClient,v);u_(s,i,_.au);const A=new KS(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function eb(s,e,i){const a=At(s),u=a.Tu.get(e),h=a.Iu.get(u.targetId);if(h.length>1)return a.Iu.set(u.targetId,h.filter(d=>!oc(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await ed(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Vd(a.remoteStore,u.targetId),rd(a,u.targetId)}).catch(bs)):(rd(a,u.targetId),await ed(a.localStore,u.targetId,!0))}async function nb(s,e){const i=At(s),a=i.Tu.get(e),u=i.Iu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Vd(i.remoteStore,a.targetId))}async function ib(s,e,i){const a=cb(s);try{const u=await function(d,p){const v=At(d),_=Wt.now(),A=p.reduce((Q,Z)=>Q.add(Z.key),It());let O,V;return v.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let Z=xi(),nt=It();return v.Ns.getEntries(Q,A).next(J=>{Z=J,Z.forEach((_t,gt)=>{gt.isValidDocument()||(nt=nt.add(_t))})}).next(()=>v.localDocuments.getOverlayedDocuments(Q,Z)).next(J=>{O=J;const _t=[];for(const gt of p){const ot=gA(gt,O.get(gt.key).overlayedDocument);ot!=null&&_t.push(new br(gt.key,ot,Q_(ot.value.mapValue),xn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,_t,p)}).next(J=>{V=J;const _t=J.applyToLocalDocumentSet(O,nt);return v.documentOverlayCache.saveOverlays(Q,J.batchId,_t)})}).then(()=>({batchId:V.batchId,changes:nv(O)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(Vt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_}(a,u.batchId,i),await iu(a,u.changes),await pc(a.remoteStore)}catch(u){const h=xd(u,"Failed to persist write");i.reject(h)}}async function Lv(s,e){const i=At(s);try{const a=await dS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Au.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?kt(d.hu,14607):u.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))}),await iu(i,a,e)}catch(a){await bs(a)}}function l_(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=At(d);v.onlineState=p;let _=!1;v.queries.forEach((A,O)=>{for(const V of O.Sa)V.va(p)&&(_=!0)}),_&&Ud(v)}(a.eventManager,e),u.length&&a.Pu.H_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function rb(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Au.get(e),h=u&&u.key;if(h){let d=new ie(ht.comparator);d=d.insert(h,Fe.newNoDocument(h,Tt.min()));const p=It().add(h),v=new dc(Tt.min(),new Map,new ie(Vt),d,p);await Lv(a,v),a.du=a.du.remove(h),a.Au.delete(e),zd(a)}else await ed(a.localStore,e,!1).then(()=>rd(a,e,i)).catch(bs)}async function ab(s,e){const i=At(s),a=e.batch.batchId;try{const u=await fS(i.localStore,e);Pv(i,a,null),zv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,u)}catch(u){await bs(u)}}async function sb(s,e,i){const a=At(s);try{const u=await function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(O=>(kt(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);Pv(a,e,i),zv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,u)}catch(u){await bs(u)}}function zv(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function Pv(s,e,i){const a=At(s);let u=a.Vu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Vu[a.currentUser.toKey()]=u}}function rd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||Bv(s,a)})}function Bv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Vd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),zd(s))}function u_(s,e,i){for(const a of i)a instanceof Mv?(s.Ru.addReference(a.key,e),lb(s,a)):a instanceof xv?(it(Ld,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Bv(s,a.key)):pt(19791,{wu:a})}function lb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Ld,"New document in limbo: "+i),s.Eu.add(a),zd(s))}function zd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ht($t.fromString(e)),a=s.fu.next();s.Au.set(a,new ZS(i)),s.du=s.du.insert(i,a),Cv(s.remoteStore,new cr(ti($_(i.path)),a,"TargetPurposeLimboResolution",ac.ce))}}async function iu(s,e,i){const a=At(s),u=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,v)=>{d.push(a.pu(v,e,i).then(_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Cd.As(v.targetId,_);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(u),await async function(v,_){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>F.forEach(_,V=>F.forEach(V.Es,Q=>A.persistence.referenceDelegate.addReference(O,V.targetId,Q)).next(()=>F.forEach(V.ds,Q=>A.persistence.referenceDelegate.removeReference(O,V.targetId,Q)))))}catch(O){if(!Rs(O))throw O;it(Dd,"Failed to update sequence numbers: "+O)}for(const O of _){const V=O.targetId;if(!O.fromCache){const Q=A.Ms.get(V),Z=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(V,nt)}}}(a.localStore,h))}async function ub(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){it(Ld,"User change. New user:",e.toKey());const a=await Sv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(v=>{v.reject(new st(K.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function ob(s,e){const i=At(s),a=i.Au.get(e);if(a&&a.hu)return It().add(a.key);{let u=It();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const p=i.Tu.get(d);u=u.unionWith(p.view.nu)}return u}}function qv(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rb.bind(null,e),e.Pu.H_=QS.bind(null,e.eventManager),e.Pu.yu=YS.bind(null,e.eventManager),e}function cb(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ab.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sb.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hS(this.persistence,new uS,e.initialUser,this.serializer)}Cu(e){return new Av(wd.mi,this.serializer)}Du(e){return new _S}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class hb extends ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof ec,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Av(a=>ec.mi(a,i),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>l_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ub.bind(null,this.syncEngine),await qS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jS}()}createDatastore(e){const i=mc(e.databaseInfo.databaseId),a=function(h){return new SS(h)}(e.databaseInfo);return function(h,d,p,v){return new CS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new VS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>l_(this.syncEngine,i,0),function(){return e_.v()?new e_:new vS}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const O=new JS(u,h,d,p,v,_);return A&&(O.gu=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=At(i);it(fa,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class db{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=xd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function zf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Sv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function o_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await mb(s);it(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>i_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>i_(e.remoteStore,u)),s._onlineComponents=e}async function mb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Ar,"Using user provided OfflineComponentProvider");try{await zf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ps("Error using user provided cache. Falling back to memory cache: "+i),await zf(s,new ic)}}else it(Ar,"Using default OfflineComponentProvider"),await zf(s,new hb(void 0));return s._offlineComponents}async function kv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Ar,"Using user provided OnlineComponentProvider"),await o_(s,s._uninitializedComponentsProvider._online)):(it(Ar,"Using default OnlineComponentProvider"),await o_(s,new ad))),s._onlineComponents}function gb(s){return kv(s).then(e=>e.syncEngine)}async function pb(s){const e=await kv(s),i=e.eventManager;return i.onListen=$S.bind(null,e.syncEngine),i.onUnlisten=eb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nb.bind(null,e.syncEngine),i}function yb(s,e,i={}){const a=new mr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new fb({next:V=>{A.Nu(),d.enqueueAndForget(()=>GS(h,O)),V.fromCache&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),O=new FS(p,A,{includeMetadataChanges:!0,qa:!0});return HS(h,O)}(await pb(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hv,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QA)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jv(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new _1;switch(a.type){case"firstParty":return new A1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=c_.get(i);a&&(it("ComponentProvider","Removing Datastore"),c_.delete(i),a.terminate())}(this),Promise.resolve()}}function _b(s,e,i,a={}){s=ha(s,yc);const u=cd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;u&&(Q0(`https://${p}`),K0("Firestore",!0)),h.host!==Hv&&h.host!==p&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:u,emulatorOptions:a};if(!Go(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=Y0(a.mockUserToken,s._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(O)}s._authCredentials=new v1(new M_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new _c(this.firestore,e,this._query)}}class Oe{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,Oe._jsonSchema))return new Oe(e,a||null,new ht($t.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:ye("string",Oe._jsonSchemaVersion),referencePath:ye("string")};class gr extends _c{constructor(e,i,a){super(e,i,$_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new ht(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function Uo(s,e,...i){if(s=pr(s),x_("collection","path",e),s instanceof yc){const a=$t.fromString(e,...i);return wy(a),new gr(s,null,a)}{if(!(s instanceof Oe||s instanceof gr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return wy(a),new gr(s.firestore,null,a)}}function sd(s,e,...i){if(s=pr(s),arguments.length===1&&(e=dd.newId()),x_("doc","path",e),s instanceof yc){const a=$t.fromString(e,...i);return Ry(a),new Oe(s,null,new ht(a))}{if(!(s instanceof Oe||s instanceof gr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return Ry(a),new Oe(s.firestore,s instanceof gr?s.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rv(this,"async_queue_retry"),this._c=()=>{const a=Lf();a&&it(d_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Lf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Lf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rs(e))throw e;it(d_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",g_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Md.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&pt(47125,{Pc:g_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function g_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ru extends yc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new m_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function vb(s,e){const i=typeof s=="object"?s:a1(),a=typeof s=="string"?s:Xo,u=t1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=H0("firestore");h&&_b(u,...h)}return u}function Gv(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Eb(s),s._firestoreClient}function Eb(s){const e=s._freezeSettings(),i=function(u,h,d,p){return new B1(u,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,jv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new db(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(ke.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:ye("string",Cn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:ye("string",ni._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ii(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:ye("string",ii._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^__.*__$/;class Ab{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class Qv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Yv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class Bd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Yv(this.Ac)&&Tb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||mc(e)}Cc(e,i,a,u=!1){return new Bd({Ac:e,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fv(s){const e=s._freezeSettings(),i=mc(s._databaseId);return new Sb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function bb(s,e,i,a,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);qd("Data must be an object, but it was:",d,a);const p=Xv(a,d);let v,_;if(h.merge)v=new dn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const V=ld(e,O,i);if(!d.contains(V))throw new st(K.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Zv(A,V)||A.push(V)}v=new dn(A),_=d.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,_=d.fieldTransforms;return new Ab(new nn(p),v,_)}class Ec extends Pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ec}}function Rb(s,e,i,a){const u=s.Cc(1,e,i);qd("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Sr(a,(v,_)=>{const A=kd(e,v,i);_=pr(_);const O=u.yc(A);if(_ instanceof Ec)h.push(A);else{const V=Tc(_,O);V!=null&&(h.push(A),d.set(A,V))}});const p=new dn(h);return new Qv(d,p,u.fieldTransforms)}function wb(s,e,i,a,u,h){const d=s.Cc(1,e,i),p=[ld(e,a,i)],v=[u];if(h.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)p.push(ld(e,h[V])),v.push(h[V+1]);const _=[],A=nn.empty();for(let V=p.length-1;V>=0;--V)if(!Zv(_,p[V])){const Q=p[V];let Z=v[V];Z=pr(Z);const nt=d.yc(Q);if(Z instanceof Ec)_.push(Q);else{const J=Tc(Z,nt);J!=null&&(_.push(Q),A.set(Q,J))}}const O=new dn(_);return new Qv(A,O,d.fieldTransforms)}function Tc(s,e){if(Kv(s=pr(s)))return qd("Unsupported field value:",e,s),Xv(s,e);if(s instanceof Pd)return function(a,u){if(!Yv(u.Ac))throw u.Sc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let v=Tc(p,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=pr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Wt.fromDate(a);return{timestampValue:tc(u.serializer,h)}}if(a instanceof Wt){const h=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:tc(u.serializer,h)}}if(a instanceof ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Cn)return{bytesValue:mv(u.serializer,a._byteString)};if(a instanceof Oe){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof ii)return function(d,p){return{mapValue:{fields:{[H_]:{stringValue:G_},[Ko]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ed(p.serializer,_)})}}}}}}(a,u);throw u.Sc(`Unsupported field value: ${md(a)}`)}(s,e)}function Xv(s,e){const i={};return z_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,(a,u)=>{const h=Tc(u,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Kv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof ni||s instanceof Cn||s instanceof Oe||s instanceof Pd||s instanceof ii)}function qd(s,e,i){if(!Kv(i)||!U_(i)){const a=md(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function ld(s,e,i){if((e=pr(e))instanceof vc)return e._internalPath;if(typeof e=="string")return kd(s,e);throw rc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Cb=new RegExp("[~\\*/\\[\\]]");function kd(s,e,i){if(e.search(Cb)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new vc(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new st(K.INVALID_ARGUMENT,p+s+v)}function Zv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($v("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Db extends Jv{data(){return super.data()}}function $v(s,e){return typeof e=="string"?kd(s,e):e instanceof vc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){const i=e.fields?.[Ko].arrayValue?.values?.map(a=>he(a.doubleValue));return new ii(i)}convertGeoPoint(e){return new ni(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=lc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);kt(Ev(a),9688,{name:e});const u=new Kl(a.get(1),a.get(3)),h=new ht(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ms extends Jv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field($v("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",ms._jsonSchema={type:ye("string",ms._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class jo extends ms{data(e={}){return super.data(e)}}class gs{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Lo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new jo(this._firestore,this._userDataWriter,a.key,a,new Lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new jo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Lo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new jo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Lo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Ob(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ob(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}gs._jsonSchemaVersion="firestore/querySnapshot/1.0",gs._jsonSchema={type:ye("string",gs._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class Mb extends Ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function Pf(s){s=ha(s,_c);const e=ha(s.firestore,ru),i=Gv(e),a=new Mb(e);return Vb(s._query),yb(i,s._query).then(u=>new gs(e,a,s,u))}function xb(s,e,i,...a){s=ha(s,Oe);const u=ha(s.firestore,ru),h=Fv(u);let d;return d=typeof(e=pr(e))=="string"||e instanceof vc?wb(h,"updateDoc",s._key,e,i,a):Rb(h,"updateDoc",s._key,e),jd(u,[d.toMutation(s._key,xn.exists(!0))])}function Ub(s){return jd(ha(s.firestore,ru),[new Td(s._key,xn.none())])}function Lb(s,e){const i=ha(s.firestore,ru),a=sd(s),u=Nb(s.converter,e);return jd(i,[bb(Fv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,xn.exists(!1))]).then(()=>a)}function jd(s,e){return function(a,u){const h=new mr;return a.asyncQueue.enqueueAndForget(async()=>ib(await gb(a),u,h)),h.promise}(Gv(s),e)}(function(e,i=!0){(function(u){Ss=u})(r1),Yo(new Ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new ru(new E1(a.getProvider("auth-internal")),new S1(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(_.options.projectId,A)}(d,u),d);return h={useFetchStreams:i,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),fs(Ty,Ay,e),fs(Ty,Ay,"esm2020")})();const zb={apiKey:"AIzaSyClaAckNGehLO70upvTGx-3MH0R2BF9fEY",authDomain:"reportapp-585ec.firebaseapp.com",projectId:"reportapp-585ec",storageBucket:"reportapp-585ec.firebasestorage.app",messagingSenderId:"1013295658594",appId:"1:1013295658594:web:3ea0a766cf91cbf048833b",measurementId:"G-MGJC15CQHM"},Pb=S_(zb),ls=vb(Pb);function Bb(){const[s,e]=$n.useState("create"),[i,a]=$n.useState("create"),[u,h]=$n.useState(null),[d,p]=$n.useState([]),[v,_]=$n.useState([]),[A,O]=$n.useState([]),[V,Q]=$n.useState({user:"",issues:"",date:"",hours:"",comment:"",status:"Pending"});$n.useEffect(()=>{s==="create"&&(Z(),J())},[s]),$n.useEffect(()=>{s==="list"&&nt()},[s]);const Z=async()=>{const I=(await Pf(Uo(ls,"users"))).docs.map(S=>({id:S.id,...S.data()}));_(I)},nt=async()=>{const I=(await Pf(Uo(ls,"reports"))).docs.map(S=>({id:S.id,...S.data()}));p(I)},J=async()=>{const I=(await Pf(Uo(ls,"statuses"))).docs.map(S=>({id:S.id,...S.data()}));O(I)},_t=rt=>{Q({...V,[rt.target.name]:rt.target.value})},gt=()=>{Q({user:"",issues:"",date:"",hours:"",comment:"",status:"Pending"}),a("create"),h(null)},ot=async()=>{if(!V.user||!V.issues||!V.date||!V.hours)return alert("Please fill required fields!");try{if(i==="create")await Lb(Uo(ls,"reports"),V),alert("Report created!");else if(i==="edit"&&u){const rt=sd(ls,"reports",u);await xb(rt,V),alert("Report updated!")}gt(),e("list"),nt()}catch(rt){console.error("Error saving document: ",rt)}},zt=rt=>{Q(rt),a("edit"),h(rt.id),e("create")},Et=async rt=>{if(window.confirm("Are you sure you want to delete this report?"))try{await Ub(sd(ls,"reports",rt)),alert("Report deleted!"),nt()}catch(I){console.error("Error deleting document: ",I)}};return ft.jsxs("div",{className:"container",children:[ft.jsx("h1",{children:"Work Report"}),ft.jsxs("div",{className:"tabs",children:[ft.jsx("button",{className:s==="create"?"active":"createActive",onClick:()=>{gt(),e("create")},children:i==="edit"?"Edit Report":"Create"}),ft.jsx("button",{className:s==="list"?"active":"listActive",onClick:()=>e("list"),children:"List"})]}),s==="create"&&ft.jsxs("div",{className:"card",children:[ft.jsxs("label",{children:["User*",ft.jsxs("select",{name:"user",value:V.user,onChange:_t,children:[ft.jsx("option",{value:"",children:"-- Select user --"}),v.map(rt=>ft.jsx("option",{value:rt.name,children:rt.name},rt.id))]})]}),ft.jsxs("label",{children:["Issues*",ft.jsx("input",{type:"text",name:"issues",value:V.issues,onChange:_t,placeholder:"Short issues"})]}),ft.jsxs("label",{children:["Date*",ft.jsx("input",{type:"date",name:"date",value:V.date,onChange:_t})]}),ft.jsxs("label",{children:["Estimated Hours*",ft.jsxs("select",{name:"hours",value:V.hours,onChange:_t,children:[ft.jsx("option",{value:"",children:"-- Select hours --"}),[...Array(12)].map((rt,I)=>ft.jsxs("option",{value:I+1,children:[I+1," hour(s)"]},I+1))]})]}),ft.jsxs("label",{children:["Comment",ft.jsx("textarea",{name:"comment",value:V.comment,onChange:_t,placeholder:"Detailed comment"})]}),ft.jsxs("label",{children:["Status*",ft.jsxs("select",{name:"status",value:V.status,onChange:_t,children:[ft.jsx("option",{value:"",children:"-- Select status --"}),A.map(rt=>ft.jsx("option",{value:rt.name,children:rt.name},rt.id))]})]}),ft.jsxs("div",{className:"actions",children:[ft.jsx("button",{onClick:ot,className:"btn primary",children:i==="edit"?"Update":"Create"}),ft.jsx("button",{onClick:gt,className:"btn secondary",children:"Reset"})]})]}),s==="list"&&ft.jsx("div",{className:"card list-card",children:d.length===0?ft.jsx("p",{children:"No reports yet."}):ft.jsxs("table",{children:[ft.jsx("thead",{children:ft.jsxs("tr",{children:[ft.jsx("th",{children:"User"}),ft.jsx("th",{children:"Issues"}),ft.jsx("th",{children:"Date"}),ft.jsx("th",{children:"Hours"}),ft.jsx("th",{children:"Status"}),ft.jsx("th",{children:"Comment"}),ft.jsx("th",{children:"Actions"})]})}),ft.jsx("tbody",{children:d.map(rt=>ft.jsxs("tr",{children:[ft.jsx("td",{children:rt.user}),ft.jsx("td",{children:rt.issues}),ft.jsx("td",{children:rt.date}),ft.jsx("td",{children:rt.hours}),ft.jsx("td",{children:rt.status}),ft.jsx("td",{children:rt.comment}),ft.jsxs("td",{children:[ft.jsx("button",{className:"action-btn edit",onClick:()=>zt(rt),children:"Edit"}),ft.jsx("button",{className:"action-btn delete",onClick:()=>Et(rt.id),children:"Delete"})]})]},rt.id))})]})})]})}O0.createRoot(document.getElementById("root")).render(ft.jsx($n.StrictMode,{children:ft.jsx(Bb,{})}));
